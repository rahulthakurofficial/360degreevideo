{
  "version": 3,
  "sources": ["../../panolens/build/panolens.module.js"],
  "sourcesContent": ["import { Cache, Texture, RGBFormat, RGBAFormat, CubeTexture, EventDispatcher, VideoTexture, LinearFilter, SpriteMaterial, Sprite, Color, CanvasTexture, DoubleSide, Vector3, Mesh, BackSide, Object3D, SphereBufferGeometry, MeshBasicMaterial, BufferGeometry, BufferAttribute, ShaderLib, BoxBufferGeometry, ShaderMaterial, Matrix4, Vector2, Quaternion, PlaneBufferGeometry, Math as Math$1, MOUSE, PerspectiveCamera, OrthographicCamera, Euler, Scene, StereoCamera, WebGLRenderTarget, NearestFilter, WebGLRenderer, Raycaster, Frustum, REVISION as REVISION$1 } from 'three';\n\nconst version=\"0.12.1\";const dependencies={three:\"^0.105.2\"};\n\n/**\n * REVISION\n * @module REVISION\n * @example PANOLENS.REVISION\n * @type {string} revision\n */\nconst REVISION = version.split( '.' )[ 1 ];\n\n/**\n * VERSION\n * @module VERSION\n * @example PANOLENS.VERSION\n * @type {string} version\n */\nconst VERSION = version;\n\n/**\n * THREEJS REVISION\n * @module THREE_REVISION\n * @example PANOLENS.THREE_REVISION\n * @type {string} threejs revision\n */\nconst THREE_REVISION = dependencies.three.split( '.' )[ 1 ];\n\n/**\n * THREEJS VERSION\n * @module THREE_VERSION\n * @example PANOLENS.THREE_VERSION\n * @type {string} threejs version\n */\nconst THREE_VERSION = dependencies.three.replace( /[^0-9.]/g, '' );\n\n/**\n * CONTROLS\n * @module CONTROLS\n * @example PANOLENS.CONTROLS.ORBIT\n * @property {number} ORBIT 0\n * @property {number} DEVICEORIENTATION 1\n */\nconst CONTROLS = { ORBIT: 0, DEVICEORIENTATION: 1 };\n\n/**\n * MODES\n * @module MODES\n * @example PANOLENS.MODES.UNKNOWN\n * @property {number} UNKNOWN 0\n * @property {number} NORMAL 1\n * @property {number} CARDBOARD 2\n * @property {number} STEREO 3\n */\nconst MODES = { UNKNOWN: 0, NORMAL: 1, CARDBOARD: 2, STEREO: 3 };\n\n/**\n * Data URI Images\n * @module DataImage\n * @example PANOLENS.DataImage.Info\n * @property {string} Info Information Icon\n * @property {string} Arrow Arrow Icon\n * @property {string} FullscreenEnter Fullscreen Enter Icon\n * @property {string} FullscreenLeave Fullscreen Leave Icon\n * @property {string} VideoPlay Video Play Icon\n * @property {string} VideoPause Video Pause Icon\n * @property {string} WhiteTile White Tile Icon\n * @property {string} Setting Settings Icon\n * @property {string} ChevronRight Chevron Right Icon\n * @property {string} Check Check Icon\n * @property {string} ViewIndicator View Indicator Icon\n */\nconst DataImage = {\n    Info: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABAAAAAQADq8/hgAAADBklEQVR42u2bP08UQRiHnzFaSYCI/xoksdBIqGwIiYWRUBISExpCQ0ej38FWOmlIKKhoMPEbaCxsrrHiYrQgOSlQEaICrT+LHSPZzNzt3s3c3Hn7lHvLzvv82L2dm30XKioqKgYY062BJF0HpoA7wARwBbhsPz4DjoEG8AnYNcZ8Sx1Op8IXJM1KWpdUV3nq9m9nJV1I7VNGfEzSM0mNNqR9NOwxx1L7NRMflbQm6SSgeJ4TO8Zoat+8/LKkg4jieQ4kLaf2RtKwpJ0uiufZkTScSn5S0l5C+b/sSZrstvyMpKPU5uc4kjTTjkvpeYCkaeA1/+7hvcIZMGuMqUULQNIU8Aa4ltrWwyHwyBizGzwASSPAe+B2assW7AH3jTE/i+xcZoa12Qfy2Bo3i+5cKABl99zF1GYlWFTBeULLS0DZrOsDcDNggTXgc27bLWA64BhfgHvGmB8dHUXZ1DM0S45xliKMs9bKr+klIOkqsBrwv9JtVq1DewEAT4Ch1BYdMGQdygeg7Df4SmqDAKyoyXpCszPgITCeuvoAjFuX0gE8jljUdv7bCtiOOJ7XpdUZ8L/gdXHOA5QtYH5NXXVgbrgWWn1nwFTqaiPgdPIFcDd1tRFwOl307DwRuZgXwLvctgfA04hjOp18AcReZ6sZY16e3yDpUuQxnU6+S2AkcjEpcDr1zxOXSPgCKLSa0mc4nXwB/EpdbQScTr4AGqmrjYDTyRfAx9TVRsDp5Aug8LJyH+F0cgZg58z11BUHpO5ruGh2G3ybuuqAeF2aBfAqddUB8bq0OgP2U1cegH3aOQOMMb+BrdTVB2DLupQLwLIOnKY26IBT6+ClaQDGmO/ARmqLDtiwDn7HVkcY+EdjNoTlCI+tYhO2iUppm6HKslPUq2qQKHpUe8AFsjaUXuUQWCgqXyoAG8IuME/WkNRrnAHzZfqDSgdgQ6gBc2Td3b3CMTBXtkOsIzTIjZLnQhjcVtlcEIPZLJ0LoVvt8s/Va+3yuSAG84UJRxB98cpM9dJURUVFxSDzBxKde4Lk3/h2AAAAAElFTkSuQmCC', \n    Arrow: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABAAAAAQADq8/hgAAADPklEQVR42u2bMUscQRiG30/SRaJEI1ZKUiRErNIELRUbQYSAnX8hpVUgkDYp0wgWVjYW+QcJaQzYpLojJIXhtDDEKBpj65ti58ixmdmb2ZvZ7+T2AUHudmfmeXf2bnb3O6CmpqZmgJGqOiI5AWAWwEMA0wDuArht3r4CcAagBeAbgIaI/NQOp1fhIZKLJN+SbDKcptl3keSQtk+I+BjJVyRbJaRdtEybY9p+ReKjJN+QvIwonufS9DGq7ZuXXyd5nFA8zzHJdW1vkLxDcrdC8Ty7JO9oyc+QPFCUb3NAcqZq+TmSp9rmHZySnCvjErwOIPkUwHv8+w7vF64ALIrIfrIASM4C+ADgnratgxMACyLSiB4AyREAnwE80LbswgGAJyJy4bNxyApr6wbIw4xxy3djrwCYfeeuaZsFsEbPdULXU4DZqusLgMkEA21P05EEbf8A8FhEzos28pkBLxLKL5s/r/M1kEkz9vKQHGeatf05yfmOfubNa7G5JDle5NhtBjwHMBz5yFwAWBaRT+0XzP8pZsKwcQiH2fX8Ycojb+kzxUw4ZJn7CSQXqpRPHMKCq7+iZJ71Mvdy/DftXSQ6HcJdSDaqPPKW/mPOBO+lcbvzCU35RCFM2PpwnQKzZQfdgfe0dxH5dLA6uQJ4pC2fIASrkyuA6X6QjxyC1ckVQNn7bNHlI4ZgdXIFUObiJJl8pBCsTjGfuIwA2Cv4FN7xbYjkjqsRAHuIePXoCiDF1Zk2VidXAL+1R5sAq5MrgJb2aBNgdXIF8FV7tAmwOrkCCFs73wysTtYATHFCU3vEEWm6Ci6KvgY/ao86Ik6XogDeaY86Ik6XbjPgSHvkEThCwQy45XpDRK5JbgN4GWkgUyR9H65MRQxgW0SunZ5FezK7pfwd8e8MV8UfAPdF5Jdrg8JrAbPjprZFD2wWyQP6j8ZSEufRmGlgQ9umBBvd5IOgbjFUKLu+XnWBhG+rpsFVZGUo/coJgFVf+aAATAgNACvICpL6jSsAKyH1QcEBmBD2ASwhq+7uF84ALIVWiPUEB7lQsiOEwS2VzQUxmMXSuRCqKpd/zX4rl88FMZg/mLAEcSN+MlP/aKqmpqZmkPkL0hSjwOpNKxwAAAAASUVORK5CYII=',\n    FullscreenEnter: 'data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4KICAgIDxwYXRoIGQ9Ik03IDE0SDV2NWg1di0ySDd2LTN6bS0yLTRoMlY3aDNWNUg1djV6bTEyIDdoLTN2Mmg1di01aC0ydjN6TTE0IDV2MmgzdjNoMlY1aC01eiIvPgo8L3N2Zz4=',\n    FullscreenLeave: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggc3R5bGU9ImZpbGw6I2ZmZiIgZD0iTTE0LDE0SDE5VjE2SDE2VjE5SDE0VjE0TTUsMTRIMTBWMTlIOFYxNkg1VjE0TTgsNUgxMFYxMEg1VjhIOFY1TTE5LDhWMTBIMTRWNUgxNlY4SDE5WiIgLz48L3N2Zz4=',\n    VideoPlay: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggc3R5bGU9ImZpbGw6I2ZmZiIgZD0iTTgsNS4xNFYxOS4xNEwxOSwxMi4xNEw4LDUuMTRaIiAvPjwvc3ZnPg==',\n    VideoPause: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggc3R5bGU9ImZpbGw6I2ZmZiIgZD0iTTE0LDE5LjE0SDE4VjUuMTRIMTRNNiwxOS4xNEgxMFY1LjE0SDZWMTkuMTRaIiAvPjwvc3ZnPg==',\n    WhiteTile: 'data:image/png;base64,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',\n    Setting: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABAAAAAQADq8/hgAAADn0lEQVR42u2bzUsVURjGnyO6CPzAMnTjppAo3LTwH1CqTfaxbeOiRS37A0wXtROFVi1aRBs3LWohSIGbQAQXViBGRhG0UIRKUCpK7q/FnOB2uc6cOXNmRnGe3eW+H8/7zLln3vNxpQoVKlQ4wjBFJAFOSRqX1O7osivpvjHmU1nChBZglvSYLYJbS0EanCvIJzWK+gnsyH34/8OuMaYjb265jwCgz6N4SWq3vodbAEmnS/KtBDgoAgyU5BteAOAkMAPcBroc7PskDWfgN+wyDwBdltMMcDI3tYBnde/pHeARMNTErgd4APzweP834oeN1dMkz5DlsFNn/yyv4kdiSK4At4AO4CqwGaDwRmza2B0210qM7YhrXU59ANAq6bWkwQTTn5KO5fIE0uVYlXTeGLOXFMx1DrjlULwKKN41x6DlnIjEEQCckPRe0okCiguJr5LOGGO+xhm5jICJQ1i8LOeJJKPYEQAMKvrtt5ZdjSf2FM0Fq/sZJI2A6UNcvCz36TiDfUcAcE1SPu/U6Mm8k/TFfu6XdFb5iX3dGPM8lQfwNod3+TowBnQ3yddtv1vPIe+b1JIBiwEJ1IAJ208k5W21trWA+V/5CHAcmAtU/A2P/DcCiTAHHE8tgCVhgLvAXgYCk17Jo/yTGfLuWe7Zd72AC8CWB4n3OAz7mLytNkZabAEXMhfeQKYfWEpJZCxA3rGUOZeA/qDF15FpAz47EvlNk9neI2e3jeWCz0BbmvipNkSMMX8kuSZYM8Z8zyqAjbHmaN5mOeYjgIXrU93MWrxHrNQjrqiDkQMLHwG+OdqF3NN3jeXKzU8AoF1SzdH8XKhJUO7HZDXLMbwAwICkJUULFxe0SbqSVQAbw3Xi7Ze0ZLmGAzAKbHs0JGU1QtvAaIjCW4B7ZOvJy2qFa5a730RPtBiaz0CgnkiZi6F5fBZDVMvho7EhcuS3xJJ2hV9IupgTqaLw0hhzab8vq23xOG/r+LDsKjLgYVzxUnU0ltwK2wDezUyJmEwqXgp/PL4rvxthaeCSI+zxuA10J8ZkWdJNSb2SLkvayKHwDRu71+ZajrG941J8agALDQ3GU/a/IvMkYCPzmCbtLNEVmacNtgs5iP9fYVNEV1Q6Hez7yNZSL+J2SarTcpqiyV2iUkG0IvPFvbz5FbEn+KEk3wMjwMeSfCsBXFBdly9CAPk9ydyffpECuB5tZfVJjaKWueOSfinln6YK4lahQoUKRxd/AcRPGTcQCAUQAAAAAElFTkSuQmCC',\n    ChevronRight: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTguNTksMTYuNThMMTMuMTcsMTJMOC41OSw3LjQxTDEwLDZMMTYsMTJMMTAsMThMOC41OSwxNi41OFoiIC8+PC9zdmc+',\n    Check: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTIxLDdMOSwxOUwzLjUsMTMuNUw0LjkxLDEyLjA5TDksMTYuMTdMMTkuNTksNS41OUwyMSw3WiIgLz48L3N2Zz4=',\n    ViewIndicator: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBpZD0idmlldy1pbmRpY2F0b3IiIGhlaWdodD0iMzAiIHdpZHRoPSIzMCIgdmlld0JveD0iLTIuNSAtMSAzMCAzMCI+Cgk8c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLW1pdGVybGltaXQ6MTA7ZmlsbDpub25lO30uc3Qxe3N0cm9rZS13aWR0aDo2O3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCTwvc3R5bGU+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNIDEyLjUgMCBBIDEyLjUgMTIuNSAwIDAgMCAtMTIuNSAwIEEgMTIuNSAxMi41IDAgMCAwIDEyLjUgMCIgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwxMywxNS41KSI+PC9wYXRoPgoJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0gMTMgMCBMIDEwIDIgTCAxNiAyIFoiPjwvcGF0aD4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNIDIgMCBBIDIgMiAwIDAgMCAtMiAwIEEgMiAyIDAgMCAwIDIgMCIgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwxMywxNS41KSI+PC9wYXRoPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGlkPSJpbmRpY2F0b3IiIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsMTMsMTUuNSkiPjwvcGF0aD4KCTwvZz4KPC9zdmc+'\n};\n\n/**\n * @module ImageLoader\n * @description Image loader with progress based on {@link https://github.com/mrdoob/three.js/blob/master/src/loaders/ImageLoader.js}\n */\nconst ImageLoader = {\n\n    /**\n     * Load image\n     * @example PANOLENS.ImageLoader.load( IMAGE_URL )\n     * @method load\n     * @param  {string}   url        - An image url\n     * @param  {function} onLoad     - On load callback\n     * @param  {function} onProgress - In progress callback\n     * @param  {function} onError    - On error callback\n     */\n    load: function ( url, onLoad = () => {}, onProgress = () => {}, onError = () => {} ) {\n\n        // Enable cache\n        Cache.enabled = true;\n\n        let cached, request, arrayBufferView, blob, urlCreator, image, reference;\n\n        // Reference key\n        for (let iconName in DataImage) {\n\n            if (DataImage.hasOwnProperty(iconName) && url === DataImage[iconName]) {\n\n                reference = iconName;\n\n            }\n\n        }\n\n        // Cached\n        cached = Cache.get(reference ? reference : url);\n\n        if (cached !== undefined) {\n\n            if (onLoad) {\n\n                setTimeout(function () {\n\n                    onProgress({loaded: 1, total: 1});\n                    onLoad(cached);\n\n                }, 0);\n\n            }\n\n            return cached;\n\n        }\n\n        // Construct a new XMLHttpRequest\n        urlCreator = window.URL || window.webkitURL;\n        image = document.createElementNS('http://www.w3.org/1999/xhtml', 'img');\n\n        // Add to cache\n        Cache.add(reference ? reference : url, image);\n\n        const onImageLoaded = () => {\n\n            urlCreator.revokeObjectURL(image.src);\n            onLoad(image);\n\n        };\n\n        if (url.indexOf('data:') === 0) {\n\n            image.addEventListener('load', onImageLoaded, false);\n            image.src = url;\n            return image;\n        }\n\n        image.crossOrigin = this.crossOrigin !== undefined ? this.crossOrigin : '';\n\n        request = new window.XMLHttpRequest();\n        request.open('GET', url, true);\n        if (process.env.npm_lifecycle_event !== 'test') {\n            /* istanbul ignore next */\n            request.onreadystatechange = function () {\n                if (this.readyState === 4 && this.status >= 400) {\n                    onError();\n                }\n            };\n        }\n        request.responseType = 'arraybuffer';\n        request.addEventListener( 'error', onError );\n        request.addEventListener( 'progress', event => {\n\n            if  ( !event ) return;\n\n            const { loaded, total, lengthComputable } = event;\n            \n            if ( lengthComputable ) {\n\t\n                onProgress( { loaded, total } );\n\t\n            }\n\t\n        } );\n        \n        request.addEventListener( 'loadend', event => {\n\n            if  ( !event ) return;\n            const { currentTarget: { response } } = event;\n\n            arrayBufferView = new Uint8Array( response );\n            blob = new window.Blob( [ arrayBufferView ] );\n\t\t\t\t\n            image.addEventListener( 'load', onImageLoaded, false );\n            image.src = urlCreator.createObjectURL( blob );\n\t\n        } );\n\t\n        request.send(null);\n\t\n    }\n\n};\n\n/**\n * @module TextureLoader\n * @description Texture loader based on {@link https://github.com/mrdoob/three.js/blob/master/src/loaders/TextureLoader.js}\n */\nconst TextureLoader = {\n\n    /**\n     * Load image texture\n     * @example PANOLENS.TextureLoader.load( IMAGE_URL )\n     * @method load\n     * @param  {string}   url        - An image url\n     * @param  {function} onLoad     - On load callback\n     * @param  {function} onProgress - In progress callback\n     * @param  {function} onError    - On error callback\n     * @return {THREE.Texture}   \t - Image texture\n     */\n    load: function ( url, onLoad = () => {}, onProgress, onError ) {\n\n        var texture = new Texture(); \n\n        ImageLoader.load( url, function ( image ) {\n\n            texture.image = image;\n\n            // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n            const isJPEG = url.search( /\\.(jpg|jpeg)$/ ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n            texture.format = isJPEG ? RGBFormat : RGBAFormat;\n            texture.needsUpdate = true;\n\n            onLoad( texture );\n\n        }, onProgress, onError );\n\n        return texture;\n\n    }\n\n};\n\n/**\n * @module CubeTextureLoader\n * @description Cube Texture Loader based on {@link https://github.com/mrdoob/three.js/blob/master/src/loaders/CubeTextureLoader.js}\n */\nconst CubeTextureLoader = {\n\n    /**\n     * Load 6 images as a cube texture\n     * @example PANOLENS.CubeTextureLoader.load( [ 'px.png', 'nx.png', 'py.png', 'ny.png', 'pz.png', 'nz.png' ] )\n     * @method load\n     * @param  {array}   urls        - array of 6 urls to images, one for each side of the CubeTexture. The urls should be specified in the following order: pos-x, neg-x, pos-y, neg-y, pos-z, neg-z\n     * @param  {function} onLoad     - On load callback\n     * @param  {function} onProgress - In progress callback\n     * @param  {function} onError    - On error callback\n     * @return {THREE.CubeTexture}   - Cube texture\n     */\n    load: function ( urls, onLoad = () => {}, onProgress = () => {}, onError ) {\n\n\t   var texture, loaded, progress, all, loadings;\n\n\t   texture = new CubeTexture( [] );\n\n\t   loaded = 0;\n\t   progress = {};\n\t   all = {};\n\n\t   urls.map( function ( url, index ) {\n\n\t\t   ImageLoader.load( url, function ( image ) {\n\n\t\t\t   texture.images[ index ] = image;\n\n\t\t\t   loaded++;\n\n\t\t\t   if ( loaded === 6 ) {\n\n\t\t\t\t   texture.needsUpdate = true;\n\n\t\t\t\t   onLoad( texture );\n\n\t\t\t   }\n\n\t\t   }, function ( event ) {\n\n\t\t\t   progress[ index ] = { loaded: event.loaded, total: event.total };\n\n\t\t\t   all.loaded = 0;\n\t\t\t   all.total = 0;\n\t\t\t   loadings = 0;\n\n\t\t\t   for ( var i in progress ) {\n\n\t\t\t\t   loadings++;\n\t\t\t\t   all.loaded += progress[ i ].loaded;\n\t\t\t\t   all.total += progress[ i ].total;\n\n\t\t\t   }\n\n\t\t\t   if ( loadings < 6 ) {\n\n\t\t\t\t   all.total = all.total / loadings * 6;\n\n\t\t\t   }\n\n\t\t\t   onProgress( all );\n\n\t\t   }, onError );\n\n\t   } );\n\n\t   return texture;\n\n    }\n\n};\n\n/**\n * @classdesc User Media\n * @constructor\n * @param {object} [constraints={ video: { width: { ideal: 1920 }, height: { ideal: 1080 }, facingMode: { exact: 'environment' } }, audio: false }]\n */\nfunction Media ( constraints ) {\n\n    const defaultConstraints = { video: { width: { ideal: 1920 }, height: { ideal: 1080 }, facingMode: { exact: 'environment' } }, audio: false };\n\n    this.constraints = Object.assign( defaultConstraints, constraints );\n\n    this.container = null;\n    this.scene = null;\n    this.element = null;\n    this.devices = [];\n    this.stream = null;\n    this.ratioScalar = 1;\n    this.videoDeviceIndex = 0;\n\n}\nMedia.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n    setContainer: function ( container ) {\n\n        this.container = container;\n\n    },\n\n    setScene: function ( scene ) {\n\n        this.scene = scene;\n\n    },\n\n    /**\n     * Enumerate devices\n     * @memberOf Media\n     * @instance\n     * @returns {Promise}\n     */\n    enumerateDevices: function () {\n\n        const devices = this.devices;\n        const resolvedPromise = new Promise( resolve => { resolve( devices ); } );\n\n        return devices.length > 0 ? resolvedPromise : window.navigator.mediaDevices.enumerateDevices();\n\n    },\n\n    /**\n     * Switch to next available video device\n     * @memberOf Media\n     * @instance\n     */\n    switchNextVideoDevice: function () {\n\n        const stop = this.stop.bind( this );\n        const start = this.start.bind( this );\n        const setVideDeviceIndex = this.setVideDeviceIndex.bind( this );\n\n        let index = this.videoDeviceIndex;\n\n        this.getDevices( 'video' )\n            .then( devices => {\n                stop();\n                index++;\n                if ( index >= devices.length ) {\n                    setVideDeviceIndex( 0 );\n                    index--;\n                } else {\n                    setVideDeviceIndex( index );\n                }\n\n                start( devices[ index ] );\n            \n\n            } );\n\n    },\n\n    /**\n     * Get devices\n     * @param {string} type - type keyword to match device.kind\n     * @memberOf Media\n     * @instance\n     */\n    getDevices: function ( type = 'video' ) {\n\n        const devices = this.devices;\n        const validate = _devices => {\n\n            return _devices.map( device => { \n                \n                if ( !devices.includes( device ) ) { devices.push( device ); }\n                return device; \n            \n            } );\n            \n        };\n        const filter = _devices => {\n\n            const reg = new RegExp( type, 'i' );\n            return _devices.filter( device => reg.test( device.kind ) );\n\n        };\n\n        return this.enumerateDevices()\n            .then( validate )\n            .then( filter );\n\n    },\n\n    /**\n     * Get user media\n     * @param {MediaStreamConstraints} constraints\n     * @memberOf Media\n     * @instance\n     */\n    getUserMedia: function ( constraints ) {\n\n        const setMediaStream = this.setMediaStream.bind( this );\n        const playVideo = this.playVideo.bind( this );\n        const onCatchError = error => { console.warn( `PANOLENS.Media: ${error}` ); };\n\n        return window.navigator.mediaDevices.getUserMedia( constraints )\n            .then( setMediaStream )\n            .then( playVideo )\n            .catch( onCatchError );\n\n    },\n\n    /**\n     * Set video device index\n     * @param {number} index \n     * @memberOf Media\n     * @instance\n     */\n    setVideDeviceIndex: function ( index ) {\n\n        this.videoDeviceIndex = index;\n\n    },\n\n    /**\n     * Start streaming\n     * @param {MediaDeviceInfo} [targetDevice]\n     * @memberOf Media\n     * @instance\n     */\n    start: function( targetDevice ) {\n\n        const constraints = this.constraints;\n        const getUserMedia = this.getUserMedia.bind( this );\n        const onVideoDevices = devices => {\n\n            if ( !devices || devices.length === 0 ) {\n\n                throw Error( 'no video device found' );\n\n            }\n\n            const device = targetDevice || devices[ 0 ];\n            constraints.video.deviceId = device.deviceId;\n\n            return getUserMedia( constraints );\n\n        };\n\n        this.element = this.createVideoElement();\n\n        return this.getDevices().then( onVideoDevices );\n\n    },\n\n    /**\n     * Stop streaming\n     * @memberOf Media\n     * @instance\n     */\n    stop: function () {\n\n        const stream = this.stream;\n\n        if ( stream && stream.active ) {\n\n            const track = stream.getTracks()[ 0 ];\n\n            track.stop();\n\n            window.removeEventListener( 'resize', this.onWindowResize.bind( this ) );\n\n            this.element = null;\n            this.stream = null;\n\n        }\n\n    },\n\n    /**\n     * Set media stream\n     * @param {MediaStream} stream \n     * @memberOf Media\n     * @instance\n     */\n    setMediaStream: function ( stream ) {\n\n        this.stream = stream;\n        this.element.srcObject = stream;\n\n        if ( this.scene ) {\n\n            this.scene.background = this.createVideoTexture();\n\n        }\n        \n        window.addEventListener( 'resize', this.onWindowResize.bind( this ) );\n\n    },\n\n    /**\n     * Play video element\n     * @memberOf Media\n     * @instance\n     */\n    playVideo: function () {\n\n        const { element } = this;\n\n        if ( element ) {\n\n            element.play();\n            this.dispatchEvent( { type: 'play' } );\n\n        }\n\n    },\n\n    /**\n     * Pause video element\n     * @memberOf Media\n     * @instance\n     */\n    pauseVideo: function () {\n\n        const { element } = this;\n\n        if ( element ) {\n\n            element.pause();\n            this.dispatchEvent( { type: 'pause' } );\n\n        }\n\n    },\n\n    /**\n     * Create video texture\n     * @memberOf Media\n     * @instance\n     * @returns {THREE.VideoTexture}\n     */\n    createVideoTexture: function () {\n\n        const video = this.element;\n        const texture = new VideoTexture( video );\n\n        texture.generateMipmaps = false;\n        texture.minFilter = LinearFilter;\n        texture.magFilter = LinearFilter;\n        texture.format = RGBFormat;\n        texture.center.set( 0.5, 0.5 );\n\n        video.addEventListener( 'canplay', this.onWindowResize.bind( this ) );\n\n        return texture;\n\n    },\n\n    /**\n     * Create video element\n     * @memberOf Media\n     * @instance\n     * @returns {HTMLVideoElement}\n     * @fires Media#canplay\n     */\n    createVideoElement: function() {\n\n        const dispatchEvent = this.dispatchEvent.bind( this );\n        const video = document.createElement( 'video' );\n\n        /**\n         * Video can play event\n         * @type {object}\n         * @event Media#canplay\n         */\n        const canPlay = () => dispatchEvent( { type: 'canplay' } );\n        \n        video.setAttribute( 'autoplay', '' );\n        video.setAttribute( 'muted', '' );\n        video.setAttribute( 'playsinline', '' );\n\n        video.style.position = 'absolute';\n        video.style.top = '0';\n        video.style.left = '0';\n        video.style.width = '100%';\n        video.style.height = '100%';\n        video.style.objectPosition = 'center';\n        video.style.objectFit = 'cover';\n        video.style.display = this.scene ? 'none' : '';\n\n        video.addEventListener( 'canplay', canPlay );\n\n        return video;\n\n    },\n\n    /**\n     * On window resize event\n     * @param {Event} event \n     * @memberOf Media\n     * @instance\n     */\n    onWindowResize: function () {\n\n        if ( this.element && this.element.videoWidth && this.element.videoHeight && this.scene ) {\n\n            const { clientWidth: width, clientHeight: height } = this.container;\n            const texture = this.scene.background;\n            const { videoWidth, videoHeight } = this.element;\n            const cameraRatio = videoHeight / videoWidth;\n            const viewportRatio = this.container ? width / height : 1.0;\n            const ratio = cameraRatio * viewportRatio * this.ratioScalar;\n\n            if ( width > height ) {\n                texture.repeat.set( ratio, 1 );\n            } else {\n                texture.repeat.set( 1, 1 / ratio );\n            }\n\n        }\n\n    }\n\n} );\n\n/**\n * @classdesc Reticle 3D Sprite\n * @constructor\n * @param {THREE.Color} [color=0xffffff] - Color of the reticle sprite\n * @param {boolean} [autoSelect=true] - Auto selection\n * @param {number} [dwellTime=1500] - Duration for dwelling sequence to complete\n */\n\nfunction Reticle ( color = 0xffffff, autoSelect = true, dwellTime = 1500 ) {\n\n    this.dpr = window.devicePixelRatio;\n\n    const { canvas, context } = this.createCanvas();\n    const material = new SpriteMaterial( { color, map: this.createCanvasTexture( canvas ) } );\n\n    Sprite.call( this, material );\n\n    this.canvasWidth = canvas.width;\n    this.canvasHeight = canvas.height;\n    this.context = context;\n    this.color = color instanceof Color ? color : new Color( color );    \n\n    this.autoSelect = autoSelect;\n    this.dwellTime = dwellTime;\n    this.rippleDuration = 500;\n    this.position.z = -10;\n    this.center.set( 0.5, 0.5 );\n    this.scale.set( 0.5, 0.5, 1 );\n\n    this.startTimestamp = null;\n    this.timerId = null;\n    this.callback = null;\n\n    this.frustumCulled = false;\n\n    this.updateCanvasArcByProgress( 0 );\n\n}\nReticle.prototype = Object.assign( Object.create( Sprite.prototype ), {\n\n    constructor: Reticle,\n\n    /**\n     * Set material color\n     * @param {THREE.Color} color \n     * @memberOf Reticle\n     * @instance\n     */\n    setColor: function ( color ) {\n\n        this.material.color.copy( color instanceof Color ? color : new Color( color ) );\n\n    },\n\n    /**\n     * Create canvas texture\n     * @param {HTMLCanvasElement} canvas \n     * @memberOf Reticle\n     * @instance\n     * @returns {THREE.CanvasTexture}\n     */\n    createCanvasTexture: function ( canvas ) {\n\n        const texture = new CanvasTexture( canvas );\n        texture.minFilter = LinearFilter;\n        texture.magFilter = LinearFilter;\n        texture.generateMipmaps = false;\n\n        return texture;\n\n    },\n\n    /**\n     * Create canvas element\n     * @memberOf Reticle\n     * @instance\n     * @returns {object} object\n     * @returns {HTMLCanvasElement} object.canvas\n     * @returns {CanvasRenderingContext2D} object.context\n     */\n    createCanvas: function () {\n\n        const width = 32;\n        const height = 32;\n        const canvas = document.createElement( 'canvas' );\n        const context = canvas.getContext( '2d' );\n        const dpr = this.dpr;\n\n        canvas.width = width * dpr;\n        canvas.height = height * dpr;\n        context.scale( dpr, dpr );\n\n        context.shadowBlur = 5;\n        context.shadowColor = 'rgba(200,200,200,0.9)';\n\n        return { canvas, context };\n\n    },\n\n    /**\n     * Update canvas arc by progress\n     * @param {number} progress \n     * @memberOf Reticle\n     * @instance\n     */\n    updateCanvasArcByProgress: function ( progress ) {\n\n        const context = this.context;\n        const { canvasWidth, canvasHeight, material } = this;\n        const dpr = this.dpr;\n        const degree = progress * Math.PI * 2;\n        const color = this.color.getStyle();\n        const x = canvasWidth * 0.5 / dpr;\n        const y = canvasHeight * 0.5 / dpr;\n        const lineWidth = 3;\n        \n        context.clearRect( 0, 0, canvasWidth, canvasHeight );\n        context.beginPath();\n\n        if ( progress === 0 ) {\n            context.arc( x, y, canvasWidth / 16, 0, 2 * Math.PI );\n            context.fillStyle = color;\n            context.fill();\n        } else {\n            context.arc( x, y, canvasWidth / 4 - lineWidth, -Math.PI / 2, -Math.PI / 2 + degree );\n            context.strokeStyle = color;\n            context.lineWidth = lineWidth;\n            context.stroke();\n        }\n\n        context.closePath();\n\n        material.map.needsUpdate = true;\n\n    },\n\n    /**\n     * Ripple effect\n     * @memberOf Reticle\n     * @instance\n     * @fires Reticle#reticle-ripple-start\n     * @fires Reticle#reticle-ripple-end\n     */\n    ripple: function () {\n\n        const context = this.context;\n        const { canvasWidth, canvasHeight, material } = this;\n        const duration = this.rippleDuration;\n        const timestamp = performance.now();\n        const color = this.color;\n        const dpr = this.dpr;\n        const x = canvasWidth * 0.5 / dpr;\n        const y = canvasHeight * 0.5 / dpr;\n\n        const update = () => {\n\n            const timerId = window.requestAnimationFrame( update );\n            const elapsed = performance.now() - timestamp;\n            const progress = elapsed / duration;\n            const opacity = 1.0 - progress > 0 ? 1.0 - progress : 0;\n            const radius = progress * canvasWidth * 0.5 / dpr;\n\n            context.clearRect( 0, 0, canvasWidth, canvasHeight );\n            context.beginPath();\n            context.arc( x, y, radius, 0, Math.PI * 2 );\n            context.fillStyle = `rgba(${color.r * 255}, ${color.g * 255}, ${color.b * 255}, ${opacity})`;\n            context.fill();\n            context.closePath();\n\n            if ( progress >= 1.0 ) {\n\n                window.cancelAnimationFrame( timerId );\n                this.updateCanvasArcByProgress( 0 );\n\n                /**\n                 * Reticle ripple end event\n                 * @type {object}\n                 * @event Reticle#reticle-ripple-end\n                 */\n                this.dispatchEvent( { type: 'reticle-ripple-end' } );\n\n            }\n\n            material.map.needsUpdate = true;\n\n        };\n\n        /**\n         * Reticle ripple start event\n         * @type {object}\n         * @event Reticle#reticle-ripple-start\n         */\n        this.dispatchEvent( { type: 'reticle-ripple-start' } );\n\n        update();\n\n    },\n\n    /**\n     * Make reticle visible\n     * @memberOf Reticle\n     * @instance\n     */\n    show: function () {\n\n        this.visible = true;\n\n    },\n\n    /**\n     * Make reticle invisible\n     * @memberOf Reticle\n     * @instance\n     */\n    hide: function () {\n\n        this.visible = false;\n\n    },\n\n    /**\n     * Start dwelling\n     * @param {function} callback \n     * @memberOf Reticle\n     * @instance\n     * @fires Reticle#reticle-start\n     */\n    start: function ( callback ) {\n\n        if ( !this.autoSelect ) {\n\n            return;\n\n        }\n\n        /**\n         * Reticle start event\n         * @type {object}\n         * @event Reticle#reticle-start\n         */\n        this.dispatchEvent( { type: 'reticle-start' } );\n\n        this.startTimestamp = performance.now();\n        this.callback = callback;\n        this.update();\n\n    },\n\n    /**\n     * End dwelling\n     * @memberOf Reticle\n     * @instance\n     * @fires Reticle#reticle-end\n     */\n    end: function(){\n\n        if ( !this.startTimestamp ) { return; }\n\n        window.cancelAnimationFrame( this.timerId );\n\n        this.updateCanvasArcByProgress( 0 );\n        this.callback = null;\n        this.timerId = null;\n        this.startTimestamp = null;\n\n        /**\n         * Reticle end event\n         * @type {object}\n         * @event Reticle#reticle-end\n         */\n        this.dispatchEvent( { type: 'reticle-end' } );\n\n    },\n\n    /**\n     * Update dwelling\n     * @memberOf Reticle\n     * @instance\n     * @fires Reticle#reticle-update\n     */\n    update: function () {\n\n        this.timerId = window.requestAnimationFrame( this.update.bind( this ) );\n\n        const elapsed = performance.now() - this.startTimestamp;\n        const progress = elapsed / this.dwellTime;\n\n        this.updateCanvasArcByProgress( progress );\n\n        /**\n         * Reticle update event\n         * @type {object}\n         * @event Reticle#reticle-update\n         */\n        this.dispatchEvent( { type: 'reticle-update', progress } );\n\n        if ( progress >= 1.0 ) {\n\n            window.cancelAnimationFrame( this.timerId );\n            if ( this.callback ) { this.callback(); }\n            this.end();\n            this.ripple();\n\n        }\n\n    }\n\n} );\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar Tween = createCommonjsModule(function (module, exports) {\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\n\nvar _Group = function () {\n\tthis._tweens = {};\n\tthis._tweensAddedDuringUpdate = {};\n};\n\n_Group.prototype = {\n\tgetAll: function () {\n\n\t\treturn Object.keys(this._tweens).map(function (tweenId) {\n\t\t\treturn this._tweens[tweenId];\n\t\t}.bind(this));\n\n\t},\n\n\tremoveAll: function () {\n\n\t\tthis._tweens = {};\n\n\t},\n\n\tadd: function (tween) {\n\n\t\tthis._tweens[tween.getId()] = tween;\n\t\tthis._tweensAddedDuringUpdate[tween.getId()] = tween;\n\n\t},\n\n\tremove: function (tween) {\n\n\t\tdelete this._tweens[tween.getId()];\n\t\tdelete this._tweensAddedDuringUpdate[tween.getId()];\n\n\t},\n\n\tupdate: function (time, preserve) {\n\n\t\tvar tweenIds = Object.keys(this._tweens);\n\n\t\tif (tweenIds.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t// Tweens are updated in \"batches\". If you add a new tween during an update, then the\n\t\t// new tween will be updated in the next batch.\n\t\t// If you remove a tween during an update, it may or may not be updated. However,\n\t\t// if the removed tween was added during the current batch, then it will not be updated.\n\t\twhile (tweenIds.length > 0) {\n\t\t\tthis._tweensAddedDuringUpdate = {};\n\n\t\t\tfor (var i = 0; i < tweenIds.length; i++) {\n\n\t\t\t\tvar tween = this._tweens[tweenIds[i]];\n\n\t\t\t\tif (tween && tween.update(time) === false) {\n\t\t\t\t\ttween._isPlaying = false;\n\n\t\t\t\t\tif (!preserve) {\n\t\t\t\t\t\tdelete this._tweens[tweenIds[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttweenIds = Object.keys(this._tweensAddedDuringUpdate);\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\nvar TWEEN = new _Group();\n\nTWEEN.Group = _Group;\nTWEEN._nextId = 0;\nTWEEN.nextId = function () {\n\treturn TWEEN._nextId++;\n};\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (self) === 'undefined' && typeof (process) !== 'undefined' && process.hrtime) {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof (self) !== 'undefined' &&\n         self.performance !== undefined &&\n\t\t self.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tTWEEN.now = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tTWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tTWEEN.now = function () {\n\t\treturn new Date().getTime();\n\t};\n}\n\n\nTWEEN.Tween = function (object, group) {\n\tthis._object = object;\n\tthis._valuesStart = {};\n\tthis._valuesEnd = {};\n\tthis._valuesStartRepeat = {};\n\tthis._duration = 1000;\n\tthis._repeat = 0;\n\tthis._repeatDelayTime = undefined;\n\tthis._yoyo = false;\n\tthis._isPlaying = false;\n\tthis._reversed = false;\n\tthis._delayTime = 0;\n\tthis._startTime = null;\n\tthis._easingFunction = TWEEN.Easing.Linear.None;\n\tthis._interpolationFunction = TWEEN.Interpolation.Linear;\n\tthis._chainedTweens = [];\n\tthis._onStartCallback = null;\n\tthis._onStartCallbackFired = false;\n\tthis._onUpdateCallback = null;\n\tthis._onRepeatCallback = null;\n\tthis._onCompleteCallback = null;\n\tthis._onStopCallback = null;\n\tthis._group = group || TWEEN;\n\tthis._id = TWEEN.nextId();\n\n};\n\nTWEEN.Tween.prototype = {\n\tgetId: function () {\n\t\treturn this._id;\n\t},\n\n\tisPlaying: function () {\n\t\treturn this._isPlaying;\n\t},\n\n\tto: function (properties, duration) {\n\n\t\tthis._valuesEnd = Object.create(properties);\n\n\t\tif (duration !== undefined) {\n\t\t\tthis._duration = duration;\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tduration: function duration(d) {\n\t\tthis._duration = d;\n\t\treturn this;\n\t},\n\n\tstart: function (time) {\n\n\t\tthis._group.add(this);\n\n\t\tthis._isPlaying = true;\n\n\t\tthis._onStartCallbackFired = false;\n\n\t\tthis._startTime = time !== undefined ? typeof time === 'string' ? TWEEN.now() + parseFloat(time) : time : TWEEN.now();\n\t\tthis._startTime += this._delayTime;\n\n\t\tfor (var property in this._valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (this._valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (this._valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\tthis._valuesEnd[property] = [this._object[property]].concat(this._valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (this._object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Save the starting value.\n\t\t\tthis._valuesStart[property] = this._object[property];\n\n\t\t\tif ((this._valuesStart[property] instanceof Array) === false) {\n\t\t\t\tthis._valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\tthis._valuesStartRepeat[property] = this._valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif (!this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._group.remove(this);\n\t\tthis._isPlaying = false;\n\n\t\tif (this._onStopCallback !== null) {\n\t\t\tthis._onStopCallback(this._object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t},\n\n\tend: function () {\n\n\t\tthis.update(Infinity);\n\t\treturn this;\n\n\t},\n\n\tstopChainedTweens: function () {\n\n\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\tthis._chainedTweens[i].stop();\n\t\t}\n\n\t},\n\n\tgroup: function (group) {\n\t\tthis._group = group;\n\t\treturn this;\n\t},\n\n\tdelay: function (amount) {\n\n\t\tthis._delayTime = amount;\n\t\treturn this;\n\n\t},\n\n\trepeat: function (times) {\n\n\t\tthis._repeat = times;\n\t\treturn this;\n\n\t},\n\n\trepeatDelay: function (amount) {\n\n\t\tthis._repeatDelayTime = amount;\n\t\treturn this;\n\n\t},\n\n\tyoyo: function (yoyo) {\n\n\t\tthis._yoyo = yoyo;\n\t\treturn this;\n\n\t},\n\n\teasing: function (easingFunction) {\n\n\t\tthis._easingFunction = easingFunction;\n\t\treturn this;\n\n\t},\n\n\tinterpolation: function (interpolationFunction) {\n\n\t\tthis._interpolationFunction = interpolationFunction;\n\t\treturn this;\n\n\t},\n\n\tchain: function () {\n\n\t\tthis._chainedTweens = arguments;\n\t\treturn this;\n\n\t},\n\n\tonStart: function (callback) {\n\n\t\tthis._onStartCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonUpdate: function (callback) {\n\n\t\tthis._onUpdateCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonRepeat: function onRepeat(callback) {\n\n\t\tthis._onRepeatCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonComplete: function (callback) {\n\n\t\tthis._onCompleteCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonStop: function (callback) {\n\n\t\tthis._onStopCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tupdate: function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < this._startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this._onStartCallbackFired === false) {\n\n\t\t\tif (this._onStartCallback !== null) {\n\t\t\t\tthis._onStartCallback(this._object);\n\t\t\t}\n\n\t\t\tthis._onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - this._startTime) / this._duration;\n\t\telapsed = (this._duration === 0 || elapsed > 1) ? 1 : elapsed;\n\n\t\tvalue = this._easingFunction(elapsed);\n\n\t\tfor (property in this._valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (this._valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = this._valuesStart[property] || 0;\n\t\t\tvar end = this._valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\tthis._object[property] = this._interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\tthis._object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (this._onUpdateCallback !== null) {\n\t\t\tthis._onUpdateCallback(this._object, elapsed);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (this._repeat > 0) {\n\n\t\t\t\tif (isFinite(this._repeat)) {\n\t\t\t\t\tthis._repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in this._valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (this._valuesEnd[property]) === 'string') {\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this._yoyo) {\n\t\t\t\t\t\tvar tmp = this._valuesStartRepeat[property];\n\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesEnd[property];\n\t\t\t\t\t\tthis._valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._valuesStart[property] = this._valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (this._yoyo) {\n\t\t\t\t\tthis._reversed = !this._reversed;\n\t\t\t\t}\n\n\t\t\t\tif (this._repeatDelayTime !== undefined) {\n\t\t\t\t\tthis._startTime = time + this._repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\tthis._startTime = time + this._delayTime;\n\t\t\t\t}\n\n\t\t\t\tif (this._onRepeatCallback !== null) {\n\t\t\t\t\tthis._onRepeatCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (this._onCompleteCallback !== null) {\n\n\t\t\t\t\tthis._onCompleteCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\tthis._chainedTweens[i].start(this._startTime + this._duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\n\n// UMD (Universal Module Definition)\n(function (root) {\n\n\t{\n\n\t\t// Node.js\n\t\tmodule.exports = TWEEN;\n\n\t}\n\n})();\n});\n\n/**\n * @classdesc Information spot attached to panorama\n * @constructor\n * @param {number} [scale=300] - Default scale\n * @param {string} [imageSrc=PANOLENS.DataImage.Info] - Image overlay info\n * @param {boolean} [animated=true] - Enable default hover animation\n */\nfunction Infospot ( scale = 300, imageSrc, animated ) {\n\t\n    const duration = 500, scaleFactor = 1.3;\n\n    imageSrc = imageSrc || DataImage.Info;\n\n    Sprite.call( this );\n\n    this.type = 'infospot';\n\n    this.animated = animated !== undefined ? animated : true;\n    this.isHovering = false;\n\n    /*\n     * TODO: Three.js bug hotfix for sprite raycasting r104\n     * https://github.com/mrdoob/three.js/issues/14624\n     */\n    this.frustumCulled = false;\n\n    this.element = null;\n    this.toPanorama = null;\n    this.cursorStyle = null;\n\n    this.mode = MODES.NORMAL;\n\n    this.scale.set( scale, scale, 1 );\n    this.rotation.y = Math.PI;\n\n    this.container = null;\n\n    this.originalRaycast = this.raycast;\n\n    // Event Handler\n    this.HANDLER_FOCUS = null;\t\n\n    this.material.side = DoubleSide;\n    this.material.depthTest = false;\n    this.material.transparent = true;\n    this.material.opacity = 0;\n\n    this.scaleUpAnimation = new Tween.Tween();\n    this.scaleDownAnimation = new Tween.Tween();\n\n\n    const postLoad = function ( texture ) {\n\n        if ( !this.material ) { return; }\n\n        const ratio = texture.image.width / texture.image.height;\n        const textureScale = new Vector3();\n\n        texture.image.width = texture.image.naturalWidth || 64;\n        texture.image.height = texture.image.naturalHeight || 64;\n\n        this.scale.set( ratio * scale, scale, 1 );\n\n        textureScale.copy( this.scale );\n\n        this.scaleUpAnimation = new Tween.Tween( this.scale )\n            .to( { x: textureScale.x * scaleFactor, y: textureScale.y * scaleFactor }, duration )\n            .easing( Tween.Easing.Elastic.Out );\n\n        this.scaleDownAnimation = new Tween.Tween( this.scale )\n            .to( { x: textureScale.x, y: textureScale.y }, duration )\n            .easing( Tween.Easing.Elastic.Out );\n\n        this.material.map = texture;\n        this.material.needsUpdate = true;\n\n    }.bind( this );\n\n    // Add show and hide animations\n    this.showAnimation = new Tween.Tween( this.material )\n        .to( { opacity: 1 }, duration )\n        .onStart( this.enableRaycast.bind( this, true ) )\n        .easing( Tween.Easing.Quartic.Out );\n\n    this.hideAnimation = new Tween.Tween( this.material )\n        .to( { opacity: 0 }, duration )\n        .onStart( this.enableRaycast.bind( this, false ) )\n        .easing( Tween.Easing.Quartic.Out );\n\n    // Attach event listeners\n    this.addEventListener( 'click', this.onClick );\n    this.addEventListener( 'hover', this.onHover );\n    this.addEventListener( 'hoverenter', this.onHoverStart );\n    this.addEventListener( 'hoverleave', this.onHoverEnd );\n    this.addEventListener( 'panolens-dual-eye-effect', this.onDualEyeEffect );\n    this.addEventListener( 'panolens-container', this.setContainer.bind( this ) );\n    this.addEventListener( 'dismiss', this.onDismiss );\n    this.addEventListener( 'panolens-infospot-focus', this.setFocusMethod );\n\n    TextureLoader.load( imageSrc, postLoad );\t\n\n}\nInfospot.prototype = Object.assign( Object.create( Sprite.prototype ), {\n\n    constructor: Infospot,\n\n    /**\n     * Set infospot container\n     * @param {HTMLElement|object} data - Data with container information\n     * @memberOf Infospot\n     * @instance\n     */\n    setContainer: function ( data ) {\n\n        let container;\n\t\n        if ( data instanceof HTMLElement ) {\n\t\n            container = data;\n\t\n        } else if ( data && data.container ) {\n\t\n            container = data.container;\n\t\n        }\n\t\n        // Append element if exists\n        if ( container && this.element ) {\n\t\n            container.appendChild( this.element );\n\t\n        }\n\t\n        this.container = container;\n\t\n    },\n\n    /**\n     * Get container\n     * @memberOf Infospot\n     * @instance\n     * @return {HTMLElement} - The container of this infospot\n     */\n    getContainer: function () {\n\n        return this.container;\n\n    },\n\n    /**\n     * This will be called by a click event\n     * Translate and lock the hovering element if any\n     * @param  {object} event - Event containing mouseEvent with clientX and clientY\n     * @memberOf Infospot\n     * @instance\n     */\n    onClick: function ( event ) {\n\n        if ( this.element && this.getContainer() ) {\n\n            this.onHoverStart( event );\n\n            // Lock element\n            this.lockHoverElement();\n\n        }\n\n    },\n\n    /**\n     * Dismiss current element if any\n     * @param  {object} event - Dismiss event\n     * @memberOf Infospot\n     * @instance\n     */\n    onDismiss: function () {\n\n        if ( this.element ) {\n\n            this.unlockHoverElement();\n            this.onHoverEnd();\n\n        }\n\n    },\n\n    /**\n     * This will be called by a mouse hover event\n     * Translate the hovering element if any\n     * @param  {object} event - Event containing mouseEvent with clientX and clientY\n     * @memberOf Infospot\n     * @instance\n     */\n    onHover: function () {},\n\n    /**\n     * This will be called on a mouse hover start\n     * Sets cursor style to 'pointer', display the element and scale up the infospot\n     * @param {object} event\n     * @memberOf Infospot\n     * @instance\n     */\n    onHoverStart: function ( event ) {\n\n        if ( !this.getContainer() ) { return; }\n\n        const cursorStyle = this.cursorStyle || ( this.mode === MODES.NORMAL ? 'pointer' : 'default' );\n        const { scaleDownAnimation, scaleUpAnimation, element } = this;\n\n        this.isHovering = true;\n        this.container.style.cursor = cursorStyle;\n\t\t\n        if ( this.animated ) {\n\n            scaleDownAnimation.stop();\n            scaleUpAnimation.start();\n\n        }\n\t\t\n        if ( element && event.mouseEvent.clientX >= 0 && event.mouseEvent.clientY >= 0 ) {\n\n            const { left, right, style } = element;\n\n            if ( this.mode === MODES.CARDBOARD || this.mode === MODES.STEREO ) {\n\n                style.display = 'none';\n                left.style.display = 'block';\n                right.style.display = 'block';\n\n                // Store element width for reference\n                element._width = left.clientWidth;\n                element._height = left.clientHeight;\n\n            } else {\n\n                style.display = 'block';\n                if ( left ) { left.style.display = 'none'; }\n                if ( right ) { right.style.display = 'none'; }\n\n                // Store element width for reference\n                element._width = element.clientWidth;\n                element._height = element.clientHeight;\n\n            }\n\t\t\t\n        }\n\n    },\n\n    /**\n     * This will be called on a mouse hover end\n     * Sets cursor style to 'default', hide the element and scale down the infospot\n     * @memberOf Infospot\n     * @instance\n     */\n    onHoverEnd: function () {\n\n        if ( !this.getContainer() ) { return; }\n\n        const { scaleDownAnimation, scaleUpAnimation, element } = this;\n\n        this.isHovering = false;\n        this.container.style.cursor = 'default';\n\n        if ( this.animated ) {\n\n            scaleUpAnimation.stop();\n            scaleDownAnimation.start();\n\n        }\n\n        if ( element && !this.element.locked ) {\n\n            const { left, right, style } = element;\n\n            style.display = 'none';\n            if ( left ) { left.style.display = 'none'; }\n            if ( right ) { right.style.display = 'none'; }\n\n            this.unlockHoverElement();\n\n        }\n\n    },\n\n    /**\n     * On dual eye effect handler\n     * Creates duplicate left and right element\n     * @param  {object} event - panolens-dual-eye-effect event\n     * @memberOf Infospot\n     * @instance\n     */\n    onDualEyeEffect: function ( event ) {\n\t\t\n        if ( !this.getContainer() ) { return; }\n\n        let element, halfWidth, halfHeight;\n\n        this.mode = event.mode;\n\n        element = this.element;\n\n        halfWidth = this.container.clientWidth / 2;\n        halfHeight = this.container.clientHeight / 2;\n\n        if ( !element ) {\n\n            return;\n\n        }\n\n        if ( !element.left && !element.right ) {\n\n            element.left = element.cloneNode( true );\n            element.right = element.cloneNode( true );\n\n        }\n\n        if ( this.mode === MODES.CARDBOARD || this.mode === MODES.STEREO ) {\n\n            element.left.style.display = element.style.display;\n            element.right.style.display = element.style.display;\n            element.style.display = 'none';\n\n        } else {\n\n            element.style.display = element.left.style.display;\n            element.left.style.display = 'none';\n            element.right.style.display = 'none';\n\n        }\n\n        // Update elements translation\n        this.translateElement( halfWidth, halfHeight );\n\n        this.container.appendChild( element.left );\n        this.container.appendChild( element.right );\n\n    },\n\n    /**\n     * Translate the hovering element by css transform\n     * @param  {number} x - X position on the window screen\n     * @param  {number} y - Y position on the window screen\n     * @memberOf Infospot\n     * @instance\n     */\n    translateElement: function ( x, y ) {\n\n        if ( !this.element._width || !this.element._height || !this.getContainer() ) {\n\n            return;\n\n        }\n\n        let left, top, element, width, height, delta, container;\n\n        container = this.container;\n        element = this.element;\n        width = element._width / 2;\n        height = element._height / 2;\n        delta = element.verticalDelta !== undefined ? element.verticalDelta : 40;\n\n        left = x - width;\n        top = y - height - delta;\n\n        if ( ( this.mode === MODES.CARDBOARD || this.mode === MODES.STEREO ) \n\t\t\t\t&& element.left && element.right\n\t\t\t\t&& !( x === container.clientWidth / 2 && y === container.clientHeight / 2 ) ) {\n\n            left = container.clientWidth / 4 - width + ( x - container.clientWidth / 2 );\n            top = container.clientHeight / 2 - height - delta + ( y - container.clientHeight / 2 );\n\n            this.setElementStyle( 'transform', element.left, 'translate(' + left + 'px, ' + top + 'px)' );\n\n            left += container.clientWidth / 2;\n\n            this.setElementStyle( 'transform', element.right, 'translate(' + left + 'px, ' + top + 'px)' );\n\n        } else {\n\n            this.setElementStyle( 'transform', element, 'translate(' + left + 'px, ' + top + 'px)' );\n\n        }\n\n    },\n\n    /**\n     * Set vendor specific css\n     * @param {string} type - CSS style name\n     * @param {HTMLElement} element - The element to be modified\n     * @param {string} value - Style value\n     * @memberOf Infospot\n     * @instance\n     */\n    setElementStyle: function ( type, element, value ) {\n\n        const style = element.style;\n\n        if ( type === 'transform' ) {\n\n            style.webkitTransform = style.msTransform = style.transform = value;\n\n        }\n\n    },\n\n    /**\n     * Set hovering text content\n     * @param {string} text - Text to be displayed\n     * @memberOf Infospot\n     * @instance\n     */\n    setText: function ( text ) {\n\n        if ( this.element ) {\n\n            this.element.textContent = text;\n\n        }\n\n    },\n\n    /**\n     * Set cursor css style on hover\n     * @memberOf Infospot\n     * @instance\n     */\n    setCursorHoverStyle: function ( style ) {\n\n        this.cursorStyle = style;\n\n    },\n\n    /**\n     * Add hovering text element\n     * @param {string} text - Text to be displayed\n     * @param {number} [delta=40] - Vertical delta to the infospot\n     * @memberOf Infospot\n     * @instance\n     */\n    addHoverText: function ( text, delta = 40 ) {\n\n        if ( !this.element ) {\n\n            this.element = document.createElement( 'div' );\n            this.element.style.display = 'none';\n            this.element.style.color = '#fff';\n            this.element.style.top = 0;\n            this.element.style.maxWidth = '50%';\n            this.element.style.maxHeight = '50%';\n            this.element.style.textShadow = '0 0 3px #000000';\n            this.element.style.fontFamily = '\"Trebuchet MS\", Helvetica, sans-serif';\n            this.element.style.position = 'absolute';\n            this.element.classList.add( 'panolens-infospot' );\n            this.element.verticalDelta = delta;\n\n        }\n\n        this.setText( text );\n\n    },\n\n    /**\n     * Add hovering element by cloning an element\n     * @param {HTMLDOMElement} el - Element to be cloned and displayed\n     * @param {number} [delta=40] - Vertical delta to the infospot\n     * @memberOf Infospot\n     * @instance\n     */\n    addHoverElement: function ( el, delta = 40 ) {\n\n        if ( !this.element ) { \n\n            this.element = el.cloneNode( true );\n            this.element.style.display = 'none';\n            this.element.style.top = 0;\n            this.element.style.position = 'absolute';\n            this.element.classList.add( 'panolens-infospot' );\n            this.element.verticalDelta = delta;\n\n        }\n\n    },\n\n    /**\n     * Remove hovering element\n     * @memberOf Infospot\n     * @instance\n     */\n    removeHoverElement: function () {\n\n        if ( this.element ) { \n\n            if ( this.element.left ) {\n\n                this.container.removeChild( this.element.left );\n                this.element.left = null;\n\n            }\n\n            if ( this.element.right ) {\n\n                this.container.removeChild( this.element.right );\n                this.element.right = null;\n\n            }\n\n            this.container.removeChild( this.element );\n            this.element = null;\n\n        }\n\n    },\n\n    /**\n     * Lock hovering element\n     * @memberOf Infospot\n     * @instance\n     */\n    lockHoverElement: function () {\n\n        if ( this.element ) { \n\n            this.element.locked = true;\n\n        }\n\n    },\n\n    /**\n     * Unlock hovering element\n     * @memberOf Infospot\n     * @instance\n     */\n    unlockHoverElement: function () {\n\n        if ( this.element ) { \n\n            this.element.locked = false;\n\n        }\n\n    },\n\n    /**\n     * Enable raycasting\n     * @param {boolean} [enabled=true]\n     * @memberOf Infospot\n     * @instance\n     */\n    enableRaycast: function ( enabled = true ) {\n\n        if ( enabled ) {\n\n            this.raycast = this.originalRaycast;\n\n        } else {\n\n            this.raycast = () => {};\n\n        }\n\n    },\n\n    /**\n     * Show infospot\n     * @param  {number} [delay=0] - Delay time to show\n     * @memberOf Infospot\n     * @instance\n     */\n    show: function ( delay = 0 ) {\n\n        const { animated, hideAnimation, showAnimation, material } = this;\n\n        if ( animated ) {\n\n            hideAnimation.stop();\n            showAnimation.delay( delay ).start();\n\n        } else {\n\n            this.enableRaycast( true );\n            material.opacity = 1;\n\n        }\n\n    },\n\n    /**\n     * Hide infospot\n     * @param  {number} [delay=0] - Delay time to hide\n     * @memberOf Infospot\n     * @instance\n     */\n    hide: function ( delay = 0 ) {\n\n        const { animated, hideAnimation, showAnimation, material, element } = this;\n\n        if ( element ) {\n            const { style } = element;\n            style.display = 'none';\n        }\n\n        if ( animated ) {\n\n            showAnimation.stop();\n            hideAnimation.delay( delay ).start();\n\n        } else {\n\n            this.enableRaycast( false );\n            material.opacity = 0;\n\n        }\n\t\t\n    },\n\n    /**\n     * Set focus event handler\n     * @memberOf Infospot\n     * @instance\n     */\n    setFocusMethod: function ( event ) {\n\n        if ( event ) {\n\n            this.HANDLER_FOCUS = event.method;\n\n        }\n\n    },\n\n    /**\n     * Focus camera center to this infospot\n     * @param {number} [duration=1000] - Duration to tween\n     * @param {function} [easing=TWEEN.Easing.Exponential.Out] - Easing function\n     * @memberOf Infospot\n     * @instance\n     */\n    focus: function ( duration, easing ) {\n\n        if ( this.HANDLER_FOCUS ) {\n\n            this.HANDLER_FOCUS( this.position, duration, easing );\n            this.onDismiss();\n\n        }\n\n    },\n\n    /**\n     * Dispose\n     * @memberOf Infospot\n     * @instance\n     */\n    dispose: function () {\n\n        const { geometry, material } = this;\n        const { map } = material;\n\n        this.removeHoverElement();\n\n        if ( this.parent ) {\n\n            this.parent.remove( this );\n\n        }\n\n        if ( map ) { map.dispose(); material.map = null; }\n        if ( geometry ) { geometry.dispose(); this.geometry = null; }\n        if ( material ) { material.dispose(); this.material = null; }\n\n    }\n\n} );\n\n/**\n * @classdesc Widget for controls\n * @constructor\n * @param {HTMLElement} container - A domElement where default control widget will be attached to\n */\nfunction Widget ( container ) {\n\n    if ( !container ) {\n\n        console.warn( 'PANOLENS.Widget: No container specified' );\n\n    }\n\n    EventDispatcher.call( this );\n\n    this.DEFAULT_TRANSITION  = 'all 0.27s ease';\n    this.TOUCH_ENABLED = !!(( 'ontouchstart' in window ) || window.DocumentTouch && document instanceof DocumentTouch);\n    this.PREVENT_EVENT_HANDLER = function ( event ) {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    this.container = container;\n\n    this.barElement = null;\n    this.fullscreenElement = null;\n    this.videoElement = null;\n    this.settingElement = null;\n\n    this.mainMenu = null;\n\n    this.activeMainItem = null;\n    this.activeSubMenu = null;\n    this.mask = null;\n\n}\n\nWidget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n    constructor: Widget,\n\n    /**\n     * Add control bar\n     * @memberOf Widget\n     * @instance\n     */\n    addControlBar: function () {\n\n        if ( !this.container ) {\n\n            console.warn( 'Widget container not set' ); \n            return; \n        }\n\n        var scope = this, bar, styleTranslate, styleOpacity, gradientStyle;\n\n        gradientStyle = 'linear-gradient(bottom, rgba(0,0,0,0.2), rgba(0,0,0,0))';\n\n        bar = document.createElement( 'div' );\n        bar.style.width = '100%';\n        bar.style.height = '44px';\n        bar.style.float = 'left';\n        bar.style.transform = bar.style.webkitTransform = bar.style.msTransform = 'translateY(-100%)';\n        bar.style.background = '-webkit-' + gradientStyle;\n        bar.style.background = '-moz-' + gradientStyle;\n        bar.style.background = '-o-' + gradientStyle;\n        bar.style.background = '-ms-' + gradientStyle;\n        bar.style.background = gradientStyle;\n        bar.style.transition = this.DEFAULT_TRANSITION;\n        bar.style.pointerEvents = 'none';\n        bar.isHidden = false;\n        bar.toggle = function () {\n            bar.isHidden = !bar.isHidden;\n            styleTranslate = bar.isHidden ? 'translateY(0)' : 'translateY(-100%)';\n            styleOpacity = bar.isHidden ? 0 : 1;\n            bar.style.transform = bar.style.webkitTransform = bar.style.msTransform = styleTranslate;\n            bar.style.opacity = styleOpacity;\n        };\n\n        // Menu\n        var menu = this.createDefaultMenu();\n        this.mainMenu = this.createMainMenu( menu );\n        bar.appendChild( this.mainMenu );\n\n        // Mask\n        var mask = this.createMask();\n        this.mask = mask;\n        this.container.appendChild( mask );\n\n        // Dispose\n        bar.dispose = function () {\n\n            if ( scope.fullscreenElement ) {\n\n                bar.removeChild( scope.fullscreenElement );\n                scope.fullscreenElement.dispose();\n                scope.fullscreenElement = null;\n\n            }\n\n            if ( scope.settingElement ) {\n\n                bar.removeChild( scope.settingElement );\n                scope.settingElement.dispose();\n                scope.settingElement = null;\n\n            }\n\n            if ( scope.videoElement ) {\n\n                bar.removeChild( scope.videoElement );\n                scope.videoElement.dispose();\n                scope.videoElement = null;\n\n            }\n\n        };\n\n        this.container.appendChild( bar );\n\n        // Mask events\n        this.mask.addEventListener( 'mousemove', this.PREVENT_EVENT_HANDLER, true );\n        this.mask.addEventListener( 'mouseup', this.PREVENT_EVENT_HANDLER, true );\n        this.mask.addEventListener( 'mousedown', this.PREVENT_EVENT_HANDLER, true );\n        this.mask.addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', function ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            scope.mask.hide();\n            scope.settingElement.deactivate();\n\n        }, false );\n\n        // Event listener\n        this.addEventListener( 'control-bar-toggle', bar.toggle );\n\n        this.barElement = bar;\n\n    },\n\n    /**\n     * Create default menu\n     * @memberOf Widget\n     * @instance\n     */\n    createDefaultMenu: function () {\n\n        var scope = this, handler;\n\n        handler = function ( method, data ) {\n\n            return function () {\n\n                scope.dispatchEvent( { \n\n                    type: 'panolens-viewer-handler', \n                    method: method, \n                    data: data \n\n                } ); \n\n            };\n\n        };\n\n        return [\n\n            { \n                title: 'Control', \n                subMenu: [ \n                    { \n                        title: this.TOUCH_ENABLED ? 'Touch' : 'Mouse', \n                        handler: handler( 'enableControl', CONTROLS.ORBIT )\n                    },\n                    { \n                        title: 'Sensor', \n                        handler: handler( 'enableControl', CONTROLS.DEVICEORIENTATION ) \n                    } \n                ]\n            },\n\n            { \n                title: 'Mode', \n                subMenu: [ \n                    { \n                        title: 'Normal',\n                        handler: handler( 'disableEffect' )\n                    }, \n                    { \n                        title: 'Cardboard',\n                        handler: handler( 'enableEffect', MODES.CARDBOARD )\n                    },\n                    { \n                        title: 'Stereoscopic',\n                        handler: handler( 'enableEffect', MODES.STEREO )\n                    }\n                ]\n            }\n\n        ];\n\n    },\n\n    /**\n     * Add buttons on top of control bar\n     * @param {string} name - The control button name to be created\n     * @memberOf Widget\n     * @instance\n     */\n    addControlButton: function ( name ) {\n\n        let element;\n\n        switch( name ) {\n\n        case 'fullscreen':\n\n            element = this.createFullscreenButton();\n            this.fullscreenElement = element; \n\n            break;\n\n        case 'setting':\n\n            element = this.createSettingButton();\n            this.settingElement = element;\n\n            break;\n\n        case 'video':\n\n            element = this.createVideoControl();\n            this.videoElement = element;\n\n            break;\n\n        default:\n\n            return;\n\n        }\n\n        if ( !element ) {\n\n            return;\n\n        }\n\n        this.barElement.appendChild( element );\n\n    },\n\n    /**\n     * Create modal mask\n     * @memberOf Widget\n     * @instance\n     */\n    createMask: function () {\n\n        const element = document.createElement( 'div' );\n        element.style.position = 'absolute';\n        element.style.top = 0;\n        element.style.left = 0;\n        element.style.width = '100%';\n        element.style.height = '100%';\n        element.style.background = 'transparent';\n        element.style.display = 'none';\n\n        element.show = function () {\n\n            this.style.display = 'block';\n\n        };\n\n        element.hide = function () {\n\n            this.style.display = 'none';\n\n        };\n\n        return element;\n\n    },\n\n    /**\n     * Create Setting button to toggle menu\n     * @memberOf Widget\n     * @instance\n     */\n    createSettingButton: function () {\n\n        let scope = this, item;\n\n        function onTap ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            scope.mainMenu.toggle();\n\n            if ( this.activated ) {\n\t\n                this.deactivate();\n\n            } else {\n\n                this.activate();\n\n            }\n\n        }\n\n        item = this.createCustomItem( { \n\n            style: { \n\n                backgroundImage: 'url(\"' + DataImage.Setting + '\")',\n                webkitTransition: this.DEFAULT_TRANSITION,\n                transition: this.DEFAULT_TRANSITION\n\n            },\n\n            onTap: onTap\n\n        } );\n\n        item.activate = function () {\n\n            this.style.transform = 'rotate3d(0,0,1,90deg)';\n            this.activated = true;\n            scope.mask.show();\n\n        };\n\n        item.deactivate = function () {\n\n            this.style.transform = 'rotate3d(0,0,0,0)';\n            this.activated = false;\n            scope.mask.hide();\n\n            if ( scope.mainMenu && scope.mainMenu.visible ) {\n\n                scope.mainMenu.hide();\n\t\t\t\t\n            }\n\n            if ( scope.activeSubMenu && scope.activeSubMenu.visible ) {\n\n                scope.activeSubMenu.hide();\n\n            }\n\n            if ( scope.mainMenu && scope.mainMenu._width ) {\n\n                scope.mainMenu.changeSize( scope.mainMenu._width );\n                scope.mainMenu.unslideAll();\n\n            }\n\t\t\t\n        };\n\n        item.activated = false;\n\n        return item;\n\n    },\n\n    /**\n     * Create Fullscreen button\n     * @return {HTMLSpanElement} - The dom element icon for fullscreen\n     * @memberOf Widget\n     * @instance\n     * @fires Widget#panolens-viewer-handler\n     */\n    createFullscreenButton: function () {\n\n        let scope = this, item, isFullscreen = false, tapSkipped = true, stylesheetId;\n\n        const { container } = this;\n\n        stylesheetId = 'panolens-style-addon';\n\n        // Don't create button if no support\n        if ( !document.fullscreenEnabled       && \n\t\t\t!document.webkitFullscreenEnabled &&\n\t\t\t!document.mozFullScreenEnabled    &&\n\t\t\t!document.msFullscreenEnabled ) {\n            return;\n        }\n\n        function onTap ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            tapSkipped = false;\n\n            if ( !isFullscreen ) {\n\n                if ( container.requestFullscreen ) { container.requestFullscreen(); }\n                if ( container.msRequestFullscreen ) { container.msRequestFullscreen(); }\n                if ( container.mozRequestFullScreen ) { container.mozRequestFullScreen(); }\n                if ( container.webkitRequestFullscreen ) { container.webkitRequestFullscreen( Element.ALLOW_KEYBOARD_INPUT ); }\n              \n                isFullscreen = true;\n\n            } else {\n\n                if ( document.exitFullscreen ) { document.exitFullscreen(); }\n                if ( document.msExitFullscreen ) { document.msExitFullscreen(); }\n                if ( document.mozCancelFullScreen ) { document.mozCancelFullScreen(); }\n                if ( document.webkitExitFullscreen ) { document.webkitExitFullscreen( ); }\n\n                isFullscreen = false;\n\n            }\n\n            this.style.backgroundImage = ( isFullscreen ) \n                ? 'url(\"' + DataImage.FullscreenLeave + '\")' \n                : 'url(\"' + DataImage.FullscreenEnter + '\")';\n\n        }\n\n        function onFullScreenChange () {\n\n            if ( tapSkipped ) {\n\n                isFullscreen = !isFullscreen; \n\n                item.style.backgroundImage = ( isFullscreen ) \n                    ? 'url(\"' + DataImage.FullscreenLeave + '\")' \n                    : 'url(\"' + DataImage.FullscreenEnter + '\")';\n\n            }\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @event Widget#panolens-viewer-handler\n             * @property {string} method - 'onWindowResize' function call on Viewer\n             */\n            scope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'onWindowResize' } );\n\n            tapSkipped = true;\n\n        }\n\n        document.addEventListener( 'fullscreenchange', onFullScreenChange, false );\n        document.addEventListener( 'webkitfullscreenchange', onFullScreenChange, false );\n        document.addEventListener( 'mozfullscreenchange', onFullScreenChange, false );\n        document.addEventListener( 'MSFullscreenChange', onFullScreenChange, false );\n\n        item = this.createCustomItem( { \n\n            style: { \n\n                backgroundImage: 'url(\"' + DataImage.FullscreenEnter + '\")' \n\n            },\n\n            onTap: onTap\n\n        } );\n\n        // Add fullscreen stlye if not exists\n        if ( !document.querySelector( stylesheetId ) ) {\n            const sheet = document.createElement( 'style' );\n            sheet.id = stylesheetId;\n            sheet.innerHTML = ':-webkit-full-screen { width: 100% !important; height: 100% !important }';\n            document.body.appendChild( sheet );\n        }\n\t\t\n        return item;\n\n    },\n\n    /**\n     * Create video control container\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLSpanElement} - The dom element icon for video control\n     */\n    createVideoControl: function () {\n\n        const item = document.createElement( 'span' );\n        item.style.display = 'none';\n        item.show = function () { \n\n            item.style.display = '';\n\n        };\n\n        item.hide = function () { \n\n            item.style.display = 'none';\n            item.controlButton.paused = true;\n            item.controlButton.update();\n\n        };\n\n        item.controlButton = this.createVideoControlButton();\n        item.seekBar = this.createVideoControlSeekbar();\n\t\t\n        item.appendChild( item.controlButton );\n        item.appendChild( item.seekBar );\n\n        item.dispose = function () {\n\n            item.removeChild( item.controlButton );\n            item.removeChild( item.seekBar );\n\n            item.controlButton.dispose();\n            item.controlButton = null;\n\n            item.seekBar.dispose();\n            item.seekBar = null;\n\n        };\n\n        this.addEventListener( 'video-control-show', item.show );\n        this.addEventListener( 'video-control-hide', item.hide );\n\n        return item;\n\n    },\n\n    /**\n     * Create video control button\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLSpanElement} - The dom element icon for video control\n     * @fires Widget#panolens-viewer-handler\n     */\n    createVideoControlButton: function () {\n\n        const scope = this;\n\n        function onTap ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @event Widget#panolens-viewer-handler\n             * @property {string} method - 'toggleVideoPlay' function call on Viewer\n             */\n            scope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'toggleVideoPlay', data: !this.paused } );\n\n            this.paused = !this.paused;\n\n            item.update();\n\n        }\n        const item = this.createCustomItem( { \n\n            style: { \n\n                float: 'left',\n                backgroundImage: 'url(\"' + DataImage.VideoPlay + '\")'\n\n            },\n\n            onTap: onTap\n\n        } );\n\n        item.paused = true;\n\n        item.update = function ( paused ) {\n\n            this.paused = paused !== undefined ? paused : this.paused;\n\n            this.style.backgroundImage = 'url(\"' + ( this.paused \n                ? DataImage.VideoPlay \n                : DataImage.VideoPause ) + '\")';\n\n        };\n\n        return item;\n\n    },\n\n    /**\n     * Create video seekbar\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLSpanElement} - The dom element icon for video seekbar\n     * @fires Widget#panolens-viewer-handler\n     */\n    createVideoControlSeekbar: function () {\n\n        let scope = this, item, progressElement, progressElementControl,\n            isDragging = false, mouseX, percentageNow, percentageNext;\n\n        progressElement = document.createElement( 'div' );\n        progressElement.style.width = '0%';\n        progressElement.style.height = '100%';\n        progressElement.style.backgroundColor = '#fff';\n\n        progressElementControl = document.createElement( 'div' );\n        progressElementControl.style.float = 'right';\n        progressElementControl.style.width = '14px';\n        progressElementControl.style.height = '14px';\n        progressElementControl.style.transform = 'translate(7px, -5px)';\n        progressElementControl.style.borderRadius = '50%';\n        progressElementControl.style.backgroundColor = '#ddd';\n\n        progressElementControl.addEventListener( 'mousedown', onMouseDown, { passive: true } );\n        progressElementControl.addEventListener( 'touchstart', onMouseDown,  { passive: true } );\n\n        function onMouseDown ( event ) {\n\n            event.stopPropagation();\n\t\t\t\n            isDragging = true;\n\t\t\t\n            mouseX = event.clientX || ( event.changedTouches && event.changedTouches[0].clientX );\n\n            percentageNow = parseInt( progressElement.style.width ) / 100;\n\n            addControlListeners();\n        }\n\n        function onVideoControlDrag ( event ) {\n\n            if( isDragging ){\n\n                const clientX = event.clientX || ( event.changedTouches && event.changedTouches[0].clientX );\n\t\t\t\t\n                percentageNext = ( clientX - mouseX ) / item.clientWidth;\n\n                percentageNext = percentageNow + percentageNext;\n\n                percentageNext = percentageNext > 1 ? 1 : ( ( percentageNext < 0 ) ? 0 : percentageNext );\n\n                item.setProgress ( percentageNext );\n\n                /**\n                 * Viewer handler event\n                 * @type {object}\n                 * @event Widget#panolens-viewer-handler\n                 * @property {string} method - 'setVideoCurrentTime' function call on Viewer\n                 * @property {number} data - Percentage of current video. Range from 0.0 to 1.0\n                 */\n                scope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'setVideoCurrentTime', data: percentageNext } );\n\n            }\n\n        }\n\n        function onVideoControlStop ( event ) {\n\n            event.stopPropagation();\n\n            isDragging = false;\n\n            removeControlListeners();\n\n        }\n\n        function addControlListeners () {\n\n            scope.container.addEventListener( 'mousemove', onVideoControlDrag, { passive: true } );\n            scope.container.addEventListener( 'mouseup', onVideoControlStop, { passive: true } );\n            scope.container.addEventListener( 'touchmove', onVideoControlDrag, { passive: true } );\n            scope.container.addEventListener( 'touchend', onVideoControlStop, { passive: true } );\n\n\n        }\n\n        function removeControlListeners () {\n\n            scope.container.removeEventListener( 'mousemove', onVideoControlDrag, false );\n            scope.container.removeEventListener( 'mouseup', onVideoControlStop, false );\n            scope.container.removeEventListener( 'touchmove', onVideoControlDrag, false );\n            scope.container.removeEventListener( 'touchend', onVideoControlStop, false );\n\n        }\n\n        function onTap ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            if ( event.target === progressElementControl ) { return; }\n\n            const percentage = ( event.changedTouches && event.changedTouches.length > 0 )\n                ? ( event.changedTouches[0].pageX - event.target.getBoundingClientRect().left ) / this.clientWidth\n                : event.offsetX / this.clientWidth;\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @property {string} method - 'setVideoCurrentTime' function call on Viewer\n             * @property {number} data - Percentage of current video. Range from 0.0 to 1.0\n             */\n            scope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'setVideoCurrentTime', data: percentage } );\n\n            item.setProgress( event.offsetX / this.clientWidth );\n\n        }\n        function onDispose () {\n\n            removeControlListeners();\n            progressElement = null;\n            progressElementControl = null;\n\n        }\n\n        progressElement.appendChild( progressElementControl );\n\n        item = this.createCustomItem( {\n\n            style: { \n\n                float: 'left',\n                width: '30%',\n                height: '4px',\n                marginTop: '20px',\n                backgroundColor: 'rgba(188,188,188,0.8)'\n\n            },\n\n            onTap: onTap,\n            onDispose: onDispose\n\n        } );\n\n        item.appendChild( progressElement );\n\n        item.setProgress = function( percentage ) {\n\n            progressElement.style.width = percentage * 100 + '%';\n\n        };\t\t\n\n        this.addEventListener( 'video-update', function ( event ) { \n\n            item.setProgress( event.percentage ); \n\n        } );\n\n        item.progressElement = progressElement;\n        item.progressElementControl = progressElementControl;\n\n        return item;\n\n    },\n\n    /**\n     * Create menu item\n     * @param  {string} title - Title to display\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLElement} - An anchor tag element\n     */\n    createMenuItem: function ( title ) {\n\n        const scope = this; \n        const item = document.createElement( 'a' );\n        item.textContent = title;\n        item.style.display = 'block';\n        item.style.padding = '10px';\n        item.style.textDecoration = 'none';\n        item.style.cursor = 'pointer';\n        item.style.pointerEvents = 'auto';\n        item.style.transition = this.DEFAULT_TRANSITION;\n\n        item.slide = function ( right ) {\n\n            this.style.transform = 'translateX(' + ( right ? '' : '-' ) + '100%)';\n\n        };\n\n        item.unslide = function () {\n\n            this.style.transform = 'translateX(0)';\n\n        };\n\n        item.setIcon = function ( url ) {\n\n            if ( this.icon ) {\n\n                this.icon.style.backgroundImage = 'url(' + url + ')';\n\n            }\n\n        };\n\n        item.setSelectionTitle = function ( title ) {\n\n            if ( this.selection ) {\n\n                this.selection.textContent = title;\n\n            }\n\n        };\n\n        item.addSelection = function ( name ) {\n\t\t\t\n            const selection = document.createElement( 'span' );\n            selection.style.fontSize = '13px';\n            selection.style.fontWeight = '300';\n            selection.style.float = 'right';\n\n            this.selection = selection;\n            this.setSelectionTitle( name );\n            this.appendChild( selection );\n\t\t\t\n            return this;\n\n        };\n\n        item.addIcon = function ( url = DataImage.ChevronRight, left = false, flip = false ) {\n\t\t\t\n            const element = document.createElement( 'span' );\n            element.style.float = left ? 'left' : 'right';\n            element.style.width = '17px';\n            element.style.height = '17px';\n            element.style[ 'margin' + ( left ? 'Right' : 'Left' ) ] = '12px';\n            element.style.backgroundSize = 'cover';\n\n            if ( flip ) {\n\n                element.style.transform = 'rotateZ(180deg)';\n\n            }\n\n            this.icon = element;\n            this.setIcon( url );\n            this.appendChild( element );\n\n            return this;\n\n        };\n\n        item.addSubMenu = function ( title, items ) {\n\n            this.subMenu = scope.createSubMenu( title, items );\n\n            return this;\n\n        };\n\n        item.addEventListener( 'mouseenter', function () {\n\t\t\t\n            this.style.backgroundColor = '#e0e0e0';\n\n        }, false );\n\n        item.addEventListener( 'mouseleave', function () {\n\t\t\t\n            this.style.backgroundColor = '#fafafa';\n\n        }, false );\n\n        return item;\n\n    },\n\n    /**\n     * Create menu item header\n     * @param  {string} title - Title to display\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLElement} - An anchor tag element\n     */\n    createMenuItemHeader: function ( title ) {\n\n        const header = this.createMenuItem( title );\n\n        header.style.borderBottom = '1px solid #333';\n        header.style.paddingBottom = '15px';\n\n        return header;\n\n    },\n\n    /**\n     * Create main menu\n     * @param  {array} menus - Menu array list\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLElement} - A span element\n     */\n    createMainMenu: function ( menus ) {\n\t\t\n        let scope = this, menu = this.createMenu();\n\n        menu._width = 200;\n        menu.changeSize( menu._width );\n\n        function onTap ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            let mainMenu = scope.mainMenu, subMenu = this.subMenu;\n\n            function onNextTick () {\n\n                mainMenu.changeSize( subMenu.clientWidth );\n                subMenu.show();\n                subMenu.unslideAll();\n\n            }\n\n            mainMenu.hide();\n            mainMenu.slideAll();\n            mainMenu.parentElement.appendChild( subMenu );\n\n            scope.activeMainItem = this;\n            scope.activeSubMenu = subMenu;\n\n            window.requestAnimationFrame( onNextTick );\n\n        }\n        for ( var i = 0; i < menus.length; i++ ) {\n\n            var item = menu.addItem( menus[ i ].title );\n\n            item.style.paddingLeft = '20px';\n\n            item.addIcon()\n                .addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', onTap, false );\n\n            if ( menus[ i ].subMenu && menus[ i ].subMenu.length > 0 ) {\n\n                var title = menus[ i ].subMenu[ 0 ].title;\n\n                item.addSelection( title )\n                    .addSubMenu( menus[ i ].title, menus[ i ].subMenu );\n\n            }\n\n        }\n\n        return menu;\n\n    },\n\n    /**\n     * Create sub menu\n     * @param {string} title - Sub menu title\n     * @param {array} items - Item array list\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLElement} - A span element\n     */\n    createSubMenu: function ( title, items ) {\n\n        let scope = this, menu, subMenu = this.createMenu();\n\n        subMenu.items = items;\n        subMenu.activeItem = null;\n\n        function onTap ( event ) {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            menu = scope.mainMenu;\n            menu.changeSize( menu._width );\n            menu.unslideAll();\n            menu.show();\n            subMenu.slideAll( true );\n            subMenu.hide();\n\n            if ( this.type !== 'header' ) {\n\n                subMenu.setActiveItem( this );\n                scope.activeMainItem.setSelectionTitle( this.textContent );\n\n                if ( this.handler ) { this.handler(); }\n\n            }\n\n        }\n\n        subMenu.addHeader( title ).addIcon( undefined, true, true ).addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', onTap, false );\n\n        for ( let i = 0; i < items.length; i++ ) {\n\n            const item = subMenu.addItem( items[ i ].title );\n\n            item.style.fontWeight = 300;\n            item.handler = items[ i ].handler;\n            item.addIcon( ' ', true );\n            item.addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', onTap, false );\n\n            if ( !subMenu.activeItem ) {\n\n                subMenu.setActiveItem( item );\n\n            }\n\n        }\n\n        subMenu.slideAll( true );\n\n        return subMenu;\n\t\t\n    },\n\n    /**\n     * Create general menu\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLElement} - A span element\n     */\n    createMenu: function () {\n\n        const scope = this;\n        const menu = document.createElement( 'span' );\n        const style = menu.style;\n\n        style.padding = '5px 0';\n        style.position = 'fixed';\n        style.bottom = '100%';\n        style.right = '14px';\n        style.backgroundColor = '#fafafa';\n        style.fontFamily = 'Helvetica Neue';\n        style.fontSize = '14px';\n        style.visibility = 'hidden';\n        style.opacity = 0;\n        style.boxShadow = '0 0 12pt rgba(0,0,0,0.25)';\n        style.borderRadius = '2px';\n        style.overflow = 'hidden';\n        style.willChange = 'width, height, opacity';\n        style.pointerEvents = 'auto';\n        style.transition = this.DEFAULT_TRANSITION;\n\n        menu.visible = false;\n\n        menu.changeSize = function ( width, height ) {\n\n            if ( width ) {\n\n                this.style.width = width + 'px';\n\n            }\n\n            if ( height ) {\n\n                this.style.height = height + 'px';\n\n            }\n\n        };\n\n        menu.show = function () {\n\n            this.style.opacity = 1;\n            this.style.visibility = 'visible';\n            this.visible = true;\n\n        };\n\n        menu.hide = function () {\n\n            this.style.opacity = 0;\n            this.style.visibility = 'hidden';\n            this.visible = false;\n\n        };\n\n        menu.toggle = function () {\n\n            if ( this.visible ) {\n\n                this.hide();\n\n            } else {\n\n                this.show();\n\n            }\n\n        };\n\n        menu.slideAll = function ( right ) {\n\n            for ( let i = 0; i < menu.children.length; i++ ){\n\n                if ( menu.children[ i ].slide ) {\n\n                    menu.children[ i ].slide( right );\n\n                }\n\n            }\n\n        };\n\n        menu.unslideAll = function () {\n\n            for ( let i = 0; i < menu.children.length; i++ ){\n\n                if ( menu.children[ i ].unslide ) {\n\n                    menu.children[ i ].unslide();\n\n                }\n\n            }\n\n        };\n\n        menu.addHeader = function ( title ) {\n\n            const header = scope.createMenuItemHeader( title );\n            header.type = 'header';\n\n            this.appendChild( header );\n\n            return header;\n\n        };\n\n        menu.addItem = function ( title ) {\n\n            const item = scope.createMenuItem( title );\n            item.type = 'item';\n\n            this.appendChild( item );\n\n            return item;\n\n        };\n\n        menu.setActiveItem = function ( item ) {\n\n            if ( this.activeItem ) {\n\n                this.activeItem.setIcon( ' ' );\n\n            }\n\n            item.setIcon( DataImage.Check );\n\n            this.activeItem = item;\n\n        };\n\n        menu.addEventListener( 'mousemove', this.PREVENT_EVENT_HANDLER, true );\n        menu.addEventListener( 'mouseup', this.PREVENT_EVENT_HANDLER, true );\n        menu.addEventListener( 'mousedown', this.PREVENT_EVENT_HANDLER, true );\n\n        return menu;\n\n    },\n\n    /**\n     * Create custom item element\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLSpanElement} - The dom element icon\n     */\n    createCustomItem: function ( options = {} ) {\n\n        const scope = this;\n        const item = options.element || document.createElement( 'span' );\n        const { onDispose } = options;\n\n        item.style.cursor = 'pointer';\n        item.style.float = 'right';\n        item.style.width = '44px';\n        item.style.height = '100%';\n        item.style.backgroundSize = '60%';\n        item.style.backgroundRepeat = 'no-repeat';\n        item.style.backgroundPosition = 'center';\n        item.style.webkitUserSelect = \n\t\titem.style.MozUserSelect = \n\t\titem.style.userSelect = 'none';\n        item.style.position = 'relative';\n        item.style.pointerEvents = 'auto';\n\n        // White glow on icon\n        item.addEventListener( scope.TOUCH_ENABLED ? 'touchstart' : 'mouseenter', function() {\n            item.style.filter = \n\t\t\titem.style.webkitFilter = 'drop-shadow(0 0 5px rgba(255,255,255,1))';\n        }, { passive: true });\n        item.addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'mouseleave', function() {\n            item.style.filter = \n\t\t\titem.style.webkitFilter = '';\n        }, { passive: true });\n\n        this.mergeStyleOptions( item, options.style );\n\n        if ( options.onTap ) {\n\n            item.addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', options.onTap, false );\n\n        }\n\n        item.dispose = function () {\n\n            item.removeEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', options.onTap, false );\n\n            if ( onDispose ) { options.onDispose(); }\n\n        };\n\t\t\n        return item;\n\n    },\n\n    /**\n     * Merge item css style\n     * @param  {HTMLElement} element - The element to be merged with style\n     * @param  {object} options - The style options\n     * @memberOf Widget\n     * @instance\n     * @return {HTMLElement} - The same element with merged styles\n     */\n    mergeStyleOptions: function ( element, options = {} ) {\n\n        for ( let property in options ){\n\n            if ( options.hasOwnProperty( property ) ) {\n\n                element.style[ property ] = options[ property ];\n\n            }\n\n        }\n\n        return element;\n\n    },\n\n    /**\n     * Dispose widgets by detaching dom elements from container\n     * @memberOf Widget\n     * @instance\n     */\n    dispose: function () {\n\n        if ( this.barElement ) {\n            this.container.removeChild( this.barElement );\n            this.barElement.dispose();\n            this.barElement = null;\n\n        }\n\n    }\n\t\n} );\n\n/**\n * @classdesc Base Panorama\n * @constructor\n * @param {THREE.Geometry} geometry - The geometry for this panorama\n * @param {THREE.Material} material - The material for this panorama\n */\nfunction Panorama ( geometry, material ) {\n\n    Mesh.call( this, geometry, material );\n\n    this.type = 'panorama';\n\n    this.ImageQualityLow = 1;\n    this.ImageQualityFair = 2;\n    this.ImageQualityMedium = 3;\n    this.ImageQualityHigh = 4;\n    this.ImageQualitySuperHigh = 5;\n\n    this.animationDuration = 1000;\n\n    this.defaultInfospotSize = 350;\n\n    this.container = undefined;\n\n    this.loaded = false;\n\n    this.linkedSpots = [];\n\n    this.isInfospotVisible = false;\n\t\n    this.linkingImageURL = undefined;\n    this.linkingImageScale = undefined;\n\n    this.material.side = BackSide;\n    this.material.opacity = 0;\n\n    this.scale.x *= -1;\n    this.renderOrder = -1;\n\n    this.active = false;\n\n    this.infospotAnimation = new Tween.Tween( this ).to( {}, this.animationDuration / 2 );\n\n    this.addEventListener( 'load', this.fadeIn.bind( this ) );\n    this.addEventListener( 'panolens-container', this.setContainer.bind( this ) );\n    this.addEventListener( 'click', this.onClick.bind( this ) );\n\n    this.setupTransitions();\n\n}\n\nPanorama.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n    constructor: Panorama,\n\n    /**\n     * Adding an object\n     * To counter the scale.x = -1, it will automatically add an \n     * empty object with inverted scale on x\n     * @memberOf Panorama\n     * @instance\n     * @param {THREE.Object3D} object - The object to be added\n     */\n    add: function ( object ) {\n\n        let invertedObject;\n\n        if ( arguments.length > 1 ) {\n\n            for ( var i = 0; i < arguments.length; i ++ ) {\n\n                this.add( arguments[ i ] );\n\n            }\n\n            return this;\n\n        }\n\n        // In case of infospots\n        if ( object instanceof Infospot ) {\n\n            invertedObject = object;\n\n            if ( object.dispatchEvent ) {\n\n                const { container } = this;\n\n                if ( container ) { object.dispatchEvent( { type: 'panolens-container', container } ); }\n\t\t\t\t\n                object.dispatchEvent( { type: 'panolens-infospot-focus', method: function ( vector, duration, easing ) {\n\n                    /**\n                     * Infospot focus handler event\n                     * @type {object}\n                     * @event Panorama#panolens-viewer-handler\n                     * @property {string} method - Viewer function name\n                     * @property {*} data - The argument to be passed into the method\n                     */\n                    this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'tweenControlCenter', data: [ vector, duration, easing ] } );\n\n\n                }.bind( this ) } );\n            }\n\n        } else {\n\n            // Counter scale.x = -1 effect\n            invertedObject = new Object3D();\n            invertedObject.scale.x = -1;\n            invertedObject.scalePlaceHolder = true;\n            invertedObject.add( object );\n\n        }\n\n        Object3D.prototype.add.call( this, invertedObject );\n\n    },\n\n    load: function () {\n\n        this.onLoad();\n\t\t\n    },\n\n    /**\n     * Click event handler\n     * @param  {object} event - Click event\n     * @memberOf Panorama\n     * @instance\n     * @fires Infospot#dismiss\n     */\n    onClick: function ( event ) {\n\n        if ( event.intersects && event.intersects.length === 0 ) {\n\n            this.traverse( function ( object ) {\n\n                /**\n                 * Dimiss event\n                 * @type {object}\n                 * @event Infospot#dismiss\n                 */\n                object.dispatchEvent( { type: 'dismiss' } );\n\n            } );\n\n        }\n\n    },\n\n    /**\n     * Set container of this panorama \n     * @param {HTMLElement|object} data - Data with container information\n     * @memberOf Panorama\n     * @instance\n     * @fires Infospot#panolens-container\n     */\n    setContainer: function ( data ) {\n\n        let container;\n\n        if ( data instanceof HTMLElement ) {\n\n            container = data;\n\n        } else if ( data && data.container ) {\n\n            container = data.container;\n\n        }\n\n        if ( container ) {\n\n            this.children.forEach( function ( child ) {\n\n                if ( child instanceof Infospot && child.dispatchEvent ) {\n\n                    /**\n                     * Set container event\n                     * @type {object}\n                     * @event Infospot#panolens-container\n                     * @property {HTMLElement} container - The container of this panorama\n                     */\n                    child.dispatchEvent( { type: 'panolens-container', container: container } );\n\n                }\n\n            } );\n\n            this.container = container;\n\n        }\n\n    },\n\n    /**\n     * This will be called when panorama is loaded\n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#load\n     */\n    onLoad: function () {\n\n        this.loaded = true;\n\n        /**\n         * Load panorama event\n         * @type {object}\n         * @event Panorama#load\n         */\n        this.dispatchEvent( { type: 'load' } );\n\n    },\n\n    /**\n     * This will be called when panorama is in progress\n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#progress\n     */\n    onProgress: function ( progress ) {\n\n        /**\n         * Loading panorama progress event\n         * @type {object}\n         * @event Panorama#progress\n         * @property {object} progress - The progress object containing loaded and total amount\n         */\n        this.dispatchEvent( { type: 'progress', progress: progress } );\n\n    },\n\n    /**\n     * This will be called when panorama loading has error\n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#error\n     */\n    onError: function () {\n\n        /**\n         * Loading panorama error event\n         * @type {object}\n         * @event Panorama#error\n         */\n        this.dispatchEvent( { type: 'error' } );\n\n    },\n\n    /**\n     * Get zoom level based on window width\n     * @memberOf Panorama\n     * @instance\n     * @return {number} zoom level indicating image quality\n     */\n    getZoomLevel: function () {\n\n        let zoomLevel;\n\n        if ( window.innerWidth <= 800 ) {\n\n            zoomLevel = this.ImageQualityFair;\n\n        } else if ( window.innerWidth > 800 &&  window.innerWidth <= 1280 ) {\n\n            zoomLevel = this.ImageQualityMedium;\n\n        } else if ( window.innerWidth > 1280 && window.innerWidth <= 1920 ) {\n\n            zoomLevel = this.ImageQualityHigh;\n\n        } else if ( window.innerWidth > 1920 ) {\n\n            zoomLevel = this.ImageQualitySuperHigh;\n\n        } else {\n\n            zoomLevel = this.ImageQualityLow;\n\n        }\n\n        return zoomLevel;\n\n    },\n\n    /**\n     * Update texture of a panorama\n     * @memberOf Panorama\n     * @instance\n     * @param {THREE.Texture} texture - Texture to be updated\n     */\n    updateTexture: function ( texture ) {\n\n        this.material.map = texture;\n        this.material.needsUpdate = true;\n\n    },\n\n    /**\n     * Toggle visibility of infospots in this panorama\n     * @param  {boolean} isVisible - Visibility of infospots\n     * @param  {number} delay - Delay in milliseconds to change visibility\n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#infospot-animation-complete\n     */\n    toggleInfospotVisibility: function ( isVisible, delay ) {\n\n        delay = ( delay !== undefined ) ? delay : 0;\n\n        const visible = ( isVisible !== undefined ) ? isVisible : ( this.isInfospotVisible ? false : true );\n\n        this.traverse( function ( object ) {\n\n            if ( object instanceof Infospot ) {\n\n                if ( visible ) {\n\n                    object.show( delay );\n\n                } else {\n\n                    object.hide( delay );\n\n                }\n\n            }\n\n        } );\n\n        this.isInfospotVisible = visible;\n\n        // Animation complete event\n        this.infospotAnimation.onComplete( function () {\n\n            /**\n             * Complete toggling infospot visibility\n             * @event Panorama#infospot-animation-complete\n             * @type {object} \n             */\n            this.dispatchEvent( { type: 'infospot-animation-complete', visible: visible } );\n\n        }.bind( this ) ).delay( delay ).start();\n\n    },\n\n    /**\n     * Set image of this panorama's linking infospot\n     * @memberOf Panorama\n     * @instance\n     * @param {string} url   - Url to the image asset\n     * @param {number} scale - Scale factor of the infospot\n     */\n    setLinkingImage: function ( url, scale ) {\n\n        this.linkingImageURL = url;\n        this.linkingImageScale = scale;\n\n    },\n\n    /**\n     * Link one-way panorama\n     * @param  {Panorama} pano  - The panorama to be linked to\n     * @param  {THREE.Vector3} position - The position of infospot which navigates to the pano\n     * @param  {number} [imageScale=300] - Image scale of linked infospot\n     * @param  {string} [imageSrc=DataImage.Arrow] - The image source of linked infospot\n     * @memberOf Panorama\n     * @instance\n     */\n    link: function ( pano, position, imageScale, imageSrc ) {\n\n        let scale, img;\n\n        this.visible = true;\n\n        if ( !position ) {\n\n            console.warn( 'Please specify infospot position for linking' );\n\n            return;\n\n        }\n\n        // Infospot scale\n        if ( imageScale !== undefined ) {\n\n            scale = imageScale;\n\n        } else if ( pano.linkingImageScale !== undefined ) {\n\n            scale = pano.linkingImageScale;\n\n        } else {\n\n            scale = 300;\n\n        }\n\n\n        // Infospot image\n        if ( imageSrc ) {\n\n            img = imageSrc;\n\n        } else if ( pano.linkingImageURL ) {\n\n            img = pano.linkingImageURL;\n\n        } else {\n\n            img = DataImage.Arrow;\n\n        }\n\n        // Creates a new infospot\n        const spot = new Infospot( scale, img );\n        spot.position.copy( position );\n        spot.toPanorama = pano;\n        spot.addEventListener( 'click', function () {\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @event Panorama#panolens-viewer-handler\n             * @property {string} method - Viewer function name\n             * @property {*} data - The argument to be passed into the method\n             */\n            this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'setPanorama', data: pano } );\n\n        }.bind( this ) );\n\n        this.linkedSpots.push( spot );\n\n        this.add( spot );\n\n        this.visible = false;\n\n    },\n\n    reset: function () {\n\n        this.children.length = 0;\t\n\n    },\n\n    setupTransitions: function () {\n\n        this.fadeInAnimation = new Tween.Tween( this.material )\n            .easing( Tween.Easing.Quartic.Out )\n            .onStart( function () {\n\n                this.visible = true;\n                // this.material.visible = true;\n\n                /**\n                 * Enter panorama fade in start event\n                 * @event Panorama#enter-fade-start\n                 * @type {object} \n                 */\n                this.dispatchEvent( { type: 'enter-fade-start' } );\n\n            }.bind( this ) );\n\n        this.fadeOutAnimation = new Tween.Tween( this.material )\n            .easing( Tween.Easing.Quartic.Out )\n            .onComplete( function () {\n\n                this.visible = false;\n                // this.material.visible = true;\n\n                /**\n                 * Leave panorama complete event\n                 * @event Panorama#leave-complete\n                 * @type {object} \n                 */\n                this.dispatchEvent( { type: 'leave-complete' } );\n\n            }.bind( this ) );\n\n        this.enterTransition = new Tween.Tween( this )\n            .easing( Tween.Easing.Quartic.Out )\n            .onComplete( function () {\n\n                /**\n                 * Enter panorama and animation complete event\n                 * @event Panorama#enter-complete\n                 * @type {object} \n                 */\n                this.dispatchEvent( { type: 'enter-complete' } );\n\n            }.bind ( this ) )\n            .start();\n\n        this.leaveTransition = new Tween.Tween( this )\n            .easing( Tween.Easing.Quartic.Out );\n\n    },\n\n    onFadeAnimationUpdate: function () {\n\n        const alpha = this.material.opacity;\n        const { uniforms } = this.material;\n\n        if ( uniforms && uniforms.opacity ) {\n            uniforms.opacity.value = alpha;\n        }\n\n    },\n\n    /**\n     * Start fading in animation\n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#enter-fade-complete\n     */\n    fadeIn: function ( duration ) {\n\n        duration = duration >= 0 ? duration : this.animationDuration;\n\n        this.fadeOutAnimation.stop();\n        this.fadeInAnimation\n            .to( { opacity: 1 }, duration )\n            .onUpdate( this.onFadeAnimationUpdate.bind( this ) )\n            .onComplete( function () {\n\n                this.toggleInfospotVisibility( true, duration / 2 );\n\n                /**\n                 * Enter panorama fade complete event\n                 * @event Panorama#enter-fade-complete\n                 * @type {object} \n                 */\n                this.dispatchEvent( { type: 'enter-fade-complete' } );\t\t\t\n\n            }.bind( this ) )\n            .start();\n\n    },\n\n    /**\n     * Start fading out animation\n     * @memberOf Panorama\n     * @instance\n     */\n    fadeOut: function ( duration ) {\n\n        duration = duration >= 0 ? duration : this.animationDuration;\n\n        this.fadeInAnimation.stop();\n        this.fadeOutAnimation\n            .to( { opacity: 0 }, duration )\n            .onUpdate( this.onFadeAnimationUpdate.bind( this ) )\n            .start();\n\n    },\n\n    /**\n     * This will be called when entering a panorama \n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#enter\n     * @fires Panorama#enter-start\n     */\n    onEnter: function () {\n\n        const duration = this.animationDuration;\n\n        this.leaveTransition.stop();\n        this.enterTransition\n            .to( {}, duration )\n            .onStart( function () {\n\n                /**\n                 * Enter panorama and animation starting event\n                 * @event Panorama#enter-start\n                 * @type {object} \n                 */\n                this.dispatchEvent( { type: 'enter-start' } );\n\t\t\t\t\n                if ( this.loaded ) {\n\n                    this.fadeIn( duration );\n\n                } else {\n\n                    this.load();\n\n                }\n\t\t\t\t\n            }.bind( this ) )\n            .start();\n\n        /**\n         * Enter panorama event\n         * @event Panorama#enter\n         * @type {object} \n         */\n        this.dispatchEvent( { type: 'enter' } );\n\n        this.children.forEach( child => {\n\n            child.dispatchEvent( { type: 'panorama-enter' } );\n\n        } );\n\n        this.active = true;\n\n    },\n\n    /**\n     * This will be called when leaving a panorama\n     * @memberOf Panorama\n     * @instance\n     * @fires Panorama#leave\n     */\n    onLeave: function () {\n\n        const duration = this.animationDuration;\n\n        this.enterTransition.stop();\n        this.leaveTransition\n            .to( {}, duration )\n            .onStart( function () {\n\n                /**\n                 * Leave panorama and animation starting event\n                 * @event Panorama#leave-start\n                 * @type {object} \n                 */\n                this.dispatchEvent( { type: 'leave-start' } );\n\n                this.fadeOut( duration );\n                this.toggleInfospotVisibility( false );\n\n            }.bind( this ) )\n            .start();\n\n        /**\n         * Leave panorama event\n         * @event Panorama#leave\n         * @type {object} \n         */\n        this.dispatchEvent( { type: 'leave' } );\n\n        this.children.forEach( child => {\n\n            child.dispatchEvent( { type: 'panorama-leave' } );\n\n        } );\n\n        this.active = false;\n\n    },\n\n    /**\n     * Dispose panorama\n     * @memberOf Panorama\n     * @instance\n     */\n    dispose: function () {\n\n        this.infospotAnimation.stop();\n        this.fadeInAnimation.stop();\n        this.fadeOutAnimation.stop();\n        this.enterTransition.stop();\n        this.leaveTransition.stop();\n\n        /**\n         * On panorama dispose handler\n         * @type {object}\n         * @event Panorama#panolens-viewer-handler\n         * @property {string} method - Viewer function name\n         * @property {*} data - The argument to be passed into the method\n         */\n        this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'onPanoramaDispose', data: this } );\n\n        // recursive disposal on 3d objects\n        function recursiveDispose ( object ) {\n\n            const { geometry, material } = object;\n\n            for ( var i = object.children.length - 1; i >= 0; i-- ) {\n\n                recursiveDispose( object.children[i] );\n                object.remove( object.children[i] );\n\n            }\n\n            if ( object instanceof Infospot ) {\n\n                object.dispose();\n\n            }\n\t\t\t\n            if ( geometry ) { geometry.dispose(); object.geometry = null; }\n            if ( material ) { material.dispose(); object.material = null; }\n\n        }\n\n        recursiveDispose( this );\n\n        if ( this.parent ) {\n\n            this.parent.remove( this );\n\n        }\n\n    }\n\n} );\n\n/**\n * @classdesc Equirectangular based image panorama\n * @constructor\n * @param {string} image - Image url or HTMLImageElement\n */\nfunction ImagePanorama ( image, _geometry, _material ) {\n\n    const radius = 5000;\n    const geometry = _geometry || new SphereBufferGeometry( radius, 60, 40 );\n    const material = _material || new MeshBasicMaterial( { opacity: 0, transparent: true } );\n\n    Panorama.call( this, geometry, material );\n\n    this.src = image;\n    this.radius = radius;\n\n}\n\nImagePanorama.prototype = Object.assign( Object.create( Panorama.prototype ), {\n\n    constructor: ImagePanorama,\n\n    /**\n     * Load image asset\n     * @param  {*} src - Url or image element\n     * @memberOf ImagePanorama\n     * @instance\n     */\n    load: function ( src ) {\n\n        src = src || this.src;\n\n        if ( !src ) { \n\n            console.warn( 'Image source undefined' );\n\n            return; \n\n        } else if ( typeof src === 'string' ) {\n\n            TextureLoader.load( src, this.onLoad.bind( this ), this.onProgress.bind( this ), this.onError.bind( this ) );\n\n        } else if ( src instanceof HTMLImageElement ) {\n\n            this.onLoad( new Texture( src ) );\n\n        }\n\n    },\n\n    /**\n     * This will be called when image is loaded\n     * @param  {THREE.Texture} texture - Texture to be updated\n     * @memberOf ImagePanorama\n     * @instance\n     */\n    onLoad: function ( texture ) {\n\n        texture.minFilter = texture.magFilter = LinearFilter;\n        texture.needsUpdate = true;\n\t\t\n        this.updateTexture( texture );\n\n        window.requestAnimationFrame( Panorama.prototype.onLoad.bind( this ) );\n\n    },\n\n    /**\n     * Reset\n     * @memberOf ImagePanorama\n     * @instance\n     */\n    reset: function () {\n\n        Panorama.prototype.reset.call( this );\n\n    },\n\n    /**\n     * Dispose\n     * @memberOf ImagePanorama\n     * @instance\n     */\n    dispose: function () {\n\n        const { material: { map } } = this;\n\n        // Release cached image\n        Cache.remove( this.src );\n\n        if ( map ) { map.dispose(); }\n\n        Panorama.prototype.dispose.call( this );\n\n    }\n\n} );\n\n/**\n * @classdesc Empty panorama\n * @constructor\n */\nfunction EmptyPanorama () {\n\n    const geometry = new BufferGeometry();\n    const material = new MeshBasicMaterial( { color: 0x000000, opacity: 0, transparent: true } );\n\n    geometry.addAttribute( 'position', new BufferAttribute( new Float32Array(), 1 ) );\n\n    Panorama.call( this, geometry, material );\n\n}\n\nEmptyPanorama.prototype = Object.assign( Object.create( Panorama.prototype ), {\n\n    constructor: EmptyPanorama\n\n} );\n\n/**\n * @classdesc Cubemap-based panorama\n * @constructor\n * @param {array} images - Array of 6 urls to images, one for each side of the CubeTexture. The urls should be specified in the following order: pos-x, neg-x, pos-y, neg-y, pos-z, neg-z\n */\nfunction CubePanorama ( images = [] ){\n\n    const edgeLength = 10000;\n    const shader = Object.assign( {}, ShaderLib[ 'cube' ] );\n    const geometry = new BoxBufferGeometry( edgeLength, edgeLength, edgeLength );\n    const material = new ShaderMaterial( {\n\n        fragmentShader: shader.fragmentShader,\n        vertexShader: shader.vertexShader,\n        uniforms: shader.uniforms,\n        side: BackSide,\n        transparent: true\n\n    } );\n\n    Panorama.call( this, geometry, material );\n\n    this.images = images;\n    this.edgeLength = edgeLength;\n    this.material.uniforms.opacity.value = 0;\n\n}\n\nCubePanorama.prototype = Object.assign( Object.create( Panorama.prototype ), {\n\n    constructor: CubePanorama,\n\n    /**\n     * Load 6 images and bind listeners\n     * @memberOf CubePanorama\n     * @instance\n     */\n    load: function () {\n\n        CubeTextureLoader.load( \t\n\n            this.images, \n\n            this.onLoad.bind( this ), \n            this.onProgress.bind( this ), \n            this.onError.bind( this ) \n\n        );\n\n    },\n\n    /**\n     * This will be called when 6 textures are ready\n     * @param  {THREE.CubeTexture} texture - Cube texture\n     * @memberOf CubePanorama\n     * @instance\n     */\n    onLoad: function ( texture ) {\n\t\t\n        this.material.uniforms[ 'tCube' ].value = texture;\n\n        Panorama.prototype.onLoad.call( this );\n\n    },\n\n    /**\n     * Dispose\n     * @memberOf CubePanorama\n     * @instance\n     */\n    dispose: function () {\t\n\n        const { value } = this.material.uniforms.tCube;\n\n        this.images.forEach( ( image ) => { Cache.remove( image ); } );\n\n        if ( value instanceof CubeTexture ) {\n\n            value.dispose();\n\n        }\n\n        Panorama.prototype.dispose.call( this );\n\n    }\n\n} );\n\n/**\n * @classdesc Basic panorama with 6 pre-defined grid images\n * @constructor\n */\nfunction BasicPanorama () {\n\n    const images = [];\n\n    for ( let i = 0; i < 6; i++ ) {\n\n        images.push( DataImage.WhiteTile );\n\n    }\n\n    CubePanorama.call( this, images );\n\n}\n\nBasicPanorama.prototype = Object.assign( Object.create( CubePanorama.prototype ), {\n\n    constructor: BasicPanorama\n\n} );\n\n/**\n * @classdesc Video Panorama\n * @constructor\n * @param {string} src - Equirectangular video url\n * @param {object} [options] - Option for video settings\n * @param {HTMLElement} [options.videoElement] - HTML5 video element contains the video\n * @param {boolean} [options.loop=true] - Specify if the video should loop in the end\n * @param {boolean} [options.muted=true] - Mute the video or not. Need to be true in order to autoplay on some browsers\n * @param {boolean} [options.autoplay=false] - Specify if the video should auto play\n * @param {boolean} [options.playsinline=true] - Specify if video should play inline for iOS. If you want it to auto play inline, set both autoplay and muted options to true\n * @param {string} [options.crossOrigin=\"anonymous\"] - Sets the cross-origin attribute for the video, which allows for cross-origin videos in some browsers (Firefox, Chrome). Set to either \"anonymous\" or \"use-credentials\".\n * @param {number} [radius=5000] - The minimum radius for this panoram\n */\nfunction VideoPanorama ( src, options = {} ) {\n\n    const radius = 5000;\n    const geometry = new SphereBufferGeometry( radius, 60, 40 );\n    const material = new MeshBasicMaterial( { opacity: 0, transparent: true } );\n\n    Panorama.call( this, geometry, material );\n\n    this.src = src;\n\n    this.options = {\n\n        videoElement: document.createElement( 'video' ),\n        loop: true,\n        muted: true,\n        autoplay: false,\n        playsinline: true,\n        crossOrigin: 'anonymous'\n\n    };\n\n    Object.assign( this.options, options );\n\n    this.videoElement = this.options.videoElement;\n    this.videoProgress = 0;\n    this.radius = radius;\n\n    this.addEventListener( 'leave', this.pauseVideo.bind( this ) );\n    this.addEventListener( 'enter-fade-start', this.resumeVideoProgress.bind( this ) );\n    this.addEventListener( 'video-toggle', this.toggleVideo.bind( this ) );\n    this.addEventListener( 'video-time', this.setVideoCurrentTime.bind( this ) );\n\n}\nVideoPanorama.prototype = Object.assign( Object.create( Panorama.prototype ), {\n\n    constructor: VideoPanorama,\n\n    isMobile: function () {\n\n        let check = false;\n        (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})( window.navigator.userAgent || window.navigator.vendor || window.opera );\n        return check;\n\n    },\n\n    /**\n     * Load video panorama\n     * @memberOf VideoPanorama\n     * @instance\n     * @fires  Panorama#panolens-viewer-handler\n     */\n    load: function () {\n\n        const { muted, loop, autoplay, playsinline, crossOrigin } = this.options;\n        const video = this.videoElement;\n        const material = this.material;\n        const onProgress = this.onProgress.bind( this );\n        const onLoad = this.onLoad.bind( this );\n\n        video.loop = loop;\n        video.autoplay = autoplay;\n        video.playsinline = playsinline;\n        video.crossOrigin = crossOrigin;\n        video.muted = muted;\n\t\t\n        if ( playsinline ) {\n\n            video.setAttribute( 'playsinline', '' );\n            video.setAttribute( 'webkit-playsinline', '' );\n\n        } \n\n        const onloadeddata = function() {\n\n            this.setVideoTexture( video );\n\n            if ( autoplay ) {\n\n                /**\n                 * Viewer handler event\n                 * @type {object}\n                 * @property {string} method - 'updateVideoPlayButton'\n                 * @property {boolean} data - Pause video or not\n                 */\n                this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: false } );\n\n            }\n\n            // For mobile silent autoplay\n            if ( this.isMobile() ) {\n\n                video.pause();\n\n                if ( autoplay && muted ) {\n\n                    /**\n                     * Viewer handler event\n                     * @type {object}\n                     * @property {string} method - 'updateVideoPlayButton'\n                     * @property {boolean} data - Pause video or not\n                     */\n                    this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: false } );\n\n                } else {\n\n                    /**\n                     * Viewer handler event\n                     * @type {object}\n                     * @property {string} method - 'updateVideoPlayButton'\n                     * @property {boolean} data - Pause video or not\n                     */\n                    this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: true } );\n\n                }\n\t\t\t\t\n            }\n\n            const loaded = () => {\n\n                // Fix for threejs r89 delayed update\n                material.map.needsUpdate = true;\n\n                onProgress( { loaded: 1, total: 1 } );\n                onLoad();\n\n            };\n\n            window.requestAnimationFrame( loaded );\n\t\t\t\n        };\n\n        /**\n         * Ready state of the audio/video element\n         * 0 = HAVE_NOTHING - no information whether or not the audio/video is ready\n         * 1 = HAVE_METADATA - metadata for the audio/video is ready\n         * 2 = HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond\n         * 3 = HAVE_FUTURE_DATA - data for the current and at least the next frame is available\n         * 4 = HAVE_ENOUGH_DATA - enough data available to start playing\n         */\n        if ( video.readyState > 2 ) {\n\n            onloadeddata.call( this );\n\n        } else {\n\n            if ( video.querySelectorAll( 'source' ).length === 0 ) {\n\n                const source = document.createElement( 'source' );\n                source.src = this.src;\n                video.appendChild( source );\n\n            }\n\n            video.load();\n        }\n\n        video.addEventListener( 'loadeddata', onloadeddata.bind( this ) );\n\t\t\n        video.addEventListener( 'timeupdate', function () {\n\n            this.videoProgress = video.duration >= 0 ? video.currentTime / video.duration : 0;\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @property {string} method - 'onVideoUpdate'\n             * @property {number} data - The percentage of video progress. Range from 0.0 to 1.0\n             */\n            this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'onVideoUpdate', data: this.videoProgress } );\n\n        }.bind( this ) );\n\n        video.addEventListener( 'ended', function () {\n\t\t\t\n            if ( !loop ) {\n\n                this.resetVideo();\n                this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: true } );\n\n            }\n\n        }.bind( this ), false ); \n\n    },\n\n    /**\n     * Set video texture\n     * @memberOf VideoPanorama\n     * @instance\n     * @param {HTMLVideoElement} video  - The html5 video element\n     * @fires Panorama#panolens-viewer-handler\n     */\n    setVideoTexture: function ( video ) {\n\n        if ( !video ) return;\n\n        const videoTexture = new VideoTexture( video );\n        videoTexture.minFilter = LinearFilter;\n        videoTexture.magFilter = LinearFilter;\n        videoTexture.format = RGBFormat;\n\n        this.updateTexture( videoTexture );\n\t\n    },\n\n    /**\n     * Reset\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    reset: function () {\n\n        this.videoElement = undefined;\t\n\n        Panorama.prototype.reset.call( this );\n\n    },\n\n    /**\n     * Check if video is paused\n     * @memberOf VideoPanorama\n     * @instance\n     * @return {boolean} - is video paused or not\n     */\n    isVideoPaused: function () {\n\n        return this.videoElement.paused;\n\n    },\n\n    /**\n     * Toggle video to play or pause\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    toggleVideo: function () {\n\n        const video = this.videoElement;\n\n        if ( !video ) { return; }\n\n        video[ video.paused ? 'play' : 'pause' ]();\n\n    },\n\n    /**\n     * Set video currentTime\n     * @memberOf VideoPanorama\n     * @instance\n     * @param {object} event - Event contains percentage. Range from 0.0 to 1.0\n     */\n    setVideoCurrentTime: function ( { percentage } ) {\n\n        const video = this.videoElement;\n\n        if ( video && !Number.isNaN( percentage ) && percentage !== 1 ) {\n\n            video.currentTime = video.duration * percentage;\n\n            this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'onVideoUpdate', data: percentage } );\n\n        }\n\n    },\n\n    /**\n     * Play video\n     * @memberOf VideoPanorama\n     * @instance\n     * @fires VideoPanorama#play\n     * @fires VideoPanorama#play-error\n     */\n    playVideo: function () {\n\n        const video = this.videoElement;\n        const playVideo = this.playVideo.bind( this );\n        const dispatchEvent = this.dispatchEvent.bind( this );\n        const onSuccess = () => {\n\n            /**\n             * Play event\n             * @type {object}\n             * @event VideoPanorama#play\n             *\n             */\n            dispatchEvent( { type: 'play' } );\n\n        };\n        const onError = ( error ) => {\n\n            // Error playing video. Retry next frame. Possibly Waiting for user interaction\n            window.requestAnimationFrame( playVideo );\n\n            /**\n             * Play event\n             * @type {object}\n             * @event VideoPanorama#play-error\n             *\n             */\n            dispatchEvent( { type: 'play-error', error } );\n\n        };\n\n        if ( video && video.paused ) {\n\n            video.play().then( onSuccess ).catch( onError );\n\n        }\n\n    },\n\n    /**\n     * Pause video\n     * @memberOf VideoPanorama\n     * @instance\n     * @fires VideoPanorama#pause\n     */\n    pauseVideo: function () {\n\n        const video = this.videoElement;\n\n        if ( video && !video.paused ) {\n\n            video.pause();\n\n        }\n\n        /**\n         * Pause event\n         * @type {object}\n         * @event VideoPanorama#pause\n         *\n         */\n        this.dispatchEvent( { type: 'pause' } );\n\n    },\n\n    /**\n     * Resume video\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    resumeVideoProgress: function () {\n\n        const video = this.videoElement;\n\n        if ( video.readyState >= 4 && video.autoplay && !this.isMobile() ) {\n\n            this.playVideo();\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @property {string} method - 'updateVideoPlayButton'\n             * @property {boolean} data - Pause video or not\n             */\n            this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: false } );\n\n        } else {\n\n            this.pauseVideo();\n\n            /**\n             * Viewer handler event\n             * @type {object}\n             * @property {string} method - 'updateVideoPlayButton'\n             * @property {boolean} data - Pause video or not\n             */\n            this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: true } );\n\n        }\n\n        this.setVideoCurrentTime( { percentage: this.videoProgress } );\n\n    },\n\n    /**\n     * Reset video at stating point\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    resetVideo: function () {\n\n        const video = this.videoElement;\n\n        if ( video ) {\n\n            this.setVideoCurrentTime( { percentage: 0 } );\n\n        }\n\n    },\n\n    /**\n     * Check if video is muted\n     * @memberOf VideoPanorama\n     * @instance\n     * @return {boolean} - is video muted or not\n     */\n    isVideoMuted: function () {\n\n        return this.videoElement.muted;\n\n    },\n\n    /**\n     * Mute video\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    muteVideo: function () {\n\n        const video = this.videoElement;\n\n        if ( video && !video.muted ) {\n\n            video.muted = true;\n\n        }\n\n        this.dispatchEvent( { type: 'volumechange' } );\n\n    },\n\n    /**\n     * Unmute video\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    unmuteVideo: function () {\n\n        const video = this.videoElement;\n\n        if ( video && this.isVideoMuted() ) {\n\n            video.muted = false;\n\n        }\n\n        this.dispatchEvent( { type: 'volumechange' } );\n\n    },\n\n    /**\n     * Returns the video element\n     * @memberOf VideoPanorama\n     * @instance\n     * @returns {HTMLElement}\n     */\n    getVideoElement: function () {\n\n        return this.videoElement;\n\n    },\n\n    /**\n     * Dispose video panorama\n     * @memberOf VideoPanorama\n     * @instance\n     */\n    dispose: function () {\n\n        const { material: { map } } = this;\n\n        this.pauseVideo();\n\t\t\n        this.removeEventListener( 'leave', this.pauseVideo.bind( this ) );\n        this.removeEventListener( 'enter-fade-start', this.resumeVideoProgress.bind( this ) );\n        this.removeEventListener( 'video-toggle', this.toggleVideo.bind( this ) );\n        this.removeEventListener( 'video-time', this.setVideoCurrentTime.bind( this ) );\n\n        if ( map ) { map.dispose(); }\n\n        Panorama.prototype.dispose.call( this );\n\n    }\n\n} );\n\n/**\n * @classdesc Google Street View Loader\n * @constructor\n * @param {object} parameters \n */\nfunction GoogleStreetviewLoader ( parameters = {} ) {\n\n    this._parameters = parameters;\n    this._zoom = null;\n    this._panoId = null;\n    this._panoClient = new google.maps.StreetViewService();\n    this._count = 0;\n    this._total = 0;\n    this._canvas = [];\n    this._ctx = [];\n    this._wc = 0;\n    this._hc = 0;\n    this.result = null;\n    this.rotation = 0;\n    this.copyright = '';\n    this.onSizeChange = null;\n    this.onPanoramaLoad = null;\n\n    this.levelsW = [ 1, 2, 4, 7, 13, 26 ];\n    this.levelsH = [ 1, 1, 2, 4, 7, 13 ];\n\n    this.widths = [ 416, 832, 1664, 3328, 6656, 13312 ];\n    this.heights = [ 416, 416, 832, 1664, 3328, 6656 ];\n\n    this.maxW = 6656;\n    this.maxH = 6656;\n\n    let gl;\n\n    try {\n\n        const canvas = document.createElement( 'canvas' );\n\n        gl = canvas.getContext( 'experimental-webgl' );\n\n        if( !gl ) {\n\n            gl = canvas.getContext( 'webgl' );\n\n        }\n\n    }\n    catch ( error ) {\n\n    }\n\n    this.maxW = Math.max( gl.getParameter( gl.MAX_TEXTURE_SIZE ), this.maxW );\n    this.maxH = Math.max( gl.getParameter( gl.MAX_TEXTURE_SIZE ), this.maxH );\n\n}\n\nObject.assign( GoogleStreetviewLoader.prototype, {\n\n    constructor: GoogleStreetviewLoader,\n\n    /**\n     * Set progress\n     * @param {number} loaded \n     * @param {number} total \n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    setProgress: function ( loaded, total ) {\n\n        if ( this.onProgress ) {\n\n            this.onProgress( { loaded: loaded, total: total } );\n\n        }\n\t\t\n    },\n\n    /**\n     * Adapt texture to zoom\n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    adaptTextureToZoom: function () {\n\n        const w = this.widths [ this._zoom ];\n        const h = this.heights[ this._zoom ];\n\n        const maxW = this.maxW;\n        const maxH = this.maxH;\n\n        this._wc = Math.ceil( w / maxW );\n        this._hc = Math.ceil( h / maxH );\n\n        for( let y = 0; y < this._hc; y++ ) {\n            for( let x = 0; x < this._wc; x++ ) {\n                const c = document.createElement( 'canvas' );\n                if( x < ( this._wc - 1 ) ) c.width = maxW; else c.width = w - ( maxW * x );\n                if( y < ( this._hc - 1 ) ) c.height = maxH; else c.height = h - ( maxH * y );\n                this._canvas.push( c );\n                this._ctx.push( c.getContext( '2d' ) );\n            }\n        }\n\n    },\n\n    /**\n     * Compose from tile\n     * @param {number} x \n     * @param {number} y \n     * @param {*} texture \n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    composeFromTile: function ( x, y, texture ) {\n\n        const maxW = this.maxW;\n        const maxH = this.maxH;\n\n        x *= 512;\n        y *= 512;\n\n        const px = Math.floor( x / maxW );\n        const py = Math.floor( y / maxH );\n\n        x -= px * maxW;\n        y -= py * maxH;\n\n        this._ctx[ py * this._wc + px ].drawImage( texture, 0, 0, texture.width, texture.height, x, y, 512, 512 );\n\n        this.progress();\n\t\t\n    },\n\n    /**\n     * Progress\n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    progress: function() {\n\n        this._count++;\n\t\t\n        this.setProgress( this._count, this._total );\n\t\t\n        if ( this._count === this._total) {\n\n            this.canvas = this._canvas;\n            this.panoId = this._panoId;\n            this.zoom = this._zoom;\n\n            if ( this.onPanoramaLoad ) {\n\n                this.onPanoramaLoad( this._canvas[ 0 ] );\n\n            }\n\n        }\n    },\n\n    /**\n     * Compose panorama\n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    composePanorama: function () {\n\n        this.setProgress( 0, 1 );\n\t\t\n        const w = this.levelsW[ this._zoom ];\n        const h = this.levelsH[ this._zoom ];\n        const self = this;\n\t\t\t\n        this._count = 0;\n        this._total = w * h;\n\n        const { useWebGL } = this._parameters;\n\n        for( let y = 0; y < h; y++ ) {\n            for( let x = 0; x < w; x++ ) {\n                const url = 'https://geo0.ggpht.com/cbk?cb_client=maps_sv.tactile&authuser=0&hl=en&output=tile&zoom=' + this._zoom + '&x=' + x + '&y=' + y + '&panoid=' + this._panoId + '&nbt&fover=2';\n                ( function( x, y ) { \n                    if( useWebGL ) {\n                        const texture = TextureLoader.load( url, null, function() {\n                            self.composeFromTile( x, y, texture );\n                        } );\n                    } else {\n                        const img = new Image();\n                        img.addEventListener( 'load', function() {\n                            self.composeFromTile( x, y, this );\t\t\t\n                        } );\n                        img.crossOrigin = '';\n                        img.src = url;\n                    }\n                } )( x, y );\n            }\n        }\n\t\t\n    },\n\n    /**\n     * Load\n     * @param {string} panoid \n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    load: function ( panoid ) {\n\n        this.loadPano( panoid );\n\n    },\n\n    /**\n     * Load panorama\n     * @param {string} id\n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    loadPano: function( id ) {\n\n        const self = this;\n        this._panoClient.getPanoramaById( id, function (result, status) {\n            if (status === google.maps.StreetViewStatus.OK) {\n                self.result = result;\n                self.copyright = result.copyright;\n                self._panoId = result.location.pano;\n                self.composePanorama();\n            }\n        });\n\t\t\n    },\n\n    /**\n     * Set zoom level\n     * @param {number} z \n     * @memberOf GoogleStreetviewLoader\n     * @instance\n     */\n    setZoom: function( z ) {\n\n        this._zoom = z;\n        this.adaptTextureToZoom();\n    }\n\t\n} );\n\n/**\n * @classdesc Google streetview panorama\n * @description [How to get Panorama ID]{@link http://stackoverflow.com/questions/29916149/google-maps-streetview-how-to-get-panorama-id}\n * @constructor\n * @param {string} panoId - Panorama id from Google Streetview \n * @param {string} [apiKey] - Google Street View API Key\n */\nfunction GoogleStreetviewPanorama ( panoId, apiKey ) {\n\n    ImagePanorama.call( this );\n\n    this.panoId = panoId;\n\n    this.gsvLoader = null;\n\n    this.loadRequested = false;\n\n    this.setupGoogleMapAPI( apiKey );\n\n}\n\nGoogleStreetviewPanorama.prototype = Object.assign( Object.create( ImagePanorama.prototype ), {\n\n    constructor: GoogleStreetviewPanorama,\n\n    /**\n     * Load Google Street View by panorama id\n     * @param {string} panoId - Gogogle Street View panorama id\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     */\n    load: function ( panoId ) {\n\n        this.loadRequested = true;\n\n        panoId = ( panoId || this.panoId ) || {};\n\n        if ( panoId && this.gsvLoader ) {\n\n            this.loadGSVLoader( panoId );\n\n        }\n\n    },\n\n    /**\n     * Setup Google Map API\n     * @param {string}  apiKey\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     */\n    setupGoogleMapAPI: function ( apiKey ) {\n\n        const script = document.createElement( 'script' );\n        script.src = 'https://maps.googleapis.com/maps/api/js?';\n        script.src += apiKey ? 'key=' + apiKey : '';\n        script.onreadystatechange = this.setGSVLoader.bind( this );\n        script.onload = this.setGSVLoader.bind( this );\n\n        document.querySelector( 'head' ).appendChild( script );\n\n    },\n\n    /**\n     * Set GSV Loader\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     */\n    setGSVLoader: function () {\n\n        this.gsvLoader = new GoogleStreetviewLoader();\n\n        if ( this.loadRequested ) {\n\n            this.load();\n\n        }\n\n    },\n\n    /**\n     * Get GSV Loader\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     * @return {GoogleStreetviewLoader} GSV Loader instance\n     */\n    getGSVLoader: function () {\n\n        return this.gsvLoader;\n\n    },\n\n    /**\n     * Load GSV Loader\n     * @param  {string} panoId - Gogogle Street View panorama id\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     */\n    loadGSVLoader: function ( panoId ) {\n\n        this.loadRequested = false;\n\n        this.gsvLoader.onProgress = this.onProgress.bind( this );\n\n        this.gsvLoader.onPanoramaLoad = this.onLoad.bind( this );\n\n        this.gsvLoader.setZoom( this.getZoomLevel() );\n\n        this.gsvLoader.load( panoId );\n\n        this.gsvLoader.loaded = true;\n    },\n\n    /**\n     * This will be called when panorama is loaded\n     * @param  {HTMLCanvasElement} canvas - Canvas where the tiles have been drawn\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     */\n    onLoad: function ( canvas ) {\n\n        ImagePanorama.prototype.onLoad.call( this, new Texture( canvas ) );\n\n    },\n\n    /**\n     * Reset\n     * @memberOf GoogleStreetviewPanorama\n     * @instance\n     */\n    reset: function () {\n\n        this.gsvLoader = undefined;\n\n        ImagePanorama.prototype.reset.call( this );\n\n    }\n\n} );\n\n/**\n * Stereographic projection shader\n * based on http://notlion.github.io/streetview-stereographic\n * @author pchen66\n */\n\n/**\n * @description Stereograhpic Shader\n * @module StereographicShader\n * @property {object} uniforms\n * @property {THREE.Texture} uniforms.tDiffuse diffuse map\n * @property {number} uniforms.resolution image resolution\n * @property {THREE.Matrix4} uniforms.transform transformation matrix\n * @property {number} uniforms.zoom image zoom factor\n * @property {number} uniforms.opacity image opacity\n * @property {string} vertexShader vertex shader\n * @property {string} fragmentShader fragment shader\n */\nconst StereographicShader = {\n\n    uniforms: {\n\n        'tDiffuse': { value: new Texture() },\n        'resolution': { value: 1.0 },\n        'transform': { value: new Matrix4() },\n        'zoom': { value: 1.0 },\n        'opacity': { value: 1.0 }\n\n    },\n\n    vertexShader: [\n\n        'varying vec2 vUv;',\n\n        'void main() {',\n\n        'vUv = uv;',\n        'gl_Position = vec4( position, 1.0 );',\n\n        '}' \n\n    ].join( '\\n' ),\n\n    fragmentShader: [\n\n        'uniform sampler2D tDiffuse;',\n        'uniform float resolution;',\n        'uniform mat4 transform;',\n        'uniform float zoom;',\n        'uniform float opacity;',\n\n        'varying vec2 vUv;',\n\n        'const float PI = 3.141592653589793;',\n\n        'void main(){',\n\n        'vec2 position = -1.0 +  2.0 * vUv;',\n\n        'position *= vec2( zoom * resolution, zoom * 0.5 );',\n\n        'float x2y2 = position.x * position.x + position.y * position.y;',\n        'vec3 sphere_pnt = vec3( 2. * position, x2y2 - 1. ) / ( x2y2 + 1. );',\n\n        'sphere_pnt = vec3( transform * vec4( sphere_pnt, 1.0 ) );',\n\n        'vec2 sampleUV = vec2(',\n        '(atan(sphere_pnt.y, sphere_pnt.x) / PI + 1.0) * 0.5,',\n        '(asin(sphere_pnt.z) / PI + 0.5)',\n        ');',\n\n        'gl_FragColor = texture2D( tDiffuse, sampleUV );',\n\n        'gl_FragColor.a *= opacity;',\n\n        '}'\n\n    ].join( '\\n' )\n\n};\n\n/**\n * @classdesc Little Planet\n * @constructor\n * @param {string} type \t\t- Type of little planet basic class\n * @param {string} source \t\t- URL for the image source\n * @param {number} [size=10000] - Size of plane geometry\n * @param {number} [ratio=0.5]  - Ratio of plane geometry's height against width\n */\nfunction LittlePlanet ( type = 'image', source, size = 10000, ratio = 0.5 ) {\n\n    if ( type === 'image' ) {\n\n        ImagePanorama.call( this, source, this.createGeometry( size, ratio ), this.createMaterial( size ) );\n\n    }\n\n    this.size = size;\n    this.ratio = ratio;\n    this.EPS = 0.000001;\n    this.frameId = null;\n\n    this.dragging = false;\n    this.userMouse = new Vector2();\n\n    this.quatA = new Quaternion();\n    this.quatB = new Quaternion();\n    this.quatCur = new Quaternion();\n    this.quatSlerp = new Quaternion();\n\n    this.vectorX = new Vector3( 1, 0, 0 );\n    this.vectorY = new Vector3( 0, 1, 0 );\n\n    this.addEventListener( 'window-resize', this.onWindowResize );\n\n}\n\nLittlePlanet.prototype = Object.assign( Object.create( ImagePanorama.prototype ), {\n\n    constructor: LittlePlanet,\n\n    add: function ( object ) {\n\n        if ( arguments.length > 1 ) {\n\t\t\t\n            for ( let i = 0; i < arguments.length; i ++ ) {\n\n                this.add( arguments[ i ] );\n\n            }\n\n            return this;\n\n        }\n\n        if ( object instanceof Infospot ) {\n\n            object.material.depthTest = false;\n\t\t\t\n        }\n\n        ImagePanorama.prototype.add.call( this, object );\n\n    },\n\n    createGeometry: function ( size, ratio ) {\n\n        return new PlaneBufferGeometry( size, size * ratio );\n\n    },\n\n    createMaterial: function ( size ) {\n\n        const shader = Object.assign( {}, StereographicShader ), uniforms = shader.uniforms;\n\n        uniforms.zoom.value = size;\n        uniforms.opacity.value = 0.0;\n\n        return new ShaderMaterial( {\n\n            uniforms: uniforms,\n            vertexShader: shader.vertexShader,\n            fragmentShader: shader.fragmentShader,\n            side: BackSide,\n            transparent: true\n\n        } );\n\t\t\n    },\n\n    registerMouseEvents: function () {\n\n        this.container.addEventListener( 'mousedown', this.onMouseDown.bind( this ), { passive: true } );\n        this.container.addEventListener( 'mousemove', this.onMouseMove.bind( this ), { passive: true } );\n        this.container.addEventListener( 'mouseup', this.onMouseUp.bind( this ), { passive: true } );\n        this.container.addEventListener( 'touchstart', this.onMouseDown.bind( this ), { passive: true } );\n        this.container.addEventListener( 'touchmove', this.onMouseMove.bind( this ), { passive: true } );\n        this.container.addEventListener( 'touchend', this.onMouseUp.bind( this ), { passive: true } );\n        this.container.addEventListener( 'mousewheel', this.onMouseWheel.bind( this ), { passive: false } );\n        this.container.addEventListener( 'DOMMouseScroll', this.onMouseWheel.bind( this ), { passive: false } );\n        this.container.addEventListener( 'contextmenu', this.onContextMenu.bind( this ), { passive: true } );\n\t\t\n    },\n\n    unregisterMouseEvents: function () {\n\n        this.container.removeEventListener( 'mousedown', this.onMouseDown.bind( this ), false );\n        this.container.removeEventListener( 'mousemove', this.onMouseMove.bind( this ), false );\n        this.container.removeEventListener( 'mouseup', this.onMouseUp.bind( this ), false );\n        this.container.removeEventListener( 'touchstart', this.onMouseDown.bind( this ), false );\n        this.container.removeEventListener( 'touchmove', this.onMouseMove.bind( this ), false );\n        this.container.removeEventListener( 'touchend', this.onMouseUp.bind( this ), false );\n        this.container.removeEventListener( 'mousewheel', this.onMouseWheel.bind( this ), false );\n        this.container.removeEventListener( 'DOMMouseScroll', this.onMouseWheel.bind( this ), false );\n        this.container.removeEventListener( 'contextmenu', this.onContextMenu.bind( this ), false );\n\t\t\n    },\n\n    onMouseDown: function ( event ) {\n\n        const inputCount = ( event.touches && event.touches.length ) || 1 ;\n\n        switch ( inputCount ) {\n\n        case 1:\n\n            const x = ( event.clientX >= 0 ) ? event.clientX : event.touches[ 0 ].clientX;\n            const y = ( event.clientY >= 0 ) ? event.clientY : event.touches[ 0 ].clientY;\n\n            this.dragging = true;\n            this.userMouse.set( x, y );\n\n            break;\n\n        case 2:\n\n            const dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n            const dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n            const distance = Math.sqrt( dx * dx + dy * dy );\n            this.userMouse.pinchDistance = distance;\n\n            break;\n\n        default:\n\n            break;\n\n        }\n\n        this.onUpdateCallback();\n\n    },\n\n    onMouseMove: function ( event ) {\n\n        const inputCount = ( event.touches && event.touches.length ) || 1 ;\n\n        switch ( inputCount ) {\n\n        case 1:\n\n            const x = ( event.clientX >= 0 ) ? event.clientX : event.touches[ 0 ].clientX;\n            const y = ( event.clientY >= 0 ) ? event.clientY : event.touches[ 0 ].clientY;\n\n            const angleX = Math$1.degToRad( x - this.userMouse.x ) * 0.4;\n            const angleY = Math$1.degToRad( y - this.userMouse.y ) * 0.4;\n\n            if ( this.dragging ) {\n                this.quatA.setFromAxisAngle( this.vectorY, angleX );\n                this.quatB.setFromAxisAngle( this.vectorX, angleY );\n                this.quatCur.multiply( this.quatA ).multiply( this.quatB );\n                this.userMouse.set( x, y );\n            }\n\n            break;\n\n        case 2:\n\n            const dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n            const dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n            const distance = Math.sqrt( dx * dx + dy * dy );\n\n            this.addZoomDelta( this.userMouse.pinchDistance - distance );\n\n            break;\n\n        default:\n\n            break;\n\n        }\n\n    },\n\n    onMouseUp: function () {\n\n        this.dragging = false;\n\n    },\n\n    onMouseWheel: function ( event ) {\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        let delta = 0;\n\n        if ( event.wheelDelta !== undefined ) { // WebKit / Opera / Explorer 9\n\n            delta = event.wheelDelta;\n\n        } else if ( event.detail !== undefined ) { // Firefox\n\n            delta = - event.detail;\n\n        }\n\n        this.addZoomDelta( delta );\n        this.onUpdateCallback();\n\n    },\n\n    addZoomDelta: function ( delta ) {\n\n        const uniforms = this.material.uniforms;\n        const lowerBound = this.size * 0.1;\n        const upperBound = this.size * 10;\n\n        uniforms.zoom.value += delta;\n\n        if ( uniforms.zoom.value <= lowerBound ) {\n\n            uniforms.zoom.value = lowerBound;\n\n        } else if ( uniforms.zoom.value >= upperBound ) {\n\n            uniforms.zoom.value = upperBound;\n\n        }\n\n    },\n\n    onUpdateCallback: function () {\n\n        this.frameId = window.requestAnimationFrame( this.onUpdateCallback.bind( this ) );\n\n        this.quatSlerp.slerp( this.quatCur, 0.1 );\n\n        if ( this.material ) {\n\n            this.material.uniforms.transform.value.makeRotationFromQuaternion( this.quatSlerp );\n\n        }\n        \n        if ( !this.dragging && 1.0 - this.quatSlerp.clone().dot( this.quatCur ) < this.EPS ) {\n\t\t\t\n            window.cancelAnimationFrame( this.frameId );\n\n        }\n\n    },\n\n    reset: function () {\n\n        this.quatCur.set( 0, 0, 0, 1 );\n        this.quatSlerp.set( 0, 0, 0, 1 );\n        this.onUpdateCallback();\n\n    },\n\n    onLoad: function ( texture ) {\n\n        this.material.uniforms.resolution.value = this.container.clientWidth / this.container.clientHeight;\n\n        this.registerMouseEvents();\n        this.onUpdateCallback();\n\t\t\n        this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'disableControl' } );\n\n        ImagePanorama.prototype.onLoad.call( this, texture );\n\t\t\n    },\n\n    onLeave: function () {\n\n        this.unregisterMouseEvents();\n\n        this.dispatchEvent( { type: 'panolens-viewer-handler', method: 'enableControl', data: CONTROLS.ORBIT } );\n\n        window.cancelAnimationFrame( this.frameId );\n\n        ImagePanorama.prototype.onLeave.call( this );\n\t\t\n    },\n\n    onWindowResize: function () {\n\n        this.material.uniforms.resolution.value = this.container.clientWidth / this.container.clientHeight;\n\n    },\n\n    onContextMenu: function () {\n\n        this.dragging = false;\n\n    },\n\n    dispose: function () {\t\n\n        this.unregisterMouseEvents();\n\n        ImagePanorama.prototype.dispose.call( this );\n\n    }\n\n});\n\n/**\n * @classdesc Image Little Planet\n * @constructor\n * @param {string} source \t\t- URL for the image source\n * @param {number} [size=10000] - Size of plane geometry\n * @param {number} [ratio=0.5]  - Ratio of plane geometry's height against width\n */\nfunction ImageLittlePlanet ( source, size, ratio ) {\n\n    LittlePlanet.call( this, 'image', source, size, ratio );\n\n}\n\nImageLittlePlanet.prototype = Object.assign( Object.create( LittlePlanet.prototype ), {\n\n    constructor: ImageLittlePlanet,\n\n    /**\n     * On loaded with texture\n     * @param {THREE.Texture} texture\n     * @memberOf ImageLittlePlanet\n     * @instance\n     */\n    onLoad: function ( texture ) {\n\n        this.updateTexture( texture );\n\n        LittlePlanet.prototype.onLoad.call( this, texture );\n\n    },\n    \n    /**\n     * Update texture\n     * @param {THREE.Texture} texture \n     * @memberOf ImageLittlePlanet\n     * @instance\n     */\n    updateTexture: function ( texture ) {\n\n        texture.minFilter = texture.magFilter = LinearFilter;\n\t\t\n        this.material.uniforms[ 'tDiffuse' ].value = texture;\n\n    },\n\n    /**\n     * Dispose\n     * @memberOf ImageLittlePlanet\n     * @instance\n     */\n    dispose: function () {\n\n        const tDiffuse = this.material.uniforms[ 'tDiffuse' ];\n\n        if ( tDiffuse && tDiffuse.value ) {\n\n            tDiffuse.value.dispose();\n\n        }\n\n        LittlePlanet.prototype.dispose.call( this );\n\n    }\n\n} );\n\n/**\n * @classdesc Camera panorama\n * @description See {@link https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints|MediaStreamConstraints} for constraints\n * @param {object} - camera constraints\n * @constructor\n */\nfunction CameraPanorama ( constraints ) {\n\n    const radius = 5000;\n    const geometry = new SphereBufferGeometry( radius, 60, 40 );\n    const material = new MeshBasicMaterial( { visible: false });\n\n    Panorama.call( this, geometry, material );\n\n    this.media = new Media( constraints );\n    this.radius = radius;\n\n    this.addEventListener( 'enter', this.start.bind( this ) );\n    this.addEventListener( 'leave', this.stop.bind( this ) );\n    this.addEventListener( 'panolens-container', this.onPanolensContainer.bind( this ) );\n    this.addEventListener( 'panolens-scene', this.onPanolensScene.bind( this ) );\n\n}\n\nCameraPanorama.prototype = Object.assign( Object.create( Panorama.prototype ), {\n\n    constructor: CameraPanorama,\n\n    /**\n     * On container event\n     * @param {object} event\n     * @memberOf CameraPanorama\n     * @instance\n     */\n    onPanolensContainer: function ( { container } ) {\n\n        this.media.setContainer( container );\n\n    },\n\n    /**\n     * On scene event\n     * @param {object} event \n     * @memberOf CameraPanorama\n     * @instance\n     */\n    onPanolensScene: function ( { scene } ) {\n\n        this.media.setScene( scene );\n\n    },\n\n    /**\n     * Start camera streaming\n     * @memberOf CameraPanorama\n     * @instance\n     * @returns {Promise}\n     */\n    start: function () {\n\n        return this.media.start();\n\n    },\n\n    /**\n     * Stop camera streaming\n     * @memberOf CameraPanorama\n     * @instance\n     */\n    stop: function () {\n\n        this.media.stop();\n\n    },\n\n} );\n\n/**\n * @classdesc Orbit Controls\n * @constructor\n * @external OrbitControls\n * @param {THREE.Object} object \n * @param {HTMLElement} domElement \n */\nfunction OrbitControls ( object, domElement ) {\n\n    this.object = object;\n    this.domElement = ( domElement !== undefined ) ? domElement : document;\n    this.frameId = null;\n\n    // API\n\n    // Set to false to disable this control\n    this.enabled = true;\n\n    /*\n     * \"target\" sets the location of focus, where the control orbits around\n     * and where it pans with respect to.\n     */\n    this.target = new Vector3();\n\n    // center is old, deprecated; use \"target\" instead\n    this.center = this.target;\n\n    /*\n     * This option actually enables dollying in and out; left as \"zoom\" for\n     * backwards compatibility\n     */\n    this.noZoom = false;\n    this.zoomSpeed = 1.0;\n\n    // Limits to how far you can dolly in and out ( PerspectiveCamera only )\n    this.minDistance = 0;\n    this.maxDistance = Infinity;\n\n    // Limits to how far you can zoom in and out ( OrthographicCamera only )\n    this.minZoom = 0;\n    this.maxZoom = Infinity;\n\n    // Set to true to disable this control\n    this.noRotate = false;\n    this.rotateSpeed = -0.15;\n\n    // Set to true to disable this control\n    this.noPan = true;\n    this.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n    // Set to true to automatically rotate around the target\n    this.autoRotate = false;\n    this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n    /*\n     * How far you can orbit vertically, upper and lower limits.\n     * Range is 0 to Math.PI radians.\n     */\n    this.minPolarAngle = 0; // radians\n    this.maxPolarAngle = Math.PI; // radians\n\n    // Momentum\n  \tthis.momentumDampingFactor = 0.90;\n  \tthis.momentumScalingFactor = -0.005;\n  \tthis.momentumKeydownFactor = 20;\n\n  \t// Fov\n  \tthis.minFov = 30;\n  \tthis.maxFov = 120;\n\n    /*\n     * How far you can orbit horizontally, upper and lower limits.\n     * If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n     */\n    this.minAzimuthAngle = - Infinity; // radians\n    this.maxAzimuthAngle = Infinity; // radians\n\n    // Set to true to disable use of the keys\n    this.noKeys = false;\n\n    // The four arrow keys\n    this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n    // Mouse buttons\n    this.mouseButtons = { ORBIT: MOUSE.LEFT, ZOOM: MOUSE.MIDDLE, PAN: MOUSE.RIGHT };\n\n    /*\n     * //////////\n     * internals\n     */\n\n    var scope = this;\n\n    var EPS = 10e-8;\n    var MEPS = 10e-5;\n\n    var rotateStart = new Vector2();\n    var rotateEnd = new Vector2();\n    var rotateDelta = new Vector2();\n\n    var panStart = new Vector2();\n    var panEnd = new Vector2();\n    var panDelta = new Vector2();\n    var panOffset = new Vector3();\n\n    var offset = new Vector3();\n\n    var dollyStart = new Vector2();\n    var dollyEnd = new Vector2();\n    var dollyDelta = new Vector2();\n\n    var theta = 0;\n    var phi = 0;\n    var phiDelta = 0;\n    var thetaDelta = 0;\n    var scale = 1;\n    var pan = new Vector3();\n\n    var lastPosition = new Vector3();\n    var lastQuaternion = new Quaternion();\n\n    var momentumLeft = 0, momentumUp = 0;\n    var eventPrevious;\n    var momentumOn = false;\n\n    var keyUp, keyBottom, keyLeft, keyRight;\n\n    var STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n    var state = STATE.NONE;\n\n    // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object.zoom;\n\n    // so camera.up is the orbit axis\n\n    var quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n    var quatInverse = quat.clone().inverse();\n\n    // events\n\n    var changeEvent = { type: 'change' };\n    var startEvent = { type: 'start' };\n    var endEvent = { type: 'end' };\n\n    this.setLastQuaternion = function ( quaternion ) {\n        lastQuaternion.copy( quaternion );\n        scope.object.quaternion.copy( quaternion );\n    };\n\n    this.getLastPosition = function () {\n        return lastPosition;\n    };\n\n    this.rotateLeft = function ( angle ) {\n\n        if ( angle === undefined ) {\n\n            angle = getAutoRotationAngle();\n\n        }\n\n        thetaDelta -= angle;\n\n\n    };\n\n    this.rotateUp = function ( angle ) {\n\n        if ( angle === undefined ) {\n\n            angle = getAutoRotationAngle();\n\n        }\n\n        phiDelta -= angle;\n\n    };\n\n    // pass in distance in world space to move left\n    this.panLeft = function ( distance ) {\n\n        var te = this.object.matrix.elements;\n\n        // get X column of matrix\n        panOffset.set( te[ 0 ], te[ 1 ], te[ 2 ] );\n        panOffset.multiplyScalar( - distance );\n\n        pan.add( panOffset );\n\n    };\n\n    // pass in distance in world space to move up\n    this.panUp = function ( distance ) {\n\n        var te = this.object.matrix.elements;\n\n        // get Y column of matrix\n        panOffset.set( te[ 4 ], te[ 5 ], te[ 6 ] );\n        panOffset.multiplyScalar( distance );\n\n        pan.add( panOffset );\n\n    };\n\n    /*\n     * pass in x,y of change desired in pixel space,\n     * right and down are positive\n     */\n    this.pan = function ( deltaX, deltaY ) {\n\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n        if ( scope.object instanceof PerspectiveCamera ) {\n\n            // perspective\n            var position = scope.object.position;\n            var offset = position.clone().sub( scope.target );\n            var targetDistance = offset.length();\n\n            // half of the fov is center to top of screen\n            targetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n            // we actually don't use screenWidth, since perspective camera is fixed to screen height\n            scope.panLeft( 2 * deltaX * targetDistance / element.clientHeight );\n            scope.panUp( 2 * deltaY * targetDistance / element.clientHeight );\n\n        } else if ( scope.object instanceof OrthographicCamera ) {\n\n            // orthographic\n            scope.panLeft( deltaX * (scope.object.right - scope.object.left) / element.clientWidth );\n            scope.panUp( deltaY * (scope.object.top - scope.object.bottom) / element.clientHeight );\n\n        } else {\n\n            // camera neither orthographic or perspective\n            console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\n        }\n\n    };\n\n    this.momentum = function(){\n\t\t\n        if ( !momentumOn ) return;\n\n        if ( Math.abs( momentumLeft ) < MEPS && Math.abs( momentumUp ) < MEPS ) { \n\n            momentumOn = false; \n            return;\n        }\n\n        momentumUp   *= this.momentumDampingFactor;\n        momentumLeft *= this.momentumDampingFactor;\n\n        thetaDelta -= this.momentumScalingFactor * momentumLeft;\n        phiDelta   -= this.momentumScalingFactor * momentumUp;\n\n    };\n\n    this.dollyIn = function ( dollyScale ) {\n\n        if ( dollyScale === undefined ) {\n\n            dollyScale = getZoomScale();\n\n        }\n\n        if ( scope.object instanceof PerspectiveCamera ) {\n\n            scale /= dollyScale;\n\n        } else if ( scope.object instanceof OrthographicCamera ) {\n\n            scope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom * dollyScale ) );\n            scope.object.updateProjectionMatrix();\n            scope.dispatchEvent( changeEvent );\n\n        } else {\n\n            console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n        }\n\n    };\n\n    this.dollyOut = function ( dollyScale ) {\n\n        if ( dollyScale === undefined ) {\n\n            dollyScale = getZoomScale();\n\n        }\n\n        if ( scope.object instanceof PerspectiveCamera ) {\n\n            scale *= dollyScale;\n\n        } else if ( scope.object instanceof OrthographicCamera ) {\n\n            scope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / dollyScale ) );\n            scope.object.updateProjectionMatrix();\n            scope.dispatchEvent( changeEvent );\n\n        } else {\n\n            console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n        }\n\n    };\n\n    this.update = function ( ignoreUpdate ) {\n\n        var position = this.object.position;\n\n        offset.copy( position ).sub( this.target );\n\n        // rotate offset to \"y-axis-is-up\" space\n        offset.applyQuaternion( quat );\n\n        // angle from z-axis around y-axis\n\n        theta = Math.atan2( offset.x, offset.z );\n\n        // angle from y-axis\n\n        phi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\n        if ( this.autoRotate && state === STATE.NONE ) {\n\n            this.rotateLeft( getAutoRotationAngle() );\n\n        }\n\n        this.momentum();\n\n        theta += thetaDelta;\n        phi += phiDelta;\n\n        // restrict theta to be between desired limits\n        theta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, theta ) );\n\n        // restrict phi to be between desired limits\n        phi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\n\n        // restrict phi to be betwee EPS and PI-EPS\n        phi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\n        var radius = offset.length() * scale;\n\n        // restrict radius to be between desired limits\n        radius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\n\n        // move target to panned location\n        this.target.add( pan );\n\n        offset.x = radius * Math.sin( phi ) * Math.sin( theta );\n        offset.y = radius * Math.cos( phi );\n        offset.z = radius * Math.sin( phi ) * Math.cos( theta );\n\n        // rotate offset back to \"camera-up-vector-is-up\" space\n        offset.applyQuaternion( quatInverse );\n\n        position.copy( this.target ).add( offset );\n\n        this.object.lookAt( this.target );\n\n        thetaDelta = 0;\n        phiDelta = 0;\n        scale = 1;\n        pan.set( 0, 0, 0 );\n\n        /*\n         * update condition is:\n         * min(camera displacement, camera rotation in radians)^2 > EPS\n         * using small-angle approximation cos(x/2) = 1 - x^2 / 8\n         */\n        if ( lastPosition.distanceToSquared( this.object.position ) > EPS\n\t\t    || 8 * (1 - lastQuaternion.dot(this.object.quaternion)) > EPS ) {\n\n            if ( ignoreUpdate !== true ) { this.dispatchEvent( changeEvent ); }\n\n            lastPosition.copy( this.object.position );\n            lastQuaternion.copy (this.object.quaternion );\n\n        }\n\n    };\n\n\n    this.reset = function () {\n\n        state = STATE.NONE;\n\n        this.target.copy( this.target0 );\n        this.object.position.copy( this.position0 );\n        this.object.zoom = this.zoom0;\n\n        this.object.updateProjectionMatrix();\n        this.dispatchEvent( changeEvent );\n\n        this.update();\n\n    };\n\n    this.getPolarAngle = function () {\n\n        return phi;\n\n    };\n\n    this.getAzimuthalAngle = function () {\n\n        return theta;\n\n    };\n\n    function getAutoRotationAngle() {\n\n        return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n    }\n\n    function getZoomScale() {\n\n        return Math.pow( 0.95, scope.zoomSpeed );\n\n    }\n\n    function onMouseDown( event ) {\n\n        momentumOn = false;\n\n   \t\tmomentumLeft = momentumUp = 0;\n\n        if ( scope.enabled === false ) return;\n        event.preventDefault();\n\n        if ( event.button === scope.mouseButtons.ORBIT ) {\n            if ( scope.noRotate === true ) return;\n\n            state = STATE.ROTATE;\n\n            rotateStart.set( event.clientX, event.clientY );\n\n        } else if ( event.button === scope.mouseButtons.ZOOM ) {\n            if ( scope.noZoom === true ) return;\n\n            state = STATE.DOLLY;\n\n            dollyStart.set( event.clientX, event.clientY );\n\n        } else if ( event.button === scope.mouseButtons.PAN ) {\n            if ( scope.noPan === true ) return;\n\n            state = STATE.PAN;\n\n            panStart.set( event.clientX, event.clientY );\n\n        }\n\n        if ( state !== STATE.NONE ) {\n            document.addEventListener( 'mousemove', onMouseMove, false );\n            document.addEventListener( 'mouseup', onMouseUp, false );\n            scope.dispatchEvent( startEvent );\n        }\n\n        scope.update();\n\n    }\n\n    function onMouseMove( event ) {\n\n        if ( scope.enabled === false ) return;\n\n        event.preventDefault();\n\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n        if ( state === STATE.ROTATE ) {\n\n            if ( scope.noRotate === true ) return;\n\n            rotateEnd.set( event.clientX, event.clientY );\n            rotateDelta.subVectors( rotateEnd, rotateStart );\n\n            // rotating across whole screen goes 360 degrees around\n            scope.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n            // rotating up and down along whole screen attempts to go 360, but limited to 180\n            scope.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n            rotateStart.copy( rotateEnd );\n\n            if( eventPrevious ){\n                momentumLeft = event.clientX - eventPrevious.clientX;\n                momentumUp = event.clientY - eventPrevious.clientY;\n            }\n\n            eventPrevious = event;\n\n        } else if ( state === STATE.DOLLY ) {\n\n            if ( scope.noZoom === true ) return;\n\n            dollyEnd.set( event.clientX, event.clientY );\n            dollyDelta.subVectors( dollyEnd, dollyStart );\n\n            if ( dollyDelta.y > 0 ) {\n\n                scope.dollyIn();\n\n            } else if ( dollyDelta.y < 0 ) {\n\n                scope.dollyOut();\n\n            }\n\n            dollyStart.copy( dollyEnd );\n\n        } else if ( state === STATE.PAN ) {\n\n            if ( scope.noPan === true ) return;\n\n            panEnd.set( event.clientX, event.clientY );\n            panDelta.subVectors( panEnd, panStart );\n\n            scope.pan( panDelta.x, panDelta.y );\n\n            panStart.copy( panEnd );\n\n        }\n\n        if ( state !== STATE.NONE ) scope.update();\n\n    }\n\n    function onMouseUp( /* event */ ) {\n\n        momentumOn = true;\n\n        eventPrevious = undefined;\n\n        if ( scope.enabled === false ) return;\n\n        document.removeEventListener( 'mousemove', onMouseMove, false );\n        document.removeEventListener( 'mouseup', onMouseUp, false );\n        scope.dispatchEvent( endEvent );\n        state = STATE.NONE;\n\n    }\n\n    function onMouseWheel( event ) {\n\n        if ( scope.enabled === false || scope.noZoom === true || state !== STATE.NONE ) return;\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        var delta = 0;\n\n        if ( event.wheelDelta !== undefined ) { // WebKit / Opera / Explorer 9\n\n            delta = event.wheelDelta;\n\n        } else if ( event.detail !== undefined ) { // Firefox\n\n            delta = - event.detail;\n\n        }\n\n        if ( delta > 0 ) {\n\n            // scope.dollyOut();\n            scope.object.fov = ( scope.object.fov < scope.maxFov ) \n                ? scope.object.fov + 1\n                : scope.maxFov;\n            scope.object.updateProjectionMatrix();\n\n        } else if ( delta < 0 ) {\n\n            // scope.dollyIn();\n            scope.object.fov = ( scope.object.fov > scope.minFov ) \n                ? scope.object.fov - 1\n                : scope.minFov;\n            scope.object.updateProjectionMatrix();\n\n        }\n\n        scope.update();\n        scope.dispatchEvent( changeEvent );\n        scope.dispatchEvent( startEvent );\n        scope.dispatchEvent( endEvent );\n\n    }\n\n    function onKeyUp ( event ) {\n\n        switch ( event.keyCode ) {\n\n        case scope.keys.UP:\n            keyUp = false;\n            break;\n\n        case scope.keys.BOTTOM:\n            keyBottom = false;\n            break;\n\n        case scope.keys.LEFT:\n            keyLeft = false;\n            break;\n\n        case scope.keys.RIGHT:\n            keyRight = false;\n            break;\n\n        }\n\n    }\n\n    function onKeyDown( event ) {\n\n        if ( scope.enabled === false || scope.noKeys === true || scope.noRotate === true ) return;\n\n        switch ( event.keyCode ) {\n\n        case scope.keys.UP:\n            keyUp = true;\n            break;\n\n        case scope.keys.BOTTOM:\n            keyBottom = true;\n            break;\n\n        case scope.keys.LEFT:\n            keyLeft = true;\n            break;\n\n        case scope.keys.RIGHT:\n            keyRight = true;\n            break;\n\n        }\n\n        if (keyUp || keyBottom || keyLeft || keyRight) {\n\n            momentumOn = true;\n\n            if (keyUp) momentumUp = - scope.rotateSpeed * scope.momentumKeydownFactor;\n            if (keyBottom) momentumUp = scope.rotateSpeed * scope.momentumKeydownFactor;\n            if (keyLeft) momentumLeft = - scope.rotateSpeed * scope.momentumKeydownFactor;\n            if (keyRight) momentumLeft = scope.rotateSpeed * scope.momentumKeydownFactor;\n\n        }\n\n    }\n\n    function touchstart( event ) {\n\n        momentumOn = false;\n\n        momentumLeft = momentumUp = 0;\n\n        if ( scope.enabled === false ) return;\n\n        switch ( event.touches.length ) {\n\n        case 1:\t// one-fingered touch: rotate\n\n            if ( scope.noRotate === true ) return;\n\n            state = STATE.TOUCH_ROTATE;\n\n            rotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n            break;\n\n        case 2:\t// two-fingered touch: dolly\n\n            if ( scope.noZoom === true ) return;\n\n            state = STATE.TOUCH_DOLLY;\n\n            var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n            var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n            var distance = Math.sqrt( dx * dx + dy * dy );\n\n            dollyStart.set( 0, distance );\n\n            break;\n\n        case 3: // three-fingered touch: pan\n\n            if ( scope.noPan === true ) return;\n\n            state = STATE.TOUCH_PAN;\n\n            panStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n            break;\n\n        default:\n\n            state = STATE.NONE;\n\n        }\n\n        if ( state !== STATE.NONE ) scope.dispatchEvent( startEvent );\n\n    }\n\n    function touchmove( event ) {\n\n        if ( scope.enabled === false ) return;\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n        switch ( event.touches.length ) {\n\n        case 1: // one-fingered touch: rotate\n\n            if ( scope.noRotate === true ) return;\n            if ( state !== STATE.TOUCH_ROTATE ) return;\n\n            rotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n            rotateDelta.subVectors( rotateEnd, rotateStart );\n\n            // rotating across whole screen goes 360 degrees around\n            scope.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n            // rotating up and down along whole screen attempts to go 360, but limited to 180\n            scope.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n            rotateStart.copy( rotateEnd );\n\n            if( eventPrevious ){\n                momentumLeft = event.touches[ 0 ].pageX - eventPrevious.pageX;\n                momentumUp = event.touches[ 0 ].pageY - eventPrevious.pageY;\n            }\n\n            eventPrevious = {\n                pageX: event.touches[ 0 ].pageX,\n                pageY: event.touches[ 0 ].pageY,\n            };\n\n            scope.update();\n            break;\n\n        case 2: // two-fingered touch: dolly\n\n            if ( scope.noZoom === true ) return;\n            if ( state !== STATE.TOUCH_DOLLY ) return;\n\n            var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n            var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n            var distance = Math.sqrt( dx * dx + dy * dy );\n\n            dollyEnd.set( 0, distance );\n            dollyDelta.subVectors( dollyEnd, dollyStart );\n\n            if ( dollyDelta.y < 0 ) {\n\n                scope.object.fov = ( scope.object.fov < scope.maxFov ) \n                    ? scope.object.fov + 1\n                    : scope.maxFov;\n                scope.object.updateProjectionMatrix();\n\n            } else if ( dollyDelta.y > 0 ) {\n\n                scope.object.fov = ( scope.object.fov > scope.minFov ) \n                    ? scope.object.fov - 1\n                    : scope.minFov;\n                scope.object.updateProjectionMatrix();\n\n            }\n\n            dollyStart.copy( dollyEnd );\n\n            scope.update();\n            scope.dispatchEvent( changeEvent );\n            break;\n\n        case 3: // three-fingered touch: pan\n\n            if ( scope.noPan === true ) return;\n            if ( state !== STATE.TOUCH_PAN ) return;\n\n            panEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n            panDelta.subVectors( panEnd, panStart );\n\n            scope.pan( panDelta.x, panDelta.y );\n\n            panStart.copy( panEnd );\n\n            scope.update();\n            break;\n\n        default:\n\n            state = STATE.NONE;\n\n        }\n\n    }\n\n    function touchend( /* event */ ) {\n\n        momentumOn = true;\n\n        eventPrevious = undefined;\n\n        if ( scope.enabled === false ) return;\n\n        scope.dispatchEvent( endEvent );\n        state = STATE.NONE;\n\n    }\n\n    this.dispose = function() {\n\n        this.domElement.removeEventListener( 'mousedown', onMouseDown );\n        this.domElement.removeEventListener( 'mousewheel', onMouseWheel );\n        this.domElement.removeEventListener( 'DOMMouseScroll', onMouseWheel );\n\n        this.domElement.removeEventListener( 'touchstart', touchstart );\n        this.domElement.removeEventListener( 'touchend', touchend );\n        this.domElement.removeEventListener( 'touchmove', touchmove );\n\n        window.removeEventListener( 'keyup', onKeyUp );\n        window.removeEventListener( 'keydown', onKeyDown );\n\n    };\n\n    // this.domElement.addEventListener( 'contextmenu', function ( event ) { event.preventDefault(); }, false );\n    this.domElement.addEventListener( 'mousedown', onMouseDown, { passive: false } );\n    this.domElement.addEventListener( 'mousewheel', onMouseWheel, { passive: false } );\n    this.domElement.addEventListener( 'DOMMouseScroll', onMouseWheel, { passive: false } ); // firefox\n\n    this.domElement.addEventListener( 'touchstart', touchstart, { passive: false } );\n    this.domElement.addEventListener( 'touchend', touchend, { passive: false } );\n    this.domElement.addEventListener( 'touchmove', touchmove, { passive: false } );\n\n    window.addEventListener( 'keyup', onKeyUp, { passive: false } );\n    window.addEventListener( 'keydown', onKeyDown, { passive: false } );\n\n    // force an update at start\n    this.update();\n\n}\nOrbitControls.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n    constructor: OrbitControls\n\n} );\n\n/**\n * @classdesc Device Orientation Control\n * @constructor\n * @external DeviceOrientationControls\n * @param {THREE.Camera} camera \n * @param {HTMLElement} domElement \n */\nfunction DeviceOrientationControls ( camera, domElement ) {\n\n    var scope = this;\n    var changeEvent = { type: 'change' };\n\n    var rotY = 0;\n    var rotX = 0;\n    var tempX = 0;\n    var tempY = 0;\n\n    this.camera = camera;\n    this.camera.rotation.reorder( 'YXZ' );\n    this.domElement = ( domElement !== undefined ) ? domElement : document;\n\n    this.enabled = true;\n\n    this.deviceOrientation = {};\n    this.screenOrientation = 0;\n\n    this.alpha = 0;\n    this.alphaOffsetAngle = 0;\n\n\n    var onDeviceOrientationChangeEvent = function( event ) {\n\n        scope.deviceOrientation = event;\n\n    };\n\n    var onScreenOrientationChangeEvent = function() {\n\n        scope.screenOrientation = window.orientation || 0;\n\n    };\n\n    var onTouchStartEvent = function (event) {\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        tempX = event.touches[ 0 ].pageX;\n        tempY = event.touches[ 0 ].pageY;\n\n    };\n\n    var onTouchMoveEvent = function (event) {\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        rotY += Math$1.degToRad( ( event.touches[ 0 ].pageX - tempX ) / 4 );\n        rotX += Math$1.degToRad( ( tempY - event.touches[ 0 ].pageY ) / 4 );\n\n        scope.updateAlphaOffsetAngle( rotY );\n\n        tempX = event.touches[ 0 ].pageX;\n        tempY = event.touches[ 0 ].pageY;\n\n    };\n\n    // The angles alpha, beta and gamma form a set of intrinsic Tait-Bryan angles of type Z-X'-Y''\n\n    var setCameraQuaternion = function( quaternion, alpha, beta, gamma, orient ) {\n\n        var zee = new Vector3( 0, 0, 1 );\n\n        var euler = new Euler();\n\n        var q0 = new Quaternion();\n\n        var q1 = new Quaternion( - Math.sqrt( 0.5 ), 0, 0, Math.sqrt( 0.5 ) ); // - PI/2 around the x-axis\n\n        var vectorFingerY;\n        var fingerQY = new Quaternion();\n        var fingerQX = new Quaternion();\n\n        if ( scope.screenOrientation == 0 ) {\n\n            vectorFingerY = new Vector3( 1, 0, 0 );\n            fingerQY.setFromAxisAngle( vectorFingerY, -rotX );\n\n        } else if ( scope.screenOrientation == 180 ) {\n\n            vectorFingerY = new Vector3( 1, 0, 0 );\n            fingerQY.setFromAxisAngle( vectorFingerY, rotX );\n\n        } else if ( scope.screenOrientation == 90 ) {\n\n            vectorFingerY = new Vector3( 0, 1, 0 );\n            fingerQY.setFromAxisAngle( vectorFingerY, rotX );\n\n        } else if ( scope.screenOrientation == - 90) {\n\n            vectorFingerY = new Vector3( 0, 1, 0 );\n            fingerQY.setFromAxisAngle( vectorFingerY, -rotX );\n\n        }\n\n        q1.multiply( fingerQY );\n        q1.multiply( fingerQX );\n\n        euler.set( beta, alpha, - gamma, 'YXZ' ); // 'ZXY' for the device, but 'YXZ' for us\n\n        quaternion.setFromEuler( euler ); // orient the device\n\n        quaternion.multiply( q1 ); // camera looks out the back of the device, not the top\n\n        quaternion.multiply( q0.setFromAxisAngle( zee, - orient ) ); // adjust for screen orientation\n\n    };\n\n    this.connect = function() {\n\n        onScreenOrientationChangeEvent(); // run once on load\n\n        window.addEventListener( 'orientationchange', onScreenOrientationChangeEvent, { passive: true } );\n        window.addEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, { passive: true } );\n        window.addEventListener( 'deviceorientation', this.update.bind( this ), { passive: true } );\n\n        scope.domElement.addEventListener( 'touchstart', onTouchStartEvent, { passive: false } );\n        scope.domElement.addEventListener( 'touchmove', onTouchMoveEvent, { passive: false } );\n\n        scope.enabled = true;\n\n    };\n\n    this.disconnect = function() {\n\n        window.removeEventListener( 'orientationchange', onScreenOrientationChangeEvent, false );\n        window.removeEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, false );\n        window.removeEventListener( 'deviceorientation', this.update.bind( this ), false );\n\n        scope.domElement.removeEventListener( 'touchstart', onTouchStartEvent, false );\n        scope.domElement.removeEventListener( 'touchmove', onTouchMoveEvent, false );\n\n        scope.enabled = false;\n\n    };\n\n    this.update = function( ignoreUpdate ) {\n\n        if ( scope.enabled === false ) return;\n\n        var alpha = scope.deviceOrientation.alpha ? Math$1.degToRad( scope.deviceOrientation.alpha ) + scope.alphaOffsetAngle : 0; // Z\n        var beta = scope.deviceOrientation.beta ? Math$1.degToRad( scope.deviceOrientation.beta ) : 0; // X'\n        var gamma = scope.deviceOrientation.gamma ? Math$1.degToRad( scope.deviceOrientation.gamma ) : 0; // Y''\n        var orient = scope.screenOrientation ? Math$1.degToRad( scope.screenOrientation ) : 0; // O\n\n        setCameraQuaternion( scope.camera.quaternion, alpha, beta, gamma, orient );\n        scope.alpha = alpha;\n\n        if ( ignoreUpdate !== true ) { scope.dispatchEvent( changeEvent ); }\n\n    };\n\n    this.updateAlphaOffsetAngle = function( angle ) {\n\n        this.alphaOffsetAngle = angle;\n        this.update();\n\n    };\n\n    this.dispose = function() {\n\n        this.disconnect();\n\n    };\n\n    this.connect();\n\n}\nDeviceOrientationControls.prototype = Object.assign( Object.create( EventDispatcher.prototype), {\n\n    constructor: DeviceOrientationControls\n\n} );\n\n/**\n * @classdesc Google Cardboard Effect Composer\n * @constructor\n * @external CardboardEffect\n * @param {THREE.WebGLRenderer} renderer \n */\nfunction CardboardEffect ( renderer ) {\n\n    var _camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n    var _scene = new Scene();\n\n    var _stereo = new StereoCamera();\n    _stereo.aspect = 0.5;\n\n    var _params = { minFilter: LinearFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n    var _renderTarget = new WebGLRenderTarget( 512, 512, _params );\n    _renderTarget.scissorTest = true;\n    _renderTarget.texture.generateMipmaps = false;\n\n    /*\n     * Distortion Mesh ported from:\n     * https://github.com/borismus/webvr-boilerplate/blob/master/src/distortion/barrel-distortion-fragment.js\n     */\n\n    var distortion = new Vector2( 0.441, 0.156 );\n\n    var geometry = new PlaneBufferGeometry( 1, 1, 10, 20 ).removeAttribute( 'normal' ).toNonIndexed();\n\n    var positions = geometry.attributes.position.array;\n    var uvs = geometry.attributes.uv.array;\n\n    // duplicate\n    geometry.attributes.position.count *= 2;\n    geometry.attributes.uv.count *= 2;\n\n    var positions2 = new Float32Array( positions.length * 2 );\n    positions2.set( positions );\n    positions2.set( positions, positions.length );\n\n    var uvs2 = new Float32Array( uvs.length * 2 );\n    uvs2.set( uvs );\n    uvs2.set( uvs, uvs.length );\n\n    var vector = new Vector2();\n    var length = positions.length / 3;\n\n    for ( var i = 0, l = positions2.length / 3; i < l; i ++ ) {\n\n        vector.x = positions2[ i * 3 + 0 ];\n        vector.y = positions2[ i * 3 + 1 ];\n\n        var dot = vector.dot( vector );\n        var scalar = 1.5 + ( distortion.x + distortion.y * dot ) * dot;\n\n        var offset = i < length ? 0 : 1;\n\n        positions2[ i * 3 + 0 ] = ( vector.x / scalar ) * 1.5 - 0.5 + offset;\n        positions2[ i * 3 + 1 ] = ( vector.y / scalar ) * 3.0;\n\n        uvs2[ i * 2 ] = ( uvs2[ i * 2 ] + offset ) * 0.5;\n\n    }\n\n    geometry.attributes.position.array = positions2;\n    geometry.attributes.uv.array = uvs2;\n\n    //\n\n    var material = new MeshBasicMaterial( { map: _renderTarget.texture } );\n    var mesh = new Mesh( geometry, material );\n    _scene.add( mesh );\n\n    //\n\n    this.setSize = function ( width, height ) {\n\n        renderer.setSize( width, height );\n\n        var pixelRatio = renderer.getPixelRatio();\n\n        _renderTarget.setSize( width * pixelRatio, height * pixelRatio );\n\n    };\n\n    this.render = function ( scene, camera ) {\n\n        scene.updateMatrixWorld();\n\n        if ( camera.parent === null ) camera.updateMatrixWorld();\n\n        _stereo.update( camera );\n\n        var width = _renderTarget.width / 2;\n        var height = _renderTarget.height;\n\n        if ( renderer.autoClear ) renderer.clear();\n\n        _renderTarget.scissor.set( 0, 0, width, height );\n        _renderTarget.viewport.set( 0, 0, width, height );\n        renderer.setRenderTarget( _renderTarget );\n        renderer.render( scene, _stereo.cameraL );\n\n        renderer.clearDepth();\n\n        _renderTarget.scissor.set( width, 0, width, height );\n        _renderTarget.viewport.set( width, 0, width, height );\n        renderer.setRenderTarget( _renderTarget );\n        renderer.render( scene, _stereo.cameraR );\n\n        renderer.clearDepth();\n\n        renderer.setRenderTarget( null );\n        renderer.render( _scene, _camera );\n    };\n\n}\n\n/**\n * @classdesc Stereo Effect Composer\n * @constructor\n * @external StereoEffect\n * @param {THREE.WebGLRenderer} renderer \n */\nconst StereoEffect = function ( renderer ) {\n\n    var _stereo = new StereoCamera();\n    _stereo.aspect = 0.5;\n    var size = new Vector2();\n\n    this.setEyeSeparation = function ( eyeSep ) {\n\n        _stereo.eyeSep = eyeSep;\n\n    };\n\n    this.setSize = function ( width, height ) {\n\n        renderer.setSize( width, height );\n\n    };\n\n    this.render = function ( scene, camera ) {\n\n        scene.updateMatrixWorld();\n\n        if ( camera.parent === null ) camera.updateMatrixWorld();\n\n        _stereo.update( camera );\n\n        renderer.getSize( size );\n\n        if ( renderer.autoClear ) renderer.clear();\n        renderer.setScissorTest( true );\n\n        renderer.setScissor( 0, 0, size.width / 2, size.height );\n        renderer.setViewport( 0, 0, size.width / 2, size.height );\n        renderer.render( scene, _stereo.cameraL );\n\n        renderer.setScissor( size.width / 2, 0, size.width / 2, size.height );\n        renderer.setViewport( size.width / 2, 0, size.width / 2, size.height );\n        renderer.render( scene, _stereo.cameraR );\n\n        renderer.setScissorTest( false );\n\n    };\n\n};\n\n/**\n * @classdesc Viewer contains pre-defined scene, camera and renderer\n * @constructor\n * @param {object} [options] - Use custom or default config options\n * @param {HTMLElement} [options.container] - A HTMLElement to host the canvas\n * @param {THREE.Scene} [options.scene=THREE.Scene] - A THREE.Scene which contains panorama and 3D objects\n * @param {THREE.Camera} [options.camera=THREE.PerspectiveCamera] - A THREE.Camera to view the scene\n * @param {THREE.WebGLRenderer} [options.renderer=THREE.WebGLRenderer] - A THREE.WebGLRenderer to render canvas\n * @param {boolean} [options.controlBar=true] - Show/hide control bar on the bottom of the container\n * @param {array}   [options.controlButtons=[]] - Button names to mount on controlBar if controlBar exists, Defaults to ['fullscreen', 'setting', 'video']\n * @param {boolean} [options.autoHideControlBar=false] - Auto hide control bar when click on non-active area\n * @param {boolean} [options.autoHideInfospot=true] - Auto hide infospots when click on non-active area\n * @param {boolean} [options.horizontalView=false] - Allow only horizontal camera control\n * @param {number}  [options.clickTolerance=10] - Distance tolerance to tigger click / tap event\n * @param {number}  [options.cameraFov=60] - Camera field of view value\n * @param {boolean} [options.reverseDragging=false] - Reverse dragging direction\n * @param {boolean} [options.enableReticle=false] - Enable reticle for mouseless interaction other than VR mode\n * @param {number}  [options.dwellTime=1500] - Dwell time for reticle selection in ms\n * @param {boolean} [options.autoReticleSelect=true] - Auto select a clickable target after dwellTime\n * @param {boolean} [options.viewIndicator=false] - Adds an angle view indicator in upper left corner\n * @param {number}  [options.indicatorSize=30] - Size of View Indicator\n * @param {string}  [options.output='none'] - Whether and where to output raycast position. Could be 'event', 'console' or 'overlay'.\n * @param {boolean} [options.autoRotate=false] - Auto rotate\n * @param {number}  [options.autoRotateSpeed=2.0] - Auto rotate speed as in degree per second. Positive is counter-clockwise and negative is clockwise.\n * @param {number}  [options.autoRotateActivationDuration=5000] - Duration before auto rotatation when no user interactivity in ms\n */\nfunction Viewer ( options ) {\n\n    let container;\n\n    options = options || {};\n    options.controlBar = options.controlBar !== undefined ? options.controlBar : true;\n    options.controlButtons = options.controlButtons || [ 'fullscreen', 'setting', 'video' ];\n    options.autoHideControlBar = options.autoHideControlBar !== undefined ? options.autoHideControlBar : false;\n    options.autoHideInfospot = options.autoHideInfospot !== undefined ? options.autoHideInfospot : true;\n    options.horizontalView = options.horizontalView !== undefined ? options.horizontalView : false;\n    options.clickTolerance = options.clickTolerance || 10;\n    options.cameraFov = options.cameraFov || 60;\n    options.reverseDragging = options.reverseDragging || false;\n    options.enableReticle = options.enableReticle || false;\n    options.dwellTime = options.dwellTime || 1500;\n    options.autoReticleSelect = options.autoReticleSelect !== undefined ? options.autoReticleSelect : true;\n    options.viewIndicator = options.viewIndicator !== undefined ? options.viewIndicator : false;\n    options.indicatorSize = options.indicatorSize || 30;\n    options.output = options.output ? options.output : 'none';\n    options.autoRotate = options.autoRotate || false;\n    options.autoRotateSpeed = options.autoRotateSpeed || 2.0;\n    options.autoRotateActivationDuration = options.autoRotateActivationDuration || 5000;\n\n    this.options = options;\n\n    /*\n     * CSS Icon\n     * const styleLoader = new StyleLoader();\n     * styleLoader.inject( 'icono' );\n     */\n\n    // Container\n    if ( options.container ) {\n\n        container = options.container;\n        container._width = container.clientWidth;\n        container._height = container.clientHeight;\n\n    } else {\n\n        container = document.createElement( 'div' );\n        container.classList.add( 'panolens-container' );\n        container.style.width = '100%';\n        container.style.height = '100%';\n        container._width = window.innerWidth;\n        container._height = window.innerHeight;\n        document.body.appendChild( container );\n\n    }\n\n    this.container = container;\n\n    this.camera = options.camera || new PerspectiveCamera( this.options.cameraFov, this.container.clientWidth / this.container.clientHeight, 1, 10000 );\n    this.scene = options.scene || new Scene();\n    this.renderer = options.renderer || new WebGLRenderer( { alpha: true, antialias: false } );\n    this.sceneReticle = new Scene();\n\n    this.viewIndicatorSize = this.options.indicatorSize;\n\n    this.reticle = {};\n    this.tempEnableReticle = this.options.enableReticle;\n\n    this.mode = MODES.NORMAL;\n\n    this.panorama = null;\n    this.widget = null;\n\n    this.hoverObject = null;\n    this.infospot = null;\n    this.pressEntityObject = null;\n    this.pressObject = null;\n\n    this.raycaster = new Raycaster();\n    this.raycasterPoint = new Vector2();\n    this.userMouse = new Vector2();\n    this.updateCallbacks = [];\n    this.requestAnimationId = null;\n\n    this.cameraFrustum = new Frustum();\n    this.cameraViewProjectionMatrix = new Matrix4();\n\n    this.autoRotateRequestId = null;\n\n    this.outputDivElement = null;\n\n    this.touchSupported = 'ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch;\n\n    // Handler references\n    this.HANDLER_MOUSE_DOWN = this.onMouseDown.bind( this );\n    this.HANDLER_MOUSE_UP = this.onMouseUp.bind( this );\n    this.HANDLER_MOUSE_MOVE = this.onMouseMove.bind( this );\n    this.HANDLER_WINDOW_RESIZE = this.onWindowResize.bind( this );\n    this.HANDLER_KEY_DOWN = this.onKeyDown.bind( this );\n    this.HANDLER_KEY_UP = this.onKeyUp.bind( this );\n    this.HANDLER_TAP = this.onTap.bind( this, {\n        clientX: this.container.clientWidth / 2,\n        clientY: this.container.clientHeight / 2\n    } );\n\n    // Flag for infospot output\n    this.OUTPUT_INFOSPOT = false;\n\n    // Animations\n    this.tweenLeftAnimation = new Tween.Tween();\n    this.tweenUpAnimation = new Tween.Tween();\n\n    // Renderer\n    this.renderer.setPixelRatio( window.devicePixelRatio );\n    this.renderer.setSize( this.container.clientWidth, this.container.clientHeight );\n    this.renderer.setClearColor( 0x000000, 0 );\n    this.renderer.autoClear = false;\n\n    // Append Renderer Element to container\n    this.renderer.domElement.classList.add( 'panolens-canvas' );\n    this.renderer.domElement.style.display = 'block';\n    this.container.style.backgroundColor = '#000';\n    this.container.appendChild( this.renderer.domElement );\n\n    // Camera Controls\n    this.OrbitControls = new OrbitControls( this.camera, this.container );\n    this.OrbitControls.id = 'orbit';\n    this.OrbitControls.minDistance = 1;\n    this.OrbitControls.noPan = true;\n    this.OrbitControls.autoRotate = this.options.autoRotate;\n    this.OrbitControls.autoRotateSpeed = this.options.autoRotateSpeed;\n\n    this.DeviceOrientationControls = new DeviceOrientationControls( this.camera, this.container );\n    this.DeviceOrientationControls.id = 'device-orientation';\n    this.DeviceOrientationControls.enabled = false;\n    this.camera.position.z = 1;\n\n    // Register change event if passiveRenering\n    if ( this.options.passiveRendering ) {\n\n        console.warn( 'passiveRendering is now deprecated' );\n\n    }\n\n    // Controls\n    this.controls = [ this.OrbitControls, this.DeviceOrientationControls ];\n    this.control = this.OrbitControls;\n\n    // Cardboard effect\n    this.CardboardEffect = new CardboardEffect( this.renderer );\n    this.CardboardEffect.setSize( this.container.clientWidth, this.container.clientHeight );\n\n    // Stereo effect\n    this.StereoEffect = new StereoEffect( this.renderer );\n    this.StereoEffect.setSize( this.container.clientWidth, this.container.clientHeight );\n\n    this.effect = this.CardboardEffect;\n\n    // Add default hidden reticle\n    this.addReticle();\n\n    // Lock horizontal view\n    if ( this.options.horizontalView ) {\n        this.OrbitControls.minPolarAngle = Math.PI / 2;\n        this.OrbitControls.maxPolarAngle = Math.PI / 2;\n    }\n\n    // Add Control UI\n    if ( this.options.controlBar !== false ) {\n        this.addDefaultControlBar( this.options.controlButtons );\n    }\n\n    // Add View Indicator\n    if ( this.options.viewIndicator ) {\n        this.addViewIndicator();\n    }\n\n    // Reverse dragging direction\n    if ( this.options.reverseDragging ) {\n        this.reverseDraggingDirection();\n    }\n\n    // Register event if reticle is enabled, otherwise defaults to mouse\n    if ( this.options.enableReticle ) {\n        this.enableReticleControl();\n    } else {\n        this.registerMouseAndTouchEvents();\n    }\n\n    // Output infospot position to an overlay container if specified\n    if ( this.options.output === 'overlay' ) {\n        this.addOutputElement();\n    }\n\n    // Register dom event listeners\n    this.registerEventListeners();\n\n    // Animate\n    this.animate.call( this );\n\n}\nViewer.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n    constructor: Viewer,\n\n    /**\n     * Add an object to the scene\n     * Automatically hookup with panolens-viewer-handler listener\n     * to communicate with viewer method\n     * @param {THREE.Object3D} object - The object to be added\n     * @memberOf Viewer\n     * @instance\n     */\n    add: function ( object ) {\n\n        if ( arguments.length > 1 ) {\n\n            for ( let i = 0; i < arguments.length; i ++ ) {\n\n                this.add( arguments[ i ] );\n\n            }\n\n            return this;\n\n        }\n\n        this.scene.add( object );\n\n        // All object added to scene has 'panolens-viewer-handler' event to handle viewer communication\n        if ( object.addEventListener ) {\n\n            object.addEventListener( 'panolens-viewer-handler', this.eventHandler.bind( this ) );\n\n        }\n\n        // All object added to scene being passed with container\n        if ( object instanceof Panorama && object.dispatchEvent ) {\n\n            object.dispatchEvent( { type: 'panolens-container', container: this.container } );\n\n        }\n\n        if ( object instanceof CameraPanorama ) {\n\n            object.dispatchEvent( { type: 'panolens-scene', scene: this.scene } );\n\n        }\n\n        // Hookup default panorama event listeners\n        if ( object.type === 'panorama' ) {\n\n            this.addPanoramaEventListener( object );\n\n            if ( !this.panorama ) {\n\n                this.setPanorama( object );\n\n            }\n\n        }\n\n    },\n\n    /**\n     * Remove an object from the scene\n     * @param  {THREE.Object3D} object - Object to be removed\n     * @memberOf Viewer\n     * @instance\n     */\n    remove: function ( object ) {\n\n        if ( object.removeEventListener ) {\n\n            object.removeEventListener( 'panolens-viewer-handler', this.eventHandler.bind( this ) );\n\n        }\n\n        this.scene.remove( object );\n\n    },\n\n    /**\n     * Add default control bar\n     * @param {array} array - The control buttons array\n     * @memberOf Viewer\n     * @instance\n     */\n    addDefaultControlBar: function ( array ) {\n\n        if ( this.widget ) {\n\n            console.warn( 'Default control bar exists' );\n            return;\n\n        }\n\n        const widget = new Widget( this.container );\n        widget.addEventListener( 'panolens-viewer-handler', this.eventHandler.bind( this ) );\n        widget.addControlBar();\n        array.forEach( buttonName => {\n\n            widget.addControlButton( buttonName );\n\n        } );\n\n        this.widget = widget;\n\n    },\n\n    /**\n     * Set a panorama to be the current one\n     * @param {Panorama} pano - Panorama to be set\n     * @memberOf Viewer\n     * @instance\n     */\n    setPanorama: function ( pano ) {\n\n        const leavingPanorama = this.panorama;\n\n        if ( pano.type === 'panorama' && leavingPanorama !== pano ) {\n\n            // Clear exisiting infospot\n            this.hideInfospot();\n\n            const afterEnterComplete = function () {\n\n                if ( leavingPanorama ) { leavingPanorama.onLeave(); }\n                pano.removeEventListener( 'enter-fade-start', afterEnterComplete );\n\n            };\n\n            pano.addEventListener( 'enter-fade-start', afterEnterComplete );\n\n            // Assign and enter panorama\n            (this.panorama = pano).onEnter();\n\t\t\t\n        }\n\n    },\n\n    /**\n     * Event handler to execute commands from child objects\n     * @param {object} event - The dispatched event with method as function name and data as an argument\n     * @memberOf Viewer\n     * @instance\n     */\n    eventHandler: function ( event ) {\n\n        if ( event.method && this[ event.method ] ) {\n\n            this[ event.method ]( event.data );\n\n        }\n\n    },\n\n    /**\n     * Dispatch event to all descendants\n     * @param  {object} event - Event to be passed along\n     * @memberOf Viewer\n     * @instance\n     */\n    dispatchEventToChildren: function ( event ) {\n\n        this.scene.traverse( function ( object ) {\n\n            if ( object.dispatchEvent ) {\n\n                object.dispatchEvent( event );\n\n            }\n\n        });\n\n    },\n\n    /**\n     * Set widget content\n     * @method activateWidgetItem\n     * @param  {integer} controlIndex - Control index\n     * @param  {integer} mode - Modes for effects\n     * @memberOf Viewer\n     * @instance\n     */\n    activateWidgetItem: function ( controlIndex, mode ) {\n\n        const mainMenu = this.widget.mainMenu;\n        const ControlMenuItem = mainMenu.children[ 0 ];\n        const ModeMenuItem = mainMenu.children[ 1 ];\n\n        let item;\n\n        if ( controlIndex !== undefined ) {\n\n            switch ( controlIndex ) {\n\n            case 0:\n\n                item = ControlMenuItem.subMenu.children[ 1 ];\n\n                break;\n\n            case 1:\n\n                item = ControlMenuItem.subMenu.children[ 2 ];\n\n                break;\n\t\t\t\t\t\n            default:\n\n                item = ControlMenuItem.subMenu.children[ 1 ];\n\n                break;\t\n\n            }\n\n            ControlMenuItem.subMenu.setActiveItem( item );\n            ControlMenuItem.setSelectionTitle( item.textContent );\n\n        }\n\n        if ( mode !== undefined ) {\n\n            switch( mode ) {\n\n            case MODES.CARDBOARD:\n\n                item = ModeMenuItem.subMenu.children[ 2 ];\n\n                break;\n\n            case MODES.STEREO:\n\n                item = ModeMenuItem.subMenu.children[ 3 ];\n\t\t\t\t\t\n                break;\n\n            default:\n\n                item = ModeMenuItem.subMenu.children[ 1 ];\n\n                break;\n            }\n\n            ModeMenuItem.subMenu.setActiveItem( item );\n            ModeMenuItem.setSelectionTitle( item.textContent );\n\n        }\n\n    },\n\n    /**\n     * Enable rendering effect\n     * @param  {MODES} mode - Modes for effects\n     * @memberOf Viewer\n     * @instance\n     */\n    enableEffect: function ( mode ) {\n\n        if ( this.mode === mode ) { return; }\n        if ( mode === MODES.NORMAL ) { this.disableEffect(); return; }\n        else { this.mode = mode; }\n\n        const fov = this.camera.fov;\n\n        switch( mode ) {\n\n        case MODES.CARDBOARD:\n\n            this.effect = this.CardboardEffect;\n            this.enableReticleControl();\n\n            break;\n\n        case MODES.STEREO:\n\n            this.effect = this.StereoEffect;\n            this.enableReticleControl();\n\t\t\t\t\n            break;\n\n        default:\n\n            this.effect = null;\n            this.disableReticleControl();\n\n            break;\n\n        }\n\n        this.activateWidgetItem( undefined, this.mode );\n\n        /**\n         * Dual eye effect event\n         * @type {object}\n         * @event Infospot#panolens-dual-eye-effect\n         * @property {MODES} mode - Current display mode\n         */\n        this.dispatchEventToChildren( { type: 'panolens-dual-eye-effect', mode: this.mode } );\n\n        // Force effect stereo camera to update by refreshing fov\n        this.camera.fov = fov + 10e-3;\n        this.effect.setSize( this.container.clientWidth, this.container.clientHeight );\n        this.render();\n        this.camera.fov = fov;\n\n        /**\n         * Dispatch mode change event\n         * @type {object}\n         * @event Viewer#mode-change\n         * @property {MODES} mode - Current display mode\n         */\n        this.dispatchEvent( { type: 'mode-change', mode: this.mode } );\n\n    },\n\n    /**\n     * Disable additional rendering effect\n     * @memberOf Viewer\n     * @instance\n     */\n    disableEffect: function () {\n\n        if ( this.mode === MODES.NORMAL ) { return; }\n\n        this.mode = MODES.NORMAL;\n        this.disableReticleControl();\n\n        this.activateWidgetItem( undefined, this.mode );\n\n        /**\n         * Dual eye effect event\n         * @type {object}\n         * @event Infospot#panolens-dual-eye-effect\n         * @property {MODES} mode - Current display mode\n         */\n        this.dispatchEventToChildren( { type: 'panolens-dual-eye-effect', mode: this.mode } );\n\n        this.renderer.setSize( this.container.clientWidth, this.container.clientHeight );\n        this.render();\n\n        /**\n         * Dispatch mode change event\n         * @type {object}\n         * @event Viewer#mode-change\n         * @property {MODES} mode - Current display mode\n         */\n        this.dispatchEvent( { type: 'mode-change', mode: this.mode } );\n    },\n\n    /**\n     * Enable reticle control\n     * @memberOf Viewer\n     * @instance\n     */\n    enableReticleControl: function () {\n\n        if ( this.reticle.visible ) { return; }\n\n        this.tempEnableReticle = true;\n\n        // Register reticle event and unregister mouse event\n        this.unregisterMouseAndTouchEvents();\n        this.reticle.show();\n        this.registerReticleEvent();\n        this.updateReticleEvent();\n\n    },\n\n    /**\n     * Disable reticle control\n     * @memberOf Viewer\n     * @instance\n     */\n    disableReticleControl: function () {\n\n        this.tempEnableReticle = false;\n\n        // Register mouse event and unregister reticle event\n        if ( !this.options.enableReticle ) {\n\n            this.reticle.hide();\n            this.unregisterReticleEvent();\n            this.registerMouseAndTouchEvents();\n\n        } else {\n\n            this.updateReticleEvent();\n\n        }\n\n    },\n\n    /**\n     * Enable auto rotation\n     * @memberOf Viewer\n     * @instance\n     */\n    enableAutoRate: function () {\n\n        this.options.autoRotate = true;\n        this.OrbitControls.autoRotate = true;\n\n    },\n\n    /**\n     * Disable auto rotation\n     * @memberOf Viewer\n     * @instance\n     */\n    disableAutoRate: function () {\n\n        clearTimeout( this.autoRotateRequestId );\n        this.options.autoRotate = false;\n        this.OrbitControls.autoRotate = false;\n\n    },\n\n    /**\n     * Toggle video play or stop\n     * @param {boolean} pause\n     * @memberOf Viewer\n     * @instance\n     * @fires Viewer#video-toggle\n     */\n    toggleVideoPlay: function ( pause ) {\n\n        if ( this.panorama instanceof VideoPanorama ) {\n\n            /**\n             * Toggle video event\n             * @type {object}\n             * @event Viewer#video-toggle\n             */\n            this.panorama.dispatchEvent( { type: 'video-toggle', pause: pause } );\n\n        }\n\n    },\n\n    /**\n     * Set currentTime in a video\n     * @param {number} percentage - Percentage of a video. Range from 0.0 to 1.0\n     * @memberOf Viewer\n     * @instance\n     * @fires Viewer#video-time\n     */\n    setVideoCurrentTime: function ( percentage ) {\n\n        if ( this.panorama instanceof VideoPanorama ) {\n\n            /**\n             * Setting video time event\n             * @type {object}\n             * @event Viewer#video-time\n             * @property {number} percentage - Percentage of a video. Range from 0.0 to 1.0\n             */\n            this.panorama.dispatchEvent( { type: 'video-time', percentage: percentage } );\n\n        }\n\n    },\n\n    /**\n     * This will be called when video updates if an widget is present\n     * @param {number} percentage - Percentage of a video. Range from 0.0 to 1.0\n     * @memberOf Viewer\n     * @instance\n     * @fires Viewer#video-update\n     */\n    onVideoUpdate: function ( percentage ) {\n\n        const { widget } = this;\n\n        /**\n         * Video update event\n         * @type {object}\n         * @event Viewer#video-update\n         * @property {number} percentage - Percentage of a video. Range from 0.0 to 1.0\n         */\n        if( widget ) { widget.dispatchEvent( { type: 'video-update', percentage: percentage } ); }\n\n    },\n\n    /**\n     * Add update callback to be called every animation frame\n     * @param {function} callback\n     * @memberOf Viewer\n     * @instance\n     */\n    addUpdateCallback: function ( fn ) {\n\n        if ( fn ) {\n\n            this.updateCallbacks.push( fn );\n\n        }\n\n    },\n\n    /**\n     * Remove update callback\n     * @param  {function} fn - The function to be removed\n     * @memberOf Viewer\n     * @instance\n     */\n    removeUpdateCallback: function ( fn ) {\n\n        const index = this.updateCallbacks.indexOf( fn );\n\n        if ( fn && index >= 0 ) {\n\n            this.updateCallbacks.splice( index, 1 );\n\n        }\n\n    },\n\n    /**\n     * Show video widget\n     * @memberOf Viewer\n     * @instance\n     */\n    showVideoWidget: function () {\n\n        const { widget } = this;\n\n        /**\n         * Show video widget event\n         * @type {object}\n         * @event Viewer#video-control-show\n         */\n        if( widget ) { widget.dispatchEvent( { type: 'video-control-show' } ); }\n\n    },\n\n    /**\n     * Hide video widget\n     * @memberOf Viewer\n     * @instance\n     */\n    hideVideoWidget: function () {\n\n        const { widget } = this;\n\n        /**\n         * Hide video widget\n         * @type {object}\n         * @event Viewer#video-control-hide\n         */\n        if( widget ) { widget.dispatchEvent( { type: 'video-control-hide' } ); }\n\n    },\n\n    /**\n     * Update video play button\n     * @param {boolean} paused \n     * @memberOf Viewer\n     * @instance\n     */\n    updateVideoPlayButton: function ( paused ) {\n\n        const { widget } = this;\n\n        if ( widget && widget.videoElement && widget.videoElement.controlButton ) {\n\n            widget.videoElement.controlButton.update( paused );\n\n        }\n\n    },\n\n    /**\n     * Add default panorama event listeners\n     * @param {Panorama} pano - The panorama to be added with event listener\n     * @memberOf Viewer\n     * @instance\n     */\n    addPanoramaEventListener: function ( pano ) {\n\n        // Set camera control on every panorama\n        pano.addEventListener( 'enter-fade-start', this.setCameraControl.bind( this ) );\n\n        // Show and hide widget event only when it's VideoPanorama\n        if ( pano instanceof VideoPanorama ) {\n\n            pano.addEventListener( 'enter-fade-start', this.showVideoWidget.bind( this ) );\n            pano.addEventListener( 'leave', function () {\n\n                if ( !(this.panorama instanceof VideoPanorama) ) {\n\n                    this.hideVideoWidget.call( this );\n\n                }\n\t\t\t\t\n            }.bind( this ) );\n\n        }\n\n    },\n\n    /**\n     * Set camera control\n     * @memberOf Viewer\n     * @instance\n     */\n    setCameraControl: function () {\n\n        this.OrbitControls.target.copy( this.panorama.position );\n\n    },\n\n    /**\n     * Get current camera control\n     * @return {object} - Current navigation control\n     * @memberOf Viewer\n     * @instance\n     * @returns {THREE.OrbitControls|THREE.DeviceOrientationControls}\n     */\n    getControl: function () {\n\n        return this.control;\n\n    },\n\n    /**\n     * Get scene\n     * @memberOf Viewer\n     * @instance\n     * @return {THREE.Scene} - Current scene which the viewer is built on\n     */\n    getScene: function () {\n\n        return this.scene;\n\n    },\n\n    /**\n     * Get camera\n     * @memberOf Viewer\n     * @instance\n     * @return {THREE.Camera} - The scene camera\n     */\n    getCamera: function () {\n\n        return this.camera;\n\n    },\n\n    /**\n     * Get renderer\n     * @memberOf Viewer\n     * @instance\n     * @return {THREE.WebGLRenderer} - The renderer using webgl\n     */\n    getRenderer: function () {\n\n        return this.renderer;\n\n    },\n\n    /**\n     * Get container\n     * @memberOf Viewer\n     * @instance\n     * @return {HTMLElement} - The container holds rendererd canvas\n     */\n    getContainer: function () {\n\n        return this.container;\n\n    },\n\n    /**\n     * Get control id\n     * @memberOf Viewer\n     * @instance\n     * @return {string} - Control id. 'orbit' or 'device-orientation'\n     */\n    getControlId: function () {\n\n        return this.control.id;\n\n    },\n\n    /**\n     * Get next navigation control id\n     * @memberOf Viewer\n     * @instance\n     * @return {string} - Next control id\n     */\n    getNextControlId: function () {\n\n        return this.controls[ this.getNextControlIndex() ].id;\n\n    },\n\n    /**\n     * Get next navigation control index\n     * @memberOf Viewer\n     * @instance\n     * @return {number} - Next control index\n     */\n    getNextControlIndex: function () {\n\n        const controls = this.controls;\n        const control = this.control;\n        const nextIndex = controls.indexOf( control ) + 1;\n\n        return ( nextIndex >= controls.length ) ? 0 : nextIndex;\n\n    },\n\n    /**\n     * Set field of view of camera\n     * @param {number} fov\n     * @memberOf Viewer\n     * @instance\n     */\n    setCameraFov: function ( fov ) {\n\n        this.camera.fov = fov;\n        this.camera.updateProjectionMatrix();\n\n    },\n\n    /**\n     * Enable control by index\n     * @param  {CONTROLS} index - Index of camera control\n     * @memberOf Viewer\n     * @instance\n     */\n    enableControl: function ( index ) {\n\n        index = ( index >= 0 && index < this.controls.length ) ? index : 0;\n\n        this.control.enabled = false;\n\n        this.control = this.controls[ index ];\n\n        this.control.enabled = true;\n\n        switch ( index ) {\n\n        case CONTROLS.ORBIT:\n\n            this.camera.position.copy( this.panorama.position );\n            this.camera.position.z += 1;\n\n            break;\n\n        case CONTROLS.DEVICEORIENTATION:\n\n            this.camera.position.copy( this.panorama.position );\n\n            break;\n\n        default:\n\n            break;\n        }\n\n        this.control.update();\n\n        this.activateWidgetItem( index, undefined );\n\n    },\n\n    /**\n     * Disable current control\n     * @memberOf Viewer\n     * @instance\n     */\n    disableControl: function () {\n\n        this.control.enabled = false;\n\n    },\n\n    /**\n     * Toggle next control\n     * @memberOf Viewer\n     * @instance\n     */\n    toggleNextControl: function () {\n\n        this.enableControl( this.getNextControlIndex() );\n\n    },\n\n    /**\n     * Screen Space Projection\n     * @memberOf Viewer\n     * @instance\n     */\n    getScreenVector: function ( worldVector ) {\n\n        const vector = worldVector.clone();\n        const widthHalf = ( this.container.clientWidth ) / 2;\n        const heightHalf = this.container.clientHeight / 2;\n\n        vector.project( this.camera );\n\n        vector.x = ( vector.x * widthHalf ) + widthHalf;\n        vector.y = - ( vector.y * heightHalf ) + heightHalf;\n        vector.z = 0;\n\n        return vector;\n\n    },\n\n    /**\n     * Check Sprite in Viewport\n     * @memberOf Viewer\n     * @instance\n     */\n    checkSpriteInViewport: function ( sprite ) {\n\n        this.camera.matrixWorldInverse.getInverse( this.camera.matrixWorld );\n        this.cameraViewProjectionMatrix.multiplyMatrices( this.camera.projectionMatrix, this.camera.matrixWorldInverse );\n        this.cameraFrustum.setFromMatrix( this.cameraViewProjectionMatrix );\n\n        return sprite.visible && this.cameraFrustum.intersectsSprite( sprite );\n\n    },\n\n    /**\n     * Reverse dragging direction\n     * @memberOf Viewer\n     * @instance\n     */\n    reverseDraggingDirection: function () {\n\n        this.OrbitControls.rotateSpeed *= -1;\n        this.OrbitControls.momentumScalingFactor *= -1;\n\n    },\n\n    /**\n     * Add reticle \n     * @memberOf Viewer\n     * @instance\n     */\n    addReticle: function () {\n\n        this.reticle = new Reticle( 0xffffff, true, this.options.dwellTime );\n        this.reticle.hide();\n        this.camera.add( this.reticle );\n        this.sceneReticle.add( this.camera );\n\n    },\n\n    /**\n     * Tween control looking center\n     * @param {THREE.Vector3} vector - Vector to be looked at the center\n     * @param {number} [duration=1000] - Duration to tween\n     * @param {function} [easing=TWEEN.Easing.Exponential.Out] - Easing function\n     * @memberOf Viewer\n     * @instance\n     */\n    tweenControlCenter: function ( vector, duration, easing ) {\n\n        if ( this.control !== this.OrbitControls ) {\n\n            return;\n\n        }\n\n        // Pass in arguments as array\n        if ( vector instanceof Array ) {\n\n            duration = vector[ 1 ];\n            easing = vector[ 2 ];\n            vector = vector[ 0 ];\n\n        }\n\n        duration = duration !== undefined ? duration : 1000;\n        easing = easing || Tween.Easing.Exponential.Out;\n\n        let scope, ha, va, chv, cvv, hv, vv, vptc, ov, nv;\n\n        scope = this;\n\n        chv = this.camera.getWorldDirection( new Vector3() );\n        cvv = chv.clone();\n\n        vptc = this.panorama.getWorldPosition( new Vector3() ).sub( this.camera.getWorldPosition( new Vector3() ) );\n\n        hv = vector.clone();\n        // Scale effect\n        hv.x *= -1;\n        hv.add( vptc ).normalize();\n        vv = hv.clone();\n\n        chv.y = 0;\n        hv.y = 0;\n\n        ha = Math.atan2( hv.z, hv.x ) - Math.atan2( chv.z, chv.x );\n        ha = ha > Math.PI ? ha - 2 * Math.PI : ha;\n        ha = ha < -Math.PI ? ha + 2 * Math.PI : ha;\n        va = Math.abs( cvv.angleTo( chv ) + ( cvv.y * vv.y <= 0 ? vv.angleTo( hv ) : -vv.angleTo( hv ) ) );\n        va *= vv.y < cvv.y ? 1 : -1;\n\n        ov = { left: 0, up: 0 };\n        nv = { left: 0, up: 0 };\n\n        this.tweenLeftAnimation.stop();\n        this.tweenUpAnimation.stop();\n\n        this.tweenLeftAnimation = new Tween.Tween( ov )\n            .to( { left: ha }, duration )\n            .easing( easing )\n            .onUpdate(function(ov){\n                scope.control.rotateLeft( ov.left - nv.left );\n                nv.left = ov.left;\n            })\n            .start();\n\n        this.tweenUpAnimation = new Tween.Tween( ov )\n            .to( { up: va }, duration )\n            .easing( easing )\n            .onUpdate(function(ov){\n                scope.control.rotateUp( ov.up - nv.up );\n                nv.up = ov.up;\n            })\n            .start();\n\n    },\n\n    /**\n     * Tween control looking center by object\n     * @param {THREE.Object3D} object - Object to be looked at the center\n     * @param {number} [duration=1000] - Duration to tween\n     * @param {function} [easing=TWEEN.Easing.Exponential.Out] - Easing function\n     * @memberOf Viewer\n     * @instance\n     */\n    tweenControlCenterByObject: function ( object, duration, easing ) {\n\n        let isUnderScalePlaceHolder = false;\n\n        object.traverseAncestors( function ( ancestor ) {\n\n            if ( ancestor.scalePlaceHolder ) {\n\n                isUnderScalePlaceHolder = true;\n\n            }\n        } );\n\n        if ( isUnderScalePlaceHolder ) {\n\n            const invertXVector = new Vector3( -1, 1, 1 );\n\n            this.tweenControlCenter( object.getWorldPosition( new Vector3() ).multiply( invertXVector ), duration, easing );\n\n        } else {\n\n            this.tweenControlCenter( object.getWorldPosition( new Vector3() ), duration, easing );\n\n        }\n\n    },\n\n    /**\n     * This is called when window size is changed\n     * @fires Viewer#window-resize\n     * @param {number} [windowWidth] - Specify if custom element has changed width\n     * @param {number} [windowHeight] - Specify if custom element has changed height\n     * @memberOf Viewer\n     * @instance\n     */\n    onWindowResize: function ( windowWidth, windowHeight ) {\n\n        let width, height;\n\n        const expand = this.container.classList.contains( 'panolens-container' ) || this.container.isFullscreen;\n\n        if ( windowWidth !== undefined && windowHeight !== undefined ) {\n\n            width = windowWidth;\n            height = windowHeight;\n            this.container._width = windowWidth;\n            this.container._height = windowHeight;\n\n        } else {\n\n            const isAndroid = /(android)/i.test(window.navigator.userAgent);\n\n            const adjustWidth = isAndroid \n                ? Math.min(document.documentElement.clientWidth, window.innerWidth || 0) \n                : Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\n            const adjustHeight = isAndroid \n                ? Math.min(document.documentElement.clientHeight, window.innerHeight || 0) \n                : Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\n            width = expand ? adjustWidth : this.container.clientWidth;\n            height = expand ? adjustHeight : this.container.clientHeight;\n\n            this.container._width = width;\n            this.container._height = height;\n\n        }\n\n        this.camera.aspect = width / height;\n        this.camera.updateProjectionMatrix();\n\n        this.renderer.setSize( width, height );\n\n        // Update reticle\n        if ( this.options.enableReticle || this.tempEnableReticle ) {\n\n            this.updateReticleEvent();\n\n        }\n\n        /**\n         * Window resizing event\n         * @type {object}\n         * @event Viewer#window-resize\n         * @property {number} width  - Width of the window\n         * @property {number} height - Height of the window\n         */\n        this.dispatchEvent( { type: 'window-resize', width: width, height: height });\n        this.scene.traverse( function ( object ) {\n\n            if ( object.dispatchEvent ) {\n\n                object.dispatchEvent( { type: 'window-resize', width: width, height: height });\n\n            }\n\n        } );\n\n    },\n\n    /**\n     * Add output element\n     * @memberOf Viewer\n     * @instance\n     */\n    addOutputElement: function () {\n\n        const element = document.createElement( 'div' );\n        element.style.position = 'absolute';\n        element.style.right = '10px';\n        element.style.top = '10px';\n        element.style.color = '#fff';\n        this.container.appendChild( element );\n        this.outputDivElement = element;\n\n    },\n\n    /**\n     * Output position in developer console by holding down Ctrl button\n     * @memberOf Viewer\n     * @instance\n     */\n    outputPosition: function () {\n\n        const intersects = this.raycaster.intersectObject( this.panorama, true );\n\n        if ( intersects.length > 0 ) {\n\n            const point = intersects[ 0 ].point.clone();\n            const converter = new Vector3( -1, 1, 1 );\n            const world = this.panorama.getWorldPosition( new Vector3() );\n            point.sub( world ).multiply( converter );\n\n            const position = {\n                x: point.x.toFixed(2),\n                y: point.y.toFixed(2),\n                z: point.z.toFixed(2),\n            };\n\n            const message = `${position.x}, ${position.y}, ${position.z}`;\n\n            if ( point.length() === 0 ) { return; }\n\n            switch ( this.options.output ) {\n\n            case 'event':\n                /**\n                 * Dispatch raycast position as event\n                 * @type {object}\n                 * @event Viewer#position-output\n                 */\n                this.dispatchEvent( { type: 'position-output', position: position } );\n                break;\n\n            case 'console':\n                console.info( message );\n                break;\n\n            case 'overlay':\n                this.outputDivElement.textContent = message;\n                break;\n\n            default:\n                break;\n\n            }\n\n        }\n\n    },\n\n    /**\n     * On mouse down\n     * @param {MouseEvent} event \n     * @memberOf Viewer\n     * @instance\n     */\n    onMouseDown: function ( event ) {\n\n        event.preventDefault();\n\n        this.userMouse.x = ( event.clientX >= 0 ) ? event.clientX : event.touches[0].clientX;\n        this.userMouse.y = ( event.clientY >= 0 ) ? event.clientY : event.touches[0].clientY;\n        this.userMouse.type = 'mousedown';\n        this.onTap( event );\n\n    },\n\n    /**\n     * On mouse move\n     * @param {MouseEvent} event \n     * @memberOf Viewer\n     * @instance\n     */\n    onMouseMove: function ( event ) {\n\n        event.preventDefault();\n        this.userMouse.type = 'mousemove';\n        this.onTap( event );\n\n    },\n\n    /**\n     * On mouse up\n     * @param {MouseEvent} event \n     * @memberOf Viewer\n     * @instance\n     */\n    onMouseUp: function ( event ) {\n\n        let onTarget = false;\n\n        this.userMouse.type = 'mouseup';\n\n        const type = ( this.userMouse.x >= event.clientX - this.options.clickTolerance \n\t\t\t\t&& this.userMouse.x <= event.clientX + this.options.clickTolerance\n\t\t\t\t&& this.userMouse.y >= event.clientY - this.options.clickTolerance\n\t\t\t\t&& this.userMouse.y <= event.clientY + this.options.clickTolerance ) \n\t\t\t\t||  ( event.changedTouches \n\t\t\t\t&& this.userMouse.x >= event.changedTouches[0].clientX - this.options.clickTolerance\n\t\t\t\t&& this.userMouse.x <= event.changedTouches[0].clientX + this.options.clickTolerance \n\t\t\t\t&& this.userMouse.y >= event.changedTouches[0].clientY - this.options.clickTolerance\n\t\t\t\t&& this.userMouse.y <= event.changedTouches[0].clientY + this.options.clickTolerance ) \n            ? 'click' : undefined;\n\n        // Event should happen on canvas\n        if ( event && event.target && !event.target.classList.contains( 'panolens-canvas' ) ) { return; }\n\n        event.preventDefault();\n\n        if ( event.changedTouches && event.changedTouches.length === 1 ) {\n\n            onTarget = this.onTap( { clientX: event.changedTouches[0].clientX, clientY: event.changedTouches[0].clientY }, type );\n\t\t\n        } else {\n\n            onTarget = this.onTap( event, type );\n\n        }\n\n        this.userMouse.type = 'none';\n\n        if ( onTarget ) { \n\n            return; \n\n        }\n\n        if ( type === 'click' ) {\n\n            const { options: { autoHideInfospot, autoHideControlBar }, panorama, toggleControlBar } = this;\n\n            if ( autoHideInfospot && panorama ) {\n\n                panorama.toggleInfospotVisibility();\n\n            }\n\n            if ( autoHideControlBar ) {\n\n                toggleControlBar();\n\n            }\n\n        }\n\n    },\n\n    /**\n     * On tap eveny frame\n     * @param {MouseEvent} event \n     * @param {string} type \n     * @memberOf Viewer\n     * @instance\n     */\n    onTap: function ( event, type ) {\n\n        const { left, top } = this.container.getBoundingClientRect();\n        const { clientWidth, clientHeight } = this.container;\n\n        this.raycasterPoint.x = ( ( event.clientX - left ) / clientWidth ) * 2 - 1;\n        this.raycasterPoint.y = - ( ( event.clientY - top ) / clientHeight ) * 2 + 1;\n\n        this.raycaster.setFromCamera( this.raycasterPoint, this.camera );\n\n        // Return if no panorama \n        if ( !this.panorama ) { \n\n            return; \n\n        }\n\n        // output infospot information\n        if ( event.type !== 'mousedown' && this.touchSupported || this.OUTPUT_INFOSPOT ) { \n\n            this.outputPosition(); \n\n        }\n\n\n        const intersects = this.raycaster.intersectObjects( this.panorama.children, true );\n        const intersect_entity = this.getConvertedIntersect( intersects );\n        const intersect = ( intersects.length > 0 ) ? intersects[0].object : undefined;\n\n        if ( this.userMouse.type === 'mouseup'  ) {\n\n            if ( intersect_entity && this.pressEntityObject === intersect_entity && this.pressEntityObject.dispatchEvent ) {\n\n                this.pressEntityObject.dispatchEvent( { type: 'pressstop-entity', mouseEvent: event } );\n\n            }\n\n            this.pressEntityObject = undefined;\n\n        }\n\n        if ( this.userMouse.type === 'mouseup'  ) {\n\n            if ( intersect && this.pressObject === intersect && this.pressObject.dispatchEvent ) {\n\n                this.pressObject.dispatchEvent( { type: 'pressstop', mouseEvent: event } );\n\n            }\n\n            this.pressObject = undefined;\n\n        }\n\n        if ( type === 'click' ) {\n\n            this.panorama.dispatchEvent( { type: 'click', intersects: intersects, mouseEvent: event } );\n\n            if ( intersect_entity && intersect_entity.dispatchEvent ) {\n\n                intersect_entity.dispatchEvent( { type: 'click-entity', mouseEvent: event } );\n\n            }\n\n            if ( intersect && intersect.dispatchEvent ) {\n\n                intersect.dispatchEvent( { type: 'click', mouseEvent: event } );\n\n            }\n\n        } else {\n\n            this.panorama.dispatchEvent( { type: 'hover', intersects: intersects, mouseEvent: event } );\n\n            if ( ( this.hoverObject && intersects.length > 0 && this.hoverObject !== intersect_entity )\n\t\t\t\t|| ( this.hoverObject && intersects.length === 0 ) ){\n\n                if ( this.hoverObject.dispatchEvent ) {\n\n                    this.hoverObject.dispatchEvent( { type: 'hoverleave', mouseEvent: event } );\n\n                    this.reticle.end();\n\n                }\n\n                this.hoverObject = undefined;\n\n            }\n\n            if ( intersect_entity && intersects.length > 0 ) {\n\n                if ( this.hoverObject !== intersect_entity ) {\n\n                    this.hoverObject = intersect_entity;\n\n                    if ( this.hoverObject.dispatchEvent ) {\n\n                        this.hoverObject.dispatchEvent( { type: 'hoverenter', mouseEvent: event } );\n\n                        // Start reticle timer\n                        if ( this.options.autoReticleSelect && this.options.enableReticle || this.tempEnableReticle ) {\n                            this.reticle.start( this.onTap.bind( this, event, 'click' ) );\n                        }\n\n                    }\n\n                }\n\n                if ( this.userMouse.type === 'mousedown' && this.pressEntityObject != intersect_entity ) {\n\n                    this.pressEntityObject = intersect_entity;\n\n                    if ( this.pressEntityObject.dispatchEvent ) {\n\n                        this.pressEntityObject.dispatchEvent( { type: 'pressstart-entity', mouseEvent: event } );\n\n                    }\n\n                }\n\n                if ( this.userMouse.type === 'mousedown' && this.pressObject != intersect ) {\n\n                    this.pressObject = intersect;\n\n                    if ( this.pressObject.dispatchEvent ) {\n\n                        this.pressObject.dispatchEvent( { type: 'pressstart', mouseEvent: event } );\n\n                    }\n\n                }\n\n                if ( this.userMouse.type === 'mousemove' || this.options.enableReticle ) {\n\n                    if ( intersect && intersect.dispatchEvent ) {\n\n                        intersect.dispatchEvent( { type: 'hover', mouseEvent: event } );\n\n                    }\n\n                    if ( this.pressEntityObject && this.pressEntityObject.dispatchEvent ) {\n\n                        this.pressEntityObject.dispatchEvent( { type: 'pressmove-entity', mouseEvent: event } );\n\n                    }\n\n                    if ( this.pressObject && this.pressObject.dispatchEvent ) {\n\n                        this.pressObject.dispatchEvent( { type: 'pressmove', mouseEvent: event } );\n\n                    }\n\n                }\n\n            }\n\n            if ( !intersect_entity && this.pressEntityObject && this.pressEntityObject.dispatchEvent ) {\n\n                this.pressEntityObject.dispatchEvent( { type: 'pressstop-entity', mouseEvent: event } );\n\n                this.pressEntityObject = undefined;\n\n            }\n\n            if ( !intersect && this.pressObject && this.pressObject.dispatchEvent ) {\n\n                this.pressObject.dispatchEvent( { type: 'pressstop', mouseEvent: event } );\n\n                this.pressObject = undefined;\n\n            }\n\n        }\n\n        // Infospot handler\n        if ( intersect && intersect instanceof Infospot ) {\n\n            this.infospot = intersect;\n\t\t\t\n            if ( type === 'click' ) {\n\n                return true;\n\n            }\n\t\t\t\n\n        } else if ( this.infospot ) {\n\n            this.hideInfospot();\n\n        }\n\n        // Auto rotate\n        if ( this.options.autoRotate && this.userMouse.type !== 'mousemove' ) {\n\n            // Auto-rotate idle timer\n            clearTimeout( this.autoRotateRequestId );\n\n            if ( this.control === this.OrbitControls ) {\n\n                this.OrbitControls.autoRotate = false;\n                this.autoRotateRequestId = window.setTimeout( this.enableAutoRate.bind( this ), this.options.autoRotateActivationDuration );\n\n            }\n\n        }\t\t\n\n    },\n\n    /**\n     * Get converted intersect\n     * @param {array} intersects \n     * @memberOf Viewer\n     * @instance\n     */\n    getConvertedIntersect: function ( intersects ) {\n\n        let intersect;\n\n        for ( let i = 0; i < intersects.length; i++ ) {\n\n            if ( intersects[i].distance >= 0 && intersects[i].object && !intersects[i].object.passThrough ) {\n\n                if ( intersects[i].object.entity && intersects[i].object.entity.passThrough ) {\n                    continue;\n                } else if ( intersects[i].object.entity && !intersects[i].object.entity.passThrough ) {\n                    intersect = intersects[i].object.entity;\n                    break;\n                } else {\n                    intersect = intersects[i].object;\n                    break;\n                }\n\n            }\n\n        }\n\n        return intersect;\n\n    },\n\n    /**\n     * Hide infospot\n     * @memberOf Viewer\n     * @instance\n     */\n    hideInfospot: function () {\n\n        if ( this.infospot ) {\n\n            this.infospot.onHoverEnd();\n\n            this.infospot = undefined;\n\n        }\n\n    },\n\n    /**\n     * Toggle control bar\n     * @memberOf Viewer\n     * @instance\n     * @fires Viewer#control-bar-toggle\n     */\n    toggleControlBar: function () {\n\n        const { widget } = this;\n\n        /**\n         * Toggle control bar event\n         * @type {object}\n         * @event Viewer#control-bar-toggle\n         */\n        if ( widget ) {\n\n            widget.dispatchEvent( { type: 'control-bar-toggle' } );\n\n        }\n\n    },\n\n    /**\n     * On key down\n     * @param {KeyboardEvent} event \n     * @memberOf Viewer\n     * @instance\n     */\n    onKeyDown: function ( event ) {\n\n        if ( this.options.output && this.options.output !== 'none' && event.key === 'Control' ) {\n\n            this.OUTPUT_INFOSPOT = true;\n\n        }\n\n    },\n\n    /**\n     * On key up\n     * @param {KeyboardEvent} event \n     * @memberOf Viewer\n     * @instance\n     */\n    onKeyUp: function () {\n\n        this.OUTPUT_INFOSPOT = false;\n\n    },\n\n    /**\n     * Update control and callbacks\n     * @memberOf Viewer\n     * @instance\n     */\n    update: function () {\n\n        Tween.update();\n\n        this.updateCallbacks.forEach( function( callback ){ callback(); } );\n\n        this.control.update();\n\n        this.scene.traverse( function( child ){\n            if ( child instanceof Infospot \n\t\t\t\t&& child.element \n\t\t\t\t&& ( this.hoverObject === child \n\t\t\t\t\t|| child.element.style.display !== 'none' \n\t\t\t\t\t|| (child.element.left && child.element.left.style.display !== 'none')\n\t\t\t\t\t|| (child.element.right && child.element.right.style.display !== 'none') ) ) {\n                if ( this.checkSpriteInViewport( child ) ) {\n                    const { x, y } = this.getScreenVector( child.getWorldPosition( new Vector3() ) );\n                    child.translateElement( x, y );\n                } else {\n                    child.onDismiss();\n                }\n\t\t\t\t\n            }\n        }.bind( this ) );\n\n    },\n\n    /**\n     * Rendering function to be called on every animation frame\n     * Render reticle last\n     * @memberOf Viewer\n     * @instance\n     */\n    render: function () {\n\n        if ( this.mode === MODES.CARDBOARD || this.mode === MODES.STEREO ) {\n\n            this.renderer.clear();\n            this.effect.render( this.scene, this.camera );\n            this.effect.render( this.sceneReticle, this.camera );\n\t\t\t\n\n        } else {\n\n            this.renderer.clear();\n            this.renderer.render( this.scene, this.camera );\n            this.renderer.clearDepth();\n            this.renderer.render( this.sceneReticle, this.camera );\n\n        }\n\n    },\n\n    /**\n     * Animate\n     * @memberOf Viewer\n     * @instance\n     */\n    animate: function () {\n\n        this.requestAnimationId = window.requestAnimationFrame( this.animate.bind( this ) );\n\n        this.onChange();\n\n    },\n\n    /**\n     * On change\n     * @memberOf Viewer\n     * @instance\n     */\n    onChange: function () {\n\n        this.update();\n        this.render();\n\n    },\n\n    /**\n     * Register mouse and touch event on container\n     * @memberOf Viewer\n     * @instance\n     */\n    registerMouseAndTouchEvents: function () {\n\n        const options = { passive: false };\n\n        this.container.addEventListener( 'mousedown' , \tthis.HANDLER_MOUSE_DOWN, options );\n        this.container.addEventListener( 'mousemove' , \tthis.HANDLER_MOUSE_MOVE, options );\n        this.container.addEventListener( 'mouseup'\t , \tthis.HANDLER_MOUSE_UP  , options );\n        this.container.addEventListener( 'touchstart', \tthis.HANDLER_MOUSE_DOWN, options );\n        this.container.addEventListener( 'touchend'  , \tthis.HANDLER_MOUSE_UP  , options );\n\n    },\n\n    /**\n     * Unregister mouse and touch event on container\n     * @memberOf Viewer\n     * @instance\n     */\n    unregisterMouseAndTouchEvents: function () {\n\n        this.container.removeEventListener( 'mousedown' ,  this.HANDLER_MOUSE_DOWN, false );\n        this.container.removeEventListener( 'mousemove' ,  this.HANDLER_MOUSE_MOVE, false );\n        this.container.removeEventListener( 'mouseup'\t,  this.HANDLER_MOUSE_UP  , false );\n        this.container.removeEventListener( 'touchstart',  this.HANDLER_MOUSE_DOWN, false );\n        this.container.removeEventListener( 'touchend'  ,  this.HANDLER_MOUSE_UP  , false );\n\n    },\n\n    /**\n     * Register reticle event\n     * @memberOf Viewer\n     * @instance\n     */\n    registerReticleEvent: function () {\n\n        this.addUpdateCallback( this.HANDLER_TAP );\n\n    },\n\n    /**\n     * Unregister reticle event\n     * @memberOf Viewer\n     * @instance\n     */\n    unregisterReticleEvent: function () {\n\n        this.removeUpdateCallback( this.HANDLER_TAP );\n\n    },\n\n    /**\n     * Update reticle event\n     * @memberOf Viewer\n     * @instance\n     */\n    updateReticleEvent: function () {\n\n        const clientX = this.container.clientWidth / 2 + this.container.offsetLeft;\n        const clientY = this.container.clientHeight / 2;\n\n        this.removeUpdateCallback( this.HANDLER_TAP );\n        this.HANDLER_TAP = this.onTap.bind( this, { clientX, clientY } );\n        this.addUpdateCallback( this.HANDLER_TAP );\n\n    },\n\n    /**\n     * Register container and window listeners\n     * @memberOf Viewer\n     * @instance\n     */\n    registerEventListeners: function () {\n\n        // Resize Event\n        window.addEventListener( 'resize' , this.HANDLER_WINDOW_RESIZE, true );\n\n        // Keyboard Event\n        window.addEventListener( 'keydown', this.HANDLER_KEY_DOWN, true );\n        window.addEventListener( 'keyup'  , this.HANDLER_KEY_UP\t , true );\n\n    },\n\n    /**\n     * Unregister container and window listeners\n     * @memberOf Viewer\n     * @instance\n     */\n    unregisterEventListeners: function () {\n\n        // Resize Event\n        window.removeEventListener( 'resize' , this.HANDLER_WINDOW_RESIZE, true );\n\n        // Keyboard Event\n        window.removeEventListener( 'keydown', this.HANDLER_KEY_DOWN, true );\n        window.removeEventListener( 'keyup'  , this.HANDLER_KEY_UP  , true );\n\n    },\n\n    /**\n     * Dispose all scene objects and clear cache\n     * @memberOf Viewer\n     * @instance\n     */\n    dispose: function () {\n\n        this.tweenLeftAnimation.stop();\n        this.tweenUpAnimation.stop();\n\n        // Unregister dom event listeners\n        this.unregisterEventListeners();\n\n        // recursive disposal on 3d objects\n        function recursiveDispose ( object ) {\n\n            for ( let i = object.children.length - 1; i >= 0; i-- ) {\n\n                recursiveDispose( object.children[i] );\n                object.remove( object.children[i] );\n\n            }\n\n            if ( object instanceof Panorama || object instanceof Infospot ) {\n\n                object.dispose();\n                object = null;\n\n            } else if ( object.dispatchEvent ){\n\n                object.dispatchEvent( 'dispose' );\n\n            }\n\n        }\n\n        recursiveDispose( this.scene );\n\n        // dispose widget\n        if ( this.widget ) {\n\n            this.widget.dispose();\n            this.widget = null;\n\n        }\n\n        // clear cache\n        if ( Cache && Cache.enabled ) {\n\n            Cache.clear();\n\n        }\n\n    },\n\n    /**\n     * Destroy viewer by disposing and stopping requestAnimationFrame\n     * @memberOf Viewer\n     * @instance\n     */\n    destroy: function () {\n\n        this.dispose();\n        this.render();\n        window.cancelAnimationFrame( this.requestAnimationId );\t\t\n\n    },\n\n    /**\n     * On panorama dispose\n     * @memberOf Viewer\n     * @instance\n     */\n    onPanoramaDispose: function ( panorama ) {\n\n        if ( panorama instanceof VideoPanorama ) {\n\n            this.hideVideoWidget();\n\n        }\n\n        if ( panorama === this.panorama ) {\n\n            this.panorama = null;\n\n        }\n\n    },\n\n    /**\n     * Load ajax call\n     * @param {string} url - URL to be requested\n     * @param {function} [callback] - Callback after request completes\n     * @memberOf Viewer\n     * @instance\n     */\n    loadAsyncRequest: function ( url, callback = () => {} ) {\n\n        const request = new window.XMLHttpRequest();\n        request.onloadend = function ( event ) {\n            callback( event );\n        };\n        request.open( 'GET', url, true );\n        request.send( null );\n\n    },\n\n    /**\n     * View indicator in upper left\n     * @memberOf Viewer\n     * @instance\n     */\n    addViewIndicator: function () {\n\n        const scope = this;\n\n        function loadViewIndicator ( asyncEvent ) {\n\n            if ( asyncEvent.loaded === 0 ) return;\n\n            const viewIndicatorDiv = asyncEvent.target.responseXML.documentElement;\n            viewIndicatorDiv.style.width = scope.viewIndicatorSize + 'px';\n            viewIndicatorDiv.style.height = scope.viewIndicatorSize + 'px';\n            viewIndicatorDiv.style.position = 'absolute';\n            viewIndicatorDiv.style.top = '10px';\n            viewIndicatorDiv.style.left = '10px';\n            viewIndicatorDiv.style.opacity = '0.5';\n            viewIndicatorDiv.style.cursor = 'pointer';\n            viewIndicatorDiv.id = 'panolens-view-indicator-container';\n\n            scope.container.appendChild( viewIndicatorDiv );\n\n            const indicator = viewIndicatorDiv.querySelector( '#indicator' );\n            const setIndicatorD = function () {\n\n                scope.radius = scope.viewIndicatorSize * 0.225;\n                scope.currentPanoAngle = scope.camera.rotation.y - Math$1.degToRad( 90 );\n                scope.fovAngle = Math$1.degToRad( scope.camera.fov ) ;\n                scope.leftAngle = -scope.currentPanoAngle - scope.fovAngle / 2;\n                scope.rightAngle = -scope.currentPanoAngle + scope.fovAngle / 2;\n                scope.leftX = scope.radius * Math.cos( scope.leftAngle );\n                scope.leftY = scope.radius * Math.sin( scope.leftAngle );\n                scope.rightX = scope.radius * Math.cos( scope.rightAngle );\n                scope.rightY = scope.radius * Math.sin( scope.rightAngle );\n                scope.indicatorD = 'M ' + scope.leftX + ' ' + scope.leftY + ' A ' + scope.radius + ' ' + scope.radius + ' 0 0 1 ' + scope.rightX + ' ' + scope.rightY;\n\n                if ( scope.leftX && scope.leftY && scope.rightX && scope.rightY && scope.radius ) {\n\n                    indicator.setAttribute( 'd', scope.indicatorD );\n\n                }\n\n            };\n\n            scope.addUpdateCallback( setIndicatorD );\n\n            const indicatorOnMouseEnter = function () {\n\n                this.style.opacity = '1';\n\n            };\n\n            const indicatorOnMouseLeave = function () {\n\n                this.style.opacity = '0.5';\n\n            };\n\n            viewIndicatorDiv.addEventListener( 'mouseenter', indicatorOnMouseEnter );\n            viewIndicatorDiv.addEventListener( 'mouseleave', indicatorOnMouseLeave );\n        }\n\n        this.loadAsyncRequest( DataImage.ViewIndicator, loadViewIndicator );\n\n    },\n\n    /**\n     * Append custom control item to existing control bar\n     * @param {object} [option={}] - Style object to overwirte default element style. It takes 'style', 'onTap' and 'group' properties.\n     * @memberOf Viewer\n     * @instance\n     */\n    appendControlItem: function ( option ) {\n\n        const item = this.widget.createCustomItem( option );\t\t\n\n        if ( option.group === 'video' ) {\n\n            this.widget.videoElement.appendChild( item );\n\n        } else {\n\n            this.widget.barElement.appendChild( item );\n\n        }\n\n        return item;\n\n    },\n\n    /**\n     * Clear all cached files\n     * @memberOf Viewer\n     * @instance\n     */\n    clearAllCache: function () {\n\n        Cache.clear();\n\n    }\n\n} );\n\nif ( REVISION$1 != THREE_REVISION ) {\n\n    console.warn( `three.js version is not matched. Please consider use the target revision ${THREE_REVISION}` );\n\n}\n\n/**\n * Panolens.js\n * @author pchen66\n * @namespace PANOLENS\n */\nwindow.TWEEN = Tween;\n\nexport { BasicPanorama, CONTROLS, CameraPanorama, CubePanorama, CubeTextureLoader, DataImage, EmptyPanorama, GoogleStreetviewPanorama, ImageLittlePlanet, ImageLoader, ImagePanorama, Infospot, LittlePlanet, MODES, Media, Panorama, REVISION, Reticle, THREE_REVISION, THREE_VERSION, TextureLoader, VERSION, VideoPanorama, Viewer, Widget };\n"],
  "mappings": "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",
  "names": ["REVISION", "title", "self", "x", "y", "offset", "ov"]
}
